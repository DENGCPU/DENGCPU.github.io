<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>CSSå¸ƒå±€04-æµ®åŠ¨float</title>
    <link href="/2021/02/09/CSS%E5%B8%83%E5%B1%8004-%E6%B5%AE%E5%8A%A8float/"/>
    <url>/2021/02/09/CSS%E5%B8%83%E5%B1%8004-%E6%B5%AE%E5%8A%A8float/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€æµ®åŠ¨çš„èƒŒæ™¯çŸ¥è¯†"><a href="#ä¸€ã€æµ®åŠ¨çš„èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="ä¸€ã€æµ®åŠ¨çš„èƒŒæ™¯çŸ¥è¯†"></a>ä¸€ã€æµ®åŠ¨çš„èƒŒæ™¯çŸ¥è¯†</h3><p>æœ€åˆï¼Œå¼•å…¥floatå±æ€§æ˜¯ä¸ºäº†è®©webå¼€å‘äººå‘˜å®ç°ç®€å•çš„å¸ƒå±€ï¼ŒåŒ…æ‹¬åœ¨ä¸€åˆ—æ–‡æœ¬ä¸­æµ®åŠ¨çš„å›¾åƒï¼Œæ–‡å­—ç¯ç»•åœ¨å®ƒçš„å·¦è¾¹æˆ–å³è¾¹ã€‚</p><p>ä½†æ˜¯ï¼Œå¼€å‘äººå‘˜å‘ç°ï¼Œä¸‡ç‰©çš†å¯æµ®åŠ¨ï¼Œè€Œä¸ä»…ä»…æ˜¯å›¾ç‰‡ï¼Œæ‰€ä»¥æµ®åŠ¨çš„ä½¿ç”¨èŒƒå›´æ‰©å¤§äº†ã€‚æµ®åŠ¨å±‚è¢«ç”¨æ¥å®ç°æ•´ä¸ªç½‘ç«™é¡µé¢çš„å¸ƒå±€ï¼Œå®ƒä½¿ä¿¡æ¯åˆ—å¾—ä»¥æ¨ªå‘æ’åˆ—ï¼ˆé»˜è®¤æ˜¯æŒ‰ç…§åœ¨æºç ä¸­å‡ºç°å¾—é¡ºåºçºµå‘æ’åˆ—ï¼‰ã€‚ç›®å‰å‡ºç°äº†æ›´æ–°æ›´å¥½çš„é¡µé¢å¸ƒå±€æŠ€æœ¯ï¼Œæ‰€ä»¥ä½¿ç”¨æµ®åŠ¨æ¥è¿›è¡Œé¡µé¢å¸ƒå±€æ˜¯ä¼ ç»Ÿçš„å¸ƒå±€æ–¹æ³•ä¹‹ä¸€ã€‚</p><h3 id="äºŒã€ä¸€ä¸ªç®€å•çš„æµ®åŠ¨ä¾‹å­"><a href="#äºŒã€ä¸€ä¸ªç®€å•çš„æµ®åŠ¨ä¾‹å­" class="headerlink" title="äºŒã€ä¸€ä¸ªç®€å•çš„æµ®åŠ¨ä¾‹å­"></a>äºŒã€ä¸€ä¸ªç®€å•çš„æµ®åŠ¨ä¾‹å­</h3><p>HTMLæ–‡ä»¶ï¼š</p><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Simple float example<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://mdn.mozillademos.org/files/13340/butterfly.jpg&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;A pretty butterfly with red, white, and brown coloring, sitting on a large leaf&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus aliquam dolor, eu lacinia lorem placerat vulputate. Duis felis orci, pulvinar id metus ut, rutrum luctus orci. Cras porttitor imperdiet nunc, at ultricies tellus laoreet sit amet. Sed auctor cursus massa at porta. Integer ligula ipsum, tristique sit amet orci vel, viverra egestas ligula. Curabitur vehicula tellus neque, ac ornare ex malesuada et. In vitae convallis lacus. Aliquam erat volutpat. Suspendisse ac imperdiet turpis. Aenean finibus sollicitudin eros pharetra congue. Duis ornare egestas augue ut luctus. Proin blandit quam nec lacus varius commodo et a urna. Ut id ornare felis, eget fermentum sapien.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Nam vulputate diam nec tempor bibendum. Donec luctus augue eget malesuada ultrices. Phasellus turpis est, posuere sit amet dapibus ut, facilisis sed est. Nam id risus quis ante semper consectetur eget aliquam lorem. Vivamus tristique elit dolor, sed pretium metus suscipit vel. Mauris ultricies lectus sed lobortis finibus. Vivamus eu urna eget velit cursus viverra quis vestibulum sem. Aliquam tincidunt eget purus in interdum. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre><p>CSSæ–‡ä»¶ï¼š</p><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;  <span class="hljs-attribute">width</span>: <span class="hljs-number">90%</span>;  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">900px</span>;  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;&#125;<span class="hljs-selector-tag">p</span> &#123;  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">2</span>;  <span class="hljs-attribute">word-spacing</span>: <span class="hljs-number">0.1rem</span>;&#125;</code></pre><p>æ–‡æœ¬æ’ç‰ˆå¦‚ä¸‹ï¼š<br><img src="https://img.imgdb.cn/item/60223e0f3ffa7d37b318d964.jpg"></p><p>ç°åœ¨æˆ‘ä»¬ç»™imgå…ƒç´ åŠ ä¸Šæµ®åŠ¨ï¼š</p><pre><code class="hljs css"><span class="hljs-selector-tag">img</span> &#123;  floatï¼šleft;  <span class="hljs-selector-tag">margin-right</span>: 30<span class="hljs-selector-tag">px</span>;&#125;</code></pre><p>åŸæ–‡æ¡£ç°åœ¨æ’ç‰ˆå¦‚ä¸‹ï¼š</p><p><img src="https://img.imgdb.cn/item/60223d9e3ffa7d37b318a540.jpg"></p><p>æµ®åŠ¨æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š æµ®åŠ¨å…ƒç´ imgä¼šè„±ç¦»æ­£å¸¸çš„æ–‡æ¡£å¸ƒå±€æµï¼Œå¹¶å¸é™„åˆ°å…¶çˆ¶å®¹å™¨ï¼ˆbodyå…ƒç´ ï¼‰çš„å·¦è¾¹ã€‚åœ¨æ­£å¸¸å¸ƒå±€ä¸­ä½äºè¯¥æµ®åŠ¨å…ƒç´ ä¹‹ä¸‹çš„å†…å®¹ï¼Œæ­¤æ—¶ä¼šå›´ç»•ç€æµ®åŠ¨å…ƒç´ ï¼Œå¡«æ»¡å…¶å³ä¾§çš„ç©ºé—´ã€‚</p><p>æµ®åŠ¨å…ƒç´ å†…å®¹ä»ç„¶éµå¾ªç›’å­æ¨¡å‹ï¼ˆå¤–è¾¹è·ï¼Œè¾¹ç•Œç­‰ï¼‰ï¼Œè®¾ç½®å›¾ç‰‡çš„å³ä¾§å¤–è¾¹è·å°±èƒ½é˜»æ­¢å³ä¾§çš„æ–‡å­—ç´§è´´ç€å›¾ç‰‡ã€‚å‘å³æµ®åŠ¨çš„å†…å®¹æ•ˆæœä¸€æ ·ï¼Œåªæ˜¯åè¿‡æ¥äº†â€”â€”æµ®åŠ¨å…ƒç´ ä¼šå¸é™„åœ¨çˆ¶å…ƒç´ çš„å³è¾¹ã€‚</p><h3 id="ä¸‰ã€é¦–å­—ä¸‹æ²‰æ¡ˆä¾‹"><a href="#ä¸‰ã€é¦–å­—ä¸‹æ²‰æ¡ˆä¾‹" class="headerlink" title="ä¸‰ã€é¦–å­—ä¸‹æ²‰æ¡ˆä¾‹"></a>ä¸‰ã€é¦–å­—ä¸‹æ²‰æ¡ˆä¾‹</h3><p>HTMLæ–‡ä»¶ï¼š</p><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is my very important paragraph. I am a distinguished gentleman of such renown that my paragraph needs to be styled in a manner befitting my majesty. Bow beforemy splendour, dear students, and go forth and learn CSS!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre><p>cssæ–‡ä»¶ï¼š</p><pre><code class="hljs css"><span class="hljs-selector-tag">p</span> &#123;    <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;&#125;<span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::first-line</span> &#123;    <span class="hljs-attribute">text-transform</span>: uppercase;&#125;<span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::first-letter</span> &#123;    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">3em</span>;    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;    <span class="hljs-attribute">background</span>: red;    <span class="hljs-attribute">float</span>: left;    <span class="hljs-attribute">padding</span>: <span class="hljs-number">2px</span>;    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">4px</span>;&#125;</code></pre><p>æœ€ç»ˆçš„å®ç°æ•ˆæœå¦‚ä¸‹ï¼š<br><img src="https://img.imgdb.cn/item/602240ad3ffa7d37b31a31c3.jpg" alt="é¦–å­—ä¸‹æ²‰"></p><h3 id="å››ã€å¤šåˆ—æµ®åŠ¨å¸ƒå±€"><a href="#å››ã€å¤šåˆ—æµ®åŠ¨å¸ƒå±€" class="headerlink" title="å››ã€å¤šåˆ—æµ®åŠ¨å¸ƒå±€"></a>å››ã€å¤šåˆ—æµ®åŠ¨å¸ƒå±€</h3><p>æµ®åŠ¨é€šå¸¸ç”¨äºåˆ›å»ºå¤šä¸ªåˆ—å¸ƒå±€ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€äº›å¥‡æ€ªçš„å‰¯ä½œç”¨ï¼Œåé¢å†è®¨è®ºã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸¤åˆ—å¸ƒå±€å’Œä¸‰åˆ—å¸ƒå±€æ˜¯å¦‚ä½•å®ç°çš„ã€‚</p><h4 id="4-1-ä¸¤åˆ—å¸ƒå±€"><a href="#4-1-ä¸¤åˆ—å¸ƒå±€" class="headerlink" title="4.1 ä¸¤åˆ—å¸ƒå±€"></a>4.1 ä¸¤åˆ—å¸ƒå±€</h4><p>HTMLæ–‡ä»¶ï¼š</p><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>2 column layout example<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>First column<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus aliquam dolor, eu lacinia lorem placerat vulputate. Duis felis orci, pulvinar id metus ut, rutrum luctus orci. Cras porttitor imperdiet nunc, at ultricies tellus laoreet sit amet. Sed auctor cursus massa at porta. Integer ligula ipsum, tristique sit amet orci vel, viverra egestas ligula. Curabitur vehicula tellus neque, ac ornare ex malesuada et. In vitae convallis lacus. Aliquam erat volutpat. Suspendisse ac imperdiet turpis. Aenean finibus sollicitudin eros pharetra congue. Duis ornare egestas augue ut luctus. Proin blandit quam nec lacus varius commodo et a urna. Ut id ornare felis, eget fermentum sapien.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Second column<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Nam vulputate diam nec tempor bibendum. Donec luctus augue eget malesuada ultrices. Phasellus turpis est, posuere sit amet dapibus ut, facilisis sed est. Nam id risus quis ante semper consectetur eget aliquam lorem. Vivamus tristique elit dolor, sed pretium metus suscipit vel. Mauris ultricies lectus sed lobortis finibus. Vivamus eu urna eget velit cursus viverra quis vestibulum sem. Aliquam tincidunt eget purus in interdum. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><p>CSSæ–‡ä»¶ï¼š</p><pre><code class="hljs css"><span class="hljs-comment">/* åœ¨å®½åº¦&lt;900pxæ—¶ï¼Œæ•´ä¸ªè§†å›¾çš„å®½åº¦å 90%</span><span class="hljs-comment">   åœ¨å®½åº¦&gt;900pxæ—¶ï¼Œå®ƒå°†ä¿æŒè¿™ä¸ªå®½åº¦ï¼Œå¹¶åœ¨è§†å£å±…ä¸­</span><span class="hljs-comment"> */</span><span class="hljs-selector-tag">body</span> &#123;    <span class="hljs-attribute">width</span>: <span class="hljs-number">90%</span>;    <span class="hljs-attribute">max-width</span>: <span class="hljs-number">900px</span>;    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;&#125;<span class="hljs-comment">/* </span><span class="hljs-comment">å·¦å³ä¸¤ä¸ªdivæ€»å 96%ï¼Œä¸¤è€…é—´çš„æ²Ÿæ§½å 4%</span><span class="hljs-comment"> */</span><span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-of-type(1)</span>&#123;    <span class="hljs-attribute">width</span>: <span class="hljs-number">48%</span>;    <span class="hljs-attribute">float</span>: left;&#125;<span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-of-type(2)</span>&#123;    <span class="hljs-attribute">width</span>: <span class="hljs-number">48%</span>;    <span class="hljs-attribute">float</span>: right;&#125;</code></pre><p>æœ€ç»ˆçš„æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src="https://img.imgdb.cn/item/602252c23ffa7d37b3232143.jpg" alt="ä¸¤åˆ—å¸ƒå±€"></p><p>è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬æ‰€æœ‰åˆ—ä½¿ç”¨å®½åº¦ç™¾åˆ†æ¯”â€”â€”è¿™ä¸ªç­–ç•¥ä¼šåˆ›å»ºä¸€ä¸ª<strong>æµå¼å¸ƒå±€</strong>ï¼ˆliquid layoutï¼‰ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„å±å¹•å°ºå¯¸è°ƒæ•´ï¼Œåœ¨è¾ƒå°çš„å°ºå¯¸ä¸‹ä¿æŒç›¸åŒçš„åˆ—å®½åº¦æ¯”ä¾‹ã€‚è¿™æ˜¯å“åº”å¼ç½‘é¡µè®¾è®¡çš„ä¸€ä¸ªæœ‰ä»·å€¼çš„å·¥å…·ã€‚</p><h4 id="4-2-ä¸‰åˆ—å¸ƒå±€"><a href="#4-2-ä¸‰åˆ—å¸ƒå±€" class="headerlink" title="4.2 ä¸‰åˆ—å¸ƒå±€"></a>4.2 ä¸‰åˆ—å¸ƒå±€</h4><p>æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å†è¿½åŠ ä¸€ä¸ªç¬¬ä¸‰åˆ—ï¼Œé€šè¿‡æ·»åŠ ä¸€ä¸ªdiv:</p><p>è¿½åŠ HTMLæ–‡ä»¶ï¼š</p><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Third column<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Nam consequat scelerisque mattis. Duis pulvinar dapibus magna, eget congue purus mollis sit amet. Sed euismod lacus sit amet ex tempus, a semper felis ultrices. Maecenas a efficitur metus. Nullam tempus pharetra pharetra. Morbi in leo mauris. Nullam gravida ligula eros, lacinia sagittis lorem fermentum ut. Praesent dapibus eros vel mi pretium, nec convallis nibh blandit. Sed scelerisque justo ac ligula mollis laoreet. In mattis, risus et porta scelerisque, augue neque hendrerit orci, sit amet imperdiet risus neque vitae lectus. In tempus lectus a quam posuere vestibulum. Duis quis finibus mi. Nullam commodo mi in enim maximus fermentum. Mauris finibus at lorem vel sollicitudin.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><p>æ›´æ–°CSSæ–‡ä»¶ï¼š</p><pre><code class="hljs css"><span class="hljs-selector-tag">body</span>&#123;    <span class="hljs-attribute">width</span>:<span class="hljs-number">90%</span>;    <span class="hljs-attribute">max-width</span>:<span class="hljs-number">900px</span>;    <span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span> auto;&#125;<span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-of-type(1)</span>&#123;    <span class="hljs-attribute">width</span>: <span class="hljs-number">36%</span>;    <span class="hljs-attribute">float</span>: left;&#125;<span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-of-type(2)</span>&#123;    <span class="hljs-attribute">width</span>: <span class="hljs-number">30%</span>;    <span class="hljs-attribute">float</span>: left;    <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">4%</span>;&#125;<span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-of-type(3)</span>&#123;    <span class="hljs-attribute">width</span>: <span class="hljs-number">26%</span>;    <span class="hljs-attribute">float</span>: right;&#125;</code></pre><p>ä¸‰åˆ—å¸ƒå±€å¦‚ä¸‹ï¼š</p><p><img src="https://img.imgdb.cn/item/602254c73ffa7d37b324135d.jpg" alt="ä¸‰åˆ—å¸ƒå±€"></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»è€ƒè™‘æ¸…æ¥šå°†åˆ—æ”¾åœ¨ä»€ä¹ˆä½ç½®ï¼Œä»¥åŠå¦‚ä½•æµ®åŠ¨ä»–ä»¬ï¼Œä»¥è·å¾—éœ€è¦çš„æ•ˆæœã€‚æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å°†ç¬¬äºŒåˆ—çš„floatå€¼æ”¹ä¸ºrightï¼Œé‚£ä¹ˆçš„ä¸‰ä¸ªdivçš„é¡ºåºå°†å˜ä¸ºï¼š</p><blockquote><p>div1 div3 div2</p></blockquote><p>è¿™æ˜¯å› ä¸ºdiv2çš„æºä»£ç é¡ºåºåœ¨div3ä¸Šï¼Œæ‰€ä»¥æµ®åŠ¨é¡ºåºç­‰çº§æ¯”div3é«˜ï¼Œä¸¤è€…åˆåŒæ—¶å³æµ®åŠ¨ï¼Œæ‰€ä»¥div2æ›´é å³ã€‚</p><h3 id="äº”ã€æ¸…é™¤æµ®åŠ¨"><a href="#äº”ã€æ¸…é™¤æµ®åŠ¨" class="headerlink" title="äº”ã€æ¸…é™¤æµ®åŠ¨"></a>äº”ã€æ¸…é™¤æµ®åŠ¨</h3><p>è®¾ç½®å…ƒç´ æµ®åŠ¨å¸¦æ¥çš„é—®é¢˜â€”â€”æ‰€æœ‰åœ¨æµ®åŠ¨ä¸‹é¢çš„è‡ªèº«ä¸æµ®åŠ¨çš„å†…å®¹å°†å›´ç»•æµ®åŠ¨å…ƒç´ è¿›è¡ŒåŒ…è£…ï¼Œå¦‚æœæ²¡æœ‰å¤„ç†è¿™äº›å…ƒç´ ï¼Œæ’ç‰ˆå°†å˜å¾—å¾ˆç³Ÿç³•ã€‚</p><p>ä¸¾ä¾‹ï¼šç°åœ¨åœ¨4.2çš„ä¾‹å­ä¸­è¿½åŠ ä¸€ä¸ªfooter<br>è¿½åŠ HTMLæ–‡ä»¶ï¼š</p><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-symbol">&amp;copy;</span>2016 your imagination. This isn&#x27;t really copyright, this is a mockery of the very concept. Use as you wish.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span></code></pre><p>æ’ç‰ˆå°†ä¼šå˜æˆè¿™æ ·ï¼š<br><img src="https://img.imgdb.cn/item/6022579e3ffa7d37b32588df.jpg" alt="æµ®åŠ¨çš„å½±å“"></p><p>ä½ ä¼šå‘ç°é¡µè„šåœ¨æœ€é•¿çš„åˆ—æ—è¾¹ç¯ç»•ç€ï¼Œè€Œæ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬å¸Œæœ›footerä¿æŒåœ¨æ‰€æœ‰åˆ—çš„ä¸‹é¢ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬ä¾¿éœ€è¦æ¸…é™¤æµ®åŠ¨ã€‚ä½¿ç”¨clearå±æ€§å¯ä»¥æ¸…é™¤æµ®åŠ¨ï¼Œå½“æŠŠè¿™ä¸ªå±æ€§åº”ç”¨åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šæ—¶ï¼Œå®ƒæ„å‘³ç€â€œæ­¤å¤„åœæ­¢æµ®åŠ¨â€â€”â€”è¿™ä¸ªå…ƒç´ å’Œæºç ä¸­åé¢çš„å…ƒç´ éƒ½å°†ä¸å†æµ®åŠ¨ï¼ˆé™¤éä½ è®¾ç½®äº†æ–°çš„floatåœ¨åé¢çš„å…ƒç´ èº«ä¸Šï¼‰</p><pre><code class="hljs css"><span class="hljs-selector-tag">footer</span> &#123;    clearï¼šboth;&#125;</code></pre><p>ç°åœ¨æ’ç‰ˆå°±æ­£å¸¸äº†ï¼š<br><img src="https://img.imgdb.cn/item/602258b03ffa7d37b326396b.jpg" alt="æ¸…é™¤æµ®åŠ¨"></p><p>clearå±æ€§å¯ä»¥å–ä¸‰ä¸ªå€¼ï¼š</p><ul><li>left: åœæ­¢ä»»ä½•æ´»åŠ¨çš„å·¦æµ®åŠ¨</li><li>right: åœæ­¢ä»»ä½•æ´»åŠ¨çš„å³æµ®åŠ¨</li><li>both: åœæ­¢ä»»ä½•æ´»åŠ¨çš„å·¦å³æµ®åŠ¨</li></ul><p><strong>1.æ¸…é™¤æµ®åŠ¨çš„æœ¬è´¨</strong></p><p><strong>æ¸…é™¤æµ®åŠ¨</strong>ï¼šæœ¬è´¨æ˜¯ä¸ºè§£å†³çˆ¶çº§å…ƒç´ å› ä¸ºå­çº§å…ƒç´ æµ®åŠ¨è€Œå¼•èµ·é«˜åº¦ä¸º0çš„é—®é¢˜ã€‚</p><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¸æ–¹ä¾¿ç»™çˆ¶ç›’å­ä¸€ä¸ªç¡®å®šçš„é«˜åº¦ï¼Œå› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“æœ‰å¤šå°‘å­ç›’å­ï¼Œæœ‰å¤šå°‘å†…å®¹ï¼Œé€šå¸¸éƒ½æ˜¯è®©å†…å®¹æ¥æ’‘å¼€çˆ¶ç›’å­çš„é«˜åº¦ã€‚</p><p>ä½†æ˜¯å¦‚æœçˆ¶ç›’å­ä¸­æœ‰å­ç›’å­æµ®åŠ¨äº†ä¹‹åï¼Œå°±ä¼šå½±å“åˆ°åé¢çš„ç›’å­ã€‚å› ä¸ºæµ®åŠ¨å…ƒç´ è„±ç¦»äº†æ ‡å‡†æµï¼Œä¼šæŠŠåé¢è¿˜åœ¨æ ‡å‡†æµçš„ç›’å­è¦†ç›–ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•å°±æ˜¯<strong>æ¸…é™¤æµ®åŠ¨</strong></p><p>åŸç†å›¾:<br><img src="https://img.imgdb.cn/item/60234d5c3ffa7d37b387e061.jpg" alt="æ¸…é™¤æµ®åŠ¨åŸç†å›¾"></p><p><strong>2.å¸¸è§çš„æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•ï¼š</strong></p><p>æ¸…é™¤æµ®åŠ¨å…¶å®å«åšé—­åˆæµ®åŠ¨æ›´åˆé€‚ï¼Œå› ä¸ºæ˜¯æŠŠæµ®åŠ¨çš„å…ƒç´ åœˆèµ·æ¥ï¼Œè®©çˆ¶å…ƒç´ é—­åˆå‡ºå£å’Œå…¥å£ä¸ç„¶ä»–ä»¬å‡ºæ¥å½±å“å…¶ä»–çš„å…ƒç´ ã€‚ä¸Šæ–‡çš„ä¾‹å­ä¸­å·²ç»æåˆ°ï¼ŒCSSä¸­ç”¨äºæ¸…é™¤æµ®åŠ¨çš„æ˜¯clearå±æ€§ã€‚</p><p><font color=green>ï¼ˆ1ï¼‰é¢å¤–æ ‡ç­¾æ³•:</font></p><ul><li>å°¾éƒ¨æ ‡ç­¾æ³•ï¼šé€šè¿‡åœ¨<strong>æµ®åŠ¨å…ƒç´ çš„æœ«å°¾</strong>æ·»åŠ ä¸€ä¸ªç©ºæ ‡ç­¾ã€‚è¿™æ—¶W3Cæ¨èçš„ç”¨æ³•ï¼Œè™½ç„¶ç®€å•ä½†æ˜¯æ·»åŠ äº†æ— æ„ä¹‰çš„æ ‡ç­¾ï¼Œå¯¼è‡´ç»“æ„åŒ–è¾ƒå·®ï¼Œæ‰€ä»¥ä¸æ¨èä½¿ç”¨ã€‚<br>ä¸‰ç§å†™æ³•ï¼š<pre><code class="hljs html"><span class="hljs-comment">&lt;!-- ç¬¬ä¸€ç§ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;clear:both&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-comment">&lt;!-- ç¬¬äºŒç§ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;clear&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>.clear &#123;clear: both&#125;<span class="hljs-comment">&lt;!-- ç¬¬ä¸‰ç§ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;clear&#x27;</span> /&gt;</span>.clear &#123;clear: both&#125;</code></pre></li><li>å†…éƒ¨æ ‡ç­¾æ³•ï¼šæŠŠdivæ”¾è¿›çˆ¶ç›’å­é‡Œï¼Œç›’å­ä¼šæ’‘å¼€ï¼Œä¸€èˆ¬ä¹Ÿä¸ç”¨ã€‚</li></ul><p><font color=green>ï¼ˆ2ï¼‰çˆ¶å…ƒç´ æ·»åŠ overflowæ³•:</font></p><p>ç»™çˆ¶çº§å…ƒç´ æ·»åŠ overflowçš„æ ·å¼ï¼Œä¹Ÿå¯ä»¥æ¸…é™¤æµ®åŠ¨ã€‚ä½†æ˜¯å› ä¸ºoverflowçš„æœ¬è´¨æ˜¯æº¢å‡ºéšè—çš„æ•ˆæœï¼Œæ‰€ä»¥ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼ˆæ¯”å¦‚å†…å®¹å¢å¤šçš„æ—¶å€™ä¸ä¼šè‡ªè¡Œæ¢è¡Œå¯¼è‡´å†…å®¹è¢«éšè—æ‰ï¼Œæ— æ³•æ˜¾ç¤ºå‡ºè¦æº¢å‡ºçš„å…ƒç´ ï¼‰</p><pre><code class="hljs css"><span class="hljs-selector-class">.father</span> &#123;  <span class="hljs-attribute">overflow</span>: auto;  <span class="hljs-comment">/* overflow: hidden|auto|scroll</span><span class="hljs-comment">  éƒ½å¯ä»¥å®ç°æ¸…é™¤æµ®åŠ¨ */</span>&#125;</code></pre><p><font color=green>ï¼ˆ3ï¼‰âœ¨ä¼ªå…ƒç´ æ³•:</font></p><p>ä¼ªå…ƒç´ æ³•æ˜¯æœ€å¸¸ç”¨çš„æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><strong>afterä¼ªå…ƒç´ æ³•</strong>ï¼š</li></ul><p>åœ¨çˆ¶å…ƒç´ ä¸ŠåŠ ä¸€ä¸ªç±»åclearfixã€‚afteråœ¨çˆ¶å…ƒç´ ä¸­åŠ ä¸€ä¸ªç›’å­ï¼Œè¿™ä¸ªå…ƒç´ æ˜¯é€šè¿‡cssæ·»åŠ çš„ï¼Œç¬¦åˆé—­åˆæµ®åŠ¨æ€æƒ³ï¼Œç»“æ„è¯­ä¹‰åŒ–æ­£ç¡®ã€‚</p><p>ä½†æ˜¯è¿™ä¸ªæ–¹æ³•IE6ï¼Œ7ä¸è¯†åˆ«ï¼Œè¦è¿›è¡Œå…¼å®¹çš„è¯ï¼Œéœ€è¦ä½¿ç”¨<code>zoom:1</code>è§¦å‘hasLayoutæ¥æ¸…é™¤æµ®åŠ¨ã€‚</p><p>ä»£è¡¨ç½‘ç«™ï¼šç™¾åº¦ï¼Œç½‘æ˜“ï¼Œæ·˜å®ç­‰</p><pre><code class="hljs css"><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::after</span>&#123;  <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;.&#x27;</span>; <span class="hljs-comment">/*å°½é‡ä¸è¦ä¸ºç©ºï¼Œä¸€èˆ¬å†™ä¸€ä¸ªç‚¹*/</span>  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;  <span class="hljs-comment">/*ç›’å­é«˜åº¦ä¸º0ï¼Œçœ‹ä¸è§*/</span>  <span class="hljs-attribute">display</span>: block;  <span class="hljs-comment">/*æ’å…¥ä¼ªå…ƒç´ æ˜¯è¡Œå†…å…ƒç´ ï¼Œè¦è½¬åŒ–ä¸ºå—çº§å…ƒç´ */</span>  <span class="hljs-attribute">visibility</span>: hidden; <span class="hljs-comment">/*contentæœ‰å†…å®¹ï¼Œå°†å…ƒç´ éšè—*/</span>  <span class="hljs-attribute">clear</span>: both;&#125;<span class="hljs-selector-class">.clearfix</span> &#123;  *zoom: 1; /*åªæœ‰IE6ï¼Œ7è¯†åˆ«*/&#125;</code></pre><blockquote><p>åœ¨Unicodeå­—ç¬¦é‡Œæœ‰ä¸€ä¸ªâ€œé›¶å®½åº¦ç©ºæ ¼â€,çº§U+200Bï¼Œä»£æ›¿â€.â€ï¼Œå¯ä»¥å‡å°‘ä»£ç é‡ï¼Œä¸éœ€è¦å†ä½¿ç”¨<code>visibility:hidden</code></p></blockquote><p>ä»£è¡¨ç½‘ç«™ï¼šé˜¿é‡Œå·´å·´</p><pre><code class="hljs css"><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::after</span>&#123;    <span class="hljs-attribute">content</span>:<span class="hljs-string">&quot;\200B&quot;</span>;   <span class="hljs-comment">/* content:&#x27;\0200&#x27;; ä¹Ÿå¯ä»¥ */</span>    <span class="hljs-attribute">display</span>:block;    <span class="hljs-attribute">height</span>:<span class="hljs-number">0</span>;    <span class="hljs-attribute">clear</span>:both;&#125;<span class="hljs-selector-class">.clearfix</span> &#123;    *zoom: 1; &#125;</code></pre><ul><li><strong>beforeå’ŒafteråŒä¼ªå…ƒç´ æ³•ï¼š</strong>ï¼ˆæ¨èï¼‰</li></ul><p>å®Œå…¨ç¬¦åˆé—­åˆæµ®åŠ¨æ€æƒ³çš„æ–¹æ³•ã€‚</p><p>åšæ³•ï¼šç»™çˆ¶å…ƒç´ åŠ ä¸€ä¸ªç±»åclearfix ï¼Œéœ€è¦å…¼å®¹IE6ï¼Œ7</p><p>ä»£ç ç½‘ç«™ï¼šå°ç±³ï¼Œè…¾è®¯</p><pre><code class="hljs css"><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">:before</span>, <span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">:after</span>&#123;  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>,  display: table;&#125;<span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">:after</span> &#123;  <span class="hljs-attribute">clear</span>: both;&#125;<span class="hljs-selector-class">.clearfix</span> &#123;  *zoom: 1;&#125;</code></pre><p>å‚è€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/CSS_layout/Floats">MDNâ€“æµ®åŠ¨float</a></p>]]></content>
    
    
    <categories>
      
      <category>CSSå¸ƒå±€</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>CSSå¸ƒå±€03--Gridå¸ƒå±€</title>
    <link href="/2021/02/08/CSS%E5%B8%83%E5%B1%8003-Grid%E5%B8%83%E5%B1%80/"/>
    <url>/2021/02/08/CSS%E5%B8%83%E5%B1%8003-Grid%E5%B8%83%E5%B1%80/</url>
    
    <content type="html"><![CDATA[<p>ä¸Šä¸€èŠ‚ä¸­è®²åˆ°çš„Flexboxå¸ƒå±€ç”¨æˆ·è®¾è®¡æ¨ªå‘æˆ–çºµå‘çš„å¸ƒå±€ï¼Œè€ŒGridå¸ƒå±€åˆ™è¢«è®¾è®¡ç”¨äºåŒæ—¶åœ¨ä¸¤ä¸ªç»´åº¦ä¸ŠæŠŠå…ƒç´ æŒ‰è¡Œå’Œåˆ—æ’åˆ—æ•´é½ã€‚<br>åŒflexä¸€æ ·ï¼Œå¯ä»¥æŒ‡å®šdisplayå±æ€§æ¥å®ç°gridå¸ƒå±€ï¼š<code>display: grid</code> ã€‚gridå¸ƒå±€åˆå«ç½‘æ ¼å¸ƒå±€ã€‚</p><h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯ç½‘æ ¼å¸ƒå±€ï¼Ÿ"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯ç½‘æ ¼å¸ƒå±€ï¼Ÿ" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯ç½‘æ ¼å¸ƒå±€ï¼Ÿ"></a>ä¸€ã€ä»€ä¹ˆæ˜¯ç½‘æ ¼å¸ƒå±€ï¼Ÿ</h3><p>ç½‘æ ¼æ˜¯ä¸€ç³»åˆ—æ°´å¹³åŠå‚ç›´çš„çº¿æ„æˆçš„ä¸€ç§å¸ƒå±€æ¨¡å¼ã€‚æ ¹æ®ç½‘æ ¼ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°†è®¾è®¡å…ƒç´ è¿›è¡Œæ’åˆ—ï¼Œå¸®åŠ©æˆ‘ä»¬è®¾è®¡å‡ºä¸€ç³»åˆ—å…·æœ‰å›ºå®šä½ç½®ä»¥åŠå®½åº¦çš„å…ƒç´ çš„é¡µé¢ã€‚</p><p>ä¸€ä¸ªç½‘æ ¼é€šå¸¸å…·æœ‰è®¸å¤šçš„åˆ—ï¼ˆcolumnï¼‰å’Œè¡Œï¼ˆrowï¼‰ï¼Œä»¥åŠè¡Œä¸è¡Œã€åˆ—ä¸åˆ—ä¹‹é—´çš„é—´éš™ï¼ˆäº¦ç§°æ²Ÿæ§½ï¼Œgutterï¼‰ç»„æˆã€‚<br><img src="https://img.imgdb.cn/item/6020eb233ffa7d37b38dd0c6.jpg" alt="ç½‘æ ¼"></p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>One<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Two<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Three<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Four<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Five<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Six<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Seven<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå­é¡¹æŒ‰ç…§æ­£å¸¸å¸ƒå±€æµè‡ªå®šå‘ä¸‹æ’å¸ƒã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="https://img.imgdb.cn/item/6020ec363ffa7d37b38e6dac.jpg"></p><p>ç°åœ¨æˆ‘ä»¬é€ä¸€åŠ ä¸Šæ ·å¼ï¼Œæ¥äº†è§£ç½‘æ ¼æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><h3 id="äºŒã€å®šä¹‰ç½‘æ ¼ï¼š"><a href="#äºŒã€å®šä¹‰ç½‘æ ¼ï¼š" class="headerlink" title="äºŒã€å®šä¹‰ç½‘æ ¼ï¼š"></a>äºŒã€å®šä¹‰ç½‘æ ¼ï¼š</h3><p>ä¸flexå¸ƒå±€ä¸€æ ·ï¼Œæˆ‘ä»¬æ˜¯å¯¹çˆ¶å…ƒç´ æ·»åŠ æ ·å¼ï¼Œä½¿å…¶æ”¹ä¸º<strong>ç½‘æ ¼å®¹å™¨</strong>ï¼Œå®ƒçš„ç›´æ¥å­é¡¹ä¼šå˜ä¸º<strong>ç½‘æ ¼é¡¹</strong></p><pre><code class="hljs css"><span class="hljs-selector-class">.container</span>&#123;    <span class="hljs-attribute">display</span>: grid;&#125;</code></pre><p>ä¸flexå¸ƒå±€ä¸åŒçš„æ˜¯ï¼Œåœ¨å®šä¹‰ç½‘æ ¼åï¼Œä½ çš„ç½‘é¡µå¹¶ä¸ä¼šé©¬ä¸Šå‘ç”Ÿå˜åŒ–ã€‚å› ä¸º<code>display:grid</code> çš„å£°æ˜åªåˆ›å»ºäº†ä¸€ä¸ªåªè¦ä¸€åˆ—çš„ç½‘æ ¼ï¼Œæ‰€æœ‰çš„å­é¡¹è¿˜æ˜¯åƒæ­£å¸¸å¸ƒå±€æµé‚£æ ·ä¸€ä¸ªæ¥ä¸€ä¸ªçš„ä¸Šä¸‹æ’åˆ—ã€‚<br>ä¸ºäº†è®©æˆ‘ä»¬çš„å®¹å™¨æ›´åƒä¸€ä¸ªç½‘æ ¼ï¼Œæˆ‘ä»¬è¦ç»™åˆšå®šä¹‰çš„ç½‘æ ¼åŠ ä¸€äº›åˆ—ã€‚ç°åœ¨åŠ ä¸Šä¸‰ä¸ª200pxçš„åˆ—ï¼ˆè¿™é‡Œå¯ä»¥ä½¿ç”¨ä»»ä½•å•ä½é•¿åº¦ï¼Œç”šè‡³æ˜¯ç™¾åˆ†æ¯”ï¼‰</p><pre><code class="hljs css"><span class="hljs-selector-class">.container</span>&#123;    <span class="hljs-attribute">display</span>: grid;    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">200px</span> <span class="hljs-number">200px</span> <span class="hljs-number">200px</span>;&#125;</code></pre><p>ç°åœ¨ä½ çš„ç½‘é¡µå°†å˜ä¸ºä¸‹é¢è¿™ç§ï¼š<br><img src="https://img.imgdb.cn/item/6020ee2b3ffa7d37b38f7578.jpg"></p><h3 id="ä¸‰ã€ä½¿ç”¨frå•ä½çš„çµæ´»ç½‘æ ¼"><a href="#ä¸‰ã€ä½¿ç”¨frå•ä½çš„çµæ´»ç½‘æ ¼" class="headerlink" title="ä¸‰ã€ä½¿ç”¨frå•ä½çš„çµæ´»ç½‘æ ¼"></a>ä¸‰ã€ä½¿ç”¨frå•ä½çš„çµæ´»ç½‘æ ¼</h3><p>é™¤äº†ä½¿ç”¨é•¿åº¦å’Œç™¾åˆ†æ¯”ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨frè¿™ä¸ªå•ä½çµæ´»å®šä¹‰ç½‘æ ¼çš„è¡Œä¸åˆ—çš„å¤§å°ã€‚è¿™ä¸ªå•ä½è¡¨ç¤ºå¯ç”¨ç©ºé—´çš„ä¸€ä¸ªæ¯”ä¾‹ã€‚</p><pre><code class="hljs css"><span class="hljs-selector-class">.container</span>&#123;    <span class="hljs-attribute">display</span>: grid;    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">2</span>fr <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr;&#125;</code></pre><p>è¿™é‡Œï¼Œç¬¬ä¸€åˆ—è¢«åˆ†é…äº†2frçš„å¯ç”¨ç©ºé—´ï¼Œä½™ä¸‹çš„ä¸¤åˆ—éƒ½å„è¢«åˆ†é…äº†1frçš„å¯ç”¨ç©ºé—´ï¼Œè¿™ä¼šä½¿å¾—ç¬¬ä¸€åˆ—çš„å®½åº¦æ˜¯ç¬¬äºŒä¸‰åˆ—çš„ä¸¤å€ã€‚æ¯ä¸€åˆ—çš„å®½åº¦éƒ½ä¼šéšç€å¯ç”¨ç©ºé—´å˜å°è€Œå˜å°ã€‚</p><p>å¦å¤–ï¼Œfrå¯ä»¥ä¸ä¸€èˆ¬çš„é•¿åº¦å•ä½æ··åˆä½¿ç”¨ï¼Œæ¯”å¦‚<code>grid-template-columns: 200px 2fr 1fr</code>ï¼Œé‚£ä¹ˆç¬¬ä¸€åˆ—çš„å®½åº¦æ˜¯200px,å‰©ä¸‹çš„ä¸¤åˆ—ä¼šæ ¹æ®é™¤å»200pxåçš„å¯ç”¨ç©ºé—´æŒ‰ç…§æ¯”ä¾‹åˆ†é…ã€‚</p><p>ğŸ–ï¼šfrå•ä½åˆ†é…çš„æ˜¯â€œå¯ç”¨ç©ºé—´â€ è€Œä¸æ˜¯â€œæ‰€æœ‰ç©ºé—´â€ï¼Œå¦‚æœæŸä¸€æ ¼åŒ…å«çš„å†…å®¹å˜å¤šï¼Œé‚£ä¹ˆæ•´ä¸ªå¯ç”¨ç©ºé—´å°±å‡å°‘ã€‚</p><h3 id="å››ã€ç½‘æ ¼é—´éš™"><a href="#å››ã€ç½‘æ ¼é—´éš™" class="headerlink" title="å››ã€ç½‘æ ¼é—´éš™"></a>å››ã€ç½‘æ ¼é—´éš™</h3><p>ä½¿ç”¨grid-column-gapå±æ€§å®šä¹‰åˆ—é—´éš™ï¼›ä½¿ç”¨gird-row-gapå±æ€§å®šä¹‰è¡Œé—´éš™ï¼›ä½¿ç”¨grid-gapå¯ä»¥åŒæ—¶è®¾å®šä¸¤è€…ã€‚</p><p>é—´éš™è·ç¦»å¯ä»¥ä½¿ç”¨ä»»ä½•é•¿åº¦å•ä½åŒ…æ‹¬ç™¾åˆ†æ¯”å•ä½è¡¨ç¤ºï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨frå•ä½ã€‚</p><pre><code class="hljs css"><span class="hljs-selector-class">.container</span>&#123;    <span class="hljs-attribute">display</span>: grid;    <span class="hljs-attribute">grid-temmplate-columns</span>: <span class="hljs-number">2</span>fr <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr;    <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">20px</span>;&#125;</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src="https://img.imgdb.cn/item/6020f1903ffa7d37b3915514.jpg"><br><img src="https://img.imgdb.cn/item/6020f1c73ffa7d37b39171c8.jpg"></p><p>ğŸ–ï¼šgrid-gapå±æ€§ç°åœ¨ä¹Ÿå†™ä½œgapå±æ€§ï¼Œç›®çš„æ˜¯è®©å®ƒä»¬èƒ½å¤Ÿåœ¨ä¸åŒçš„å¸ƒå±€æ–¹æ³•ä¸­éƒ½èµ·ä½œç”¨ã€‚ä¸ºäº†ä»£ç çš„å¥å£®æ€§ï¼Œä½ å¯ä»¥æŠŠä¸¤ä¸ªå±æ€§éƒ½å†™ä¸Šã€‚</p><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;  <span class="hljs-attribute">display</span>: grid;  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">2</span>fr <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr;  <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">20px</span>;  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;&#125;</code></pre><h3 id="äº”ã€é‡å¤æ„å»ºè¡Œ-åˆ—"><a href="#äº”ã€é‡å¤æ„å»ºè¡Œ-åˆ—" class="headerlink" title="äº”ã€é‡å¤æ„å»ºè¡Œ/åˆ—"></a>äº”ã€é‡å¤æ„å»ºè¡Œ/åˆ—</h3><p>å¯ä»¥ä½¿ç”¨repeatæ¥é‡å¤æ„å»ºå…·æœ‰æŸäº›å®½åº¦é…ç½®çš„æŸäº›åˆ—ã€‚</p><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;    <span class="hljs-attribute">display</span>: grid;    <span class="hljs-attribute">grid-template-columns</span>:<span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>fr);    <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">20px</span>;&#125;</code></pre><p>è¿™é‡Œå¾—åˆ°äº†3ä¸ª1frçš„åˆ—ï¼Œç¬¬ä¸€ä¸ªä¼ å…¥repeatå‡½æ•°çš„å€¼ï¼ˆ3ï¼‰è¡¨æ˜äº†åç»­åˆ—å®½çš„é…ç½®è¦é‡å¤å¤šå°‘æ¬¡ï¼Œç¬¬äºŒä¸ªå€¼ï¼ˆ1frï¼‰è¡¨ç¤ºéœ€è¦é‡å¤çš„æ„å»ºé…ç½®ï¼Œè¿™ä¸ªé…ç½®å¯ä»¥å…·æœ‰å¤šä¸ªé•¿åº¦è®¾å®šï¼Œä¾‹å¦‚repeat(2,2fr,1fr)ï¼Œè¿™ç›¸å½“äºå¡«å…¥äº†2fr,1fr,2fr,1fr</p><h4 id="å…­ã€æ˜¾å¼ç½‘æ ¼ä¸éšå¼ç½‘æ ¼"><a href="#å…­ã€æ˜¾å¼ç½‘æ ¼ä¸éšå¼ç½‘æ ¼" class="headerlink" title="å…­ã€æ˜¾å¼ç½‘æ ¼ä¸éšå¼ç½‘æ ¼"></a>å…­ã€æ˜¾å¼ç½‘æ ¼ä¸éšå¼ç½‘æ ¼</h4><p>æ˜¾å¼ç½‘æ ¼æ˜¯æˆ‘ä»¬ç”¨grid-template-columnsæˆ–grid-template-rowså±æ€§æ„å»ºçš„ã€‚è€Œéšå¼ç½‘æ ¼åˆ™æ˜¯å½“æœ‰å†…å®¹è¢«æ”¾åˆ°ç½‘æ ¼å¤–æ—¶æ‰ä¼šç”Ÿæˆçš„ã€‚ç®€å•åœ°è¯´ï¼Œéšå¼ç½‘æ ¼å°±æ˜¯ä¸ºäº†æ”¾æ˜¾å¼ç½‘æ ¼æ”¾ä¸ä¸‹çš„å…ƒç´ ï¼Œæµè§ˆå™¨æ ¹æ®å·²ç»å®šä¹‰çš„æ˜¾ç¤ºç½‘æ ¼è‡ªåŠ¨ç”Ÿæˆçš„ç½‘æ ¼éƒ¨åˆ†ã€‚</p><p>éšå¼ç½‘æ ¼ä¸­ç”Ÿæˆçš„è¡Œ/åˆ—å¤§å°çš„é»˜è®¤å‚æ•°æ˜¯autoï¼Œå¤§å°ä¼šæ ¹æ®æ”¾å…¥çš„å†…å®¹è‡ªåŠ¨è°ƒæ•´ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨grid-auto-rows/grid-auto-columnså±æ€§æ‰‹åŠ¨è®¾å®šéšå¼ç½‘æ ¼çš„å¤§å°ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨å°†ä¸Šé¢æ¡ˆä¾‹ä¸­çš„éšå¼ç½‘æ ¼ä¸­çš„è¡Œè®¾ä¸º100px:</p><pre><code class="hljs css"><span class="hljs-selector-class">.container</span>&#123;    <span class="hljs-attribute">display</span>: grid;    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>fr);    <span class="hljs-attribute">grid-auto-rows</span>: <span class="hljs-number">100px</span>;    <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">20px</span>;&#125;</code></pre><p>åˆ™ç½‘æ ¼çš„æ ·å¼å¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="https://img.imgdb.cn/item/6021f0a23ffa7d37b3f5dd99.jpg"><br><img src="https://img.imgdb.cn/item/6021f0c03ffa7d37b3f5eeca.jpg"></p><p>ä½ å¯ä»¥çœ‹åˆ°é‚£äº›éšå¼ç½‘æ ¼ä¸­çš„è¡Œï¼ˆå› ä¸ºè¿™ä¸ªä¾‹å­é‡Œæ²¡æœ‰è®¾ç½®grid-template-rows,å› æ­¤æ‰€æœ‰çš„è¡Œéƒ½ä½äºéšå¼ç½‘æ ¼å†…ï¼‰ç°åœ¨éƒ½æ˜¯100åƒç´ é«˜äº†ã€‚</p><h4 id="ä¸ƒã€æ–¹ä¾¿çš„minmax-å‡½æ•°"><a href="#ä¸ƒã€æ–¹ä¾¿çš„minmax-å‡½æ•°" class="headerlink" title="ä¸ƒã€æ–¹ä¾¿çš„minmax()å‡½æ•°"></a>ä¸ƒã€æ–¹ä¾¿çš„minmax()å‡½æ•°</h4><p>å°†è¡Œ/åˆ—è®¾æ­»ä¸º100pxæ—¶ï¼Œæˆ‘ä»¬è¦æ–¹è¿›å»çš„å†…å®¹å¯èƒ½ä¼šè¶…è¿‡100åƒç´ ã€‚æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›å¯ä»¥å°†è¡Œ/åˆ—è®¾ä¸ºâ€œè‡³å°‘100pxâ€,è€Œä¸”å¯ä»¥è·Ÿéšå†…å®¹æ¥è‡ªåŠ¨æ‹“å±•å°ºå¯¸ä¿è¯èƒ½å®¹çº³æ‰€æœ‰å†…å®¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ‰äº†minmax()å‡½æ•°ã€‚</p><p>minmaxå‡½æ•°ä¸ºä¸€ä¸ªè¡Œ/åˆ—çš„å°ºå¯¸è®¾ç½®äº†å–å€¼èŒƒå›´ï¼Œæ¯”å¦‚è®¾å®šä¸º<code>minmax(100px,auto)</code>ï¼Œé‚£ä¹ˆå°ºå¯¸å°±è‡³å°‘ä¸º100åƒç´ ï¼Œå¹¶ä¸”å¦‚æœå†…å®¹å°ºå¯¸å¤§äº100åƒç´ åˆ™ä¼šæ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´ã€‚</p><pre><code class="hljs css"><span class="hljs-selector-class">.container</span>&#123;    <span class="hljs-attribute">display</span>: grid;    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>fr);    <span class="hljs-attribute">grid-auto-rows</span>: <span class="hljs-built_in">minmax</span>(<span class="hljs-number">100px</span>,auto);    <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">20px</span>;&#125;</code></pre><h4 id="å…«ã€è‡ªåŠ¨ä½¿ç”¨å¤šåˆ—å¡«å……"><a href="#å…«ã€è‡ªåŠ¨ä½¿ç”¨å¤šåˆ—å¡«å……" class="headerlink" title="å…«ã€è‡ªåŠ¨ä½¿ç”¨å¤šåˆ—å¡«å……"></a>å…«ã€è‡ªåŠ¨ä½¿ç”¨å¤šåˆ—å¡«å……</h4><p>ç°åœ¨æŠŠrepeatä¸minmaxå‡½æ•°ç»„åˆèµ·æ¥ï¼Œæ¥å®ç°ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„åŠŸèƒ½ã€‚æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è®©ç½‘æ ¼è‡ªåŠ¨åˆ›å»ºå¾ˆå¤šåˆ—æ¥å¡«æ»¡æ•´ä¸ªå®¹å™¨ï¼Œé€šè¿‡è®¾ç½®grid-template-columnså±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°è¿™ä¸ªæ•ˆæœï¼Œä½†æ˜¯ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨repeatå‡½æ•°ä¸­çš„ä¸€ä¸ªå…³é”®å­—auto-fillæ¥æ›¿ä»£ç¡®å®šçš„é‡å¤æ¬¡æ•°ã€‚repeatå‡½æ•°ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨minmaxå‡½æ•°æ¥è®¾å®šä¸€ä¸ªè¡Œ/åˆ—çš„æœ€å°å€¼ï¼Œä»¥åŠæœ€å¤§å€¼1fr</p><pre><code class="hljs css"><span class="hljs-selector-class">.container</span>&#123;    <span class="hljs-attribute">display</span>: grid;    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fill,minmax(<span class="hljs-number">200px</span>,<span class="hljs-number">1</span>fr));    <span class="hljs-attribute">grid-auto-rows</span>: <span class="hljs-built_in">minmax</span>(<span class="hljs-number">100px</span>,auto);    <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">20px</span>;&#125;</code></pre><p><img src="https://img.imgdb.cn/item/6021f7ab3ffa7d37b3f848fc.jpg" alt="è‡ªåŠ¨å¤šåˆ—å¡«å……"></p><p>å¯ä»¥çœ‹åˆ°å½¢æˆäº†ä¸€ä¸ªåŒ…å«è®¸å¤šè‡³å°‘200åƒç´ çš„åˆ—çš„ç½‘ç»œå°†å®¹å™¨å¡«æ»¡ã€‚éšç€å®¹å™¨å®½åº¦çš„æ”¹å˜ï¼Œç½‘æ ¼å›è‡ªåŠ¨æ ¹æ®å®½åº¦è¿›è¡Œä½“è°ƒæ•´ï¼Œæ¯ä¸€åˆ—çš„å®½åº¦æ€»æ˜¯å¤§äº200åƒç´ ï¼Œå¹¶ä¸”å®¹å™¨æ€»ä¼šè¢«åˆ—å¡«æ»¡ã€‚</p><h4 id="ä¹ã€åŸºäºçº¿çš„å…ƒç´ æ”¾ç½®"><a href="#ä¹ã€åŸºäºçº¿çš„å…ƒç´ æ”¾ç½®" class="headerlink" title="ä¹ã€åŸºäºçº¿çš„å…ƒç´ æ”¾ç½®"></a>ä¹ã€åŸºäºçº¿çš„å…ƒç´ æ”¾ç½®</h4><p>åœ¨å®šä¹‰å®Œç½‘æ ¼ä¹‹åï¼Œæˆ‘ä»¬è¦æŠŠå…ƒç´ æ”¾å…¥ç½‘æ ¼ä¹‹ä¸­ã€‚æˆ‘ä»¬çš„ç½‘æ ¼æœ‰è®¸å¤šåˆ†éš”çº¿ã€‚æˆ‘ä»¬æ ¹æ®è¿™äº›åˆ†éš”çº¿æ¥æ”¾ç½®å…ƒç´ ï¼Œé€šè¿‡ä»¥ä¸‹å±æ€§æ¥æŒ‡å®šå“ªæ¡çº¿å¼€å§‹åˆ°å“ªæ¡çº¿ç»“æŸã€‚</p><ul><li>grid-column-start</li><li>grid-column-end</li><li>grid-row-start</li><li>grid-row-end</li></ul><p>è¿™äº›å±æ€§çš„å€¼å‡ä¸ºåˆ†éš”çº¿åºå·ï¼Œä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹ç¼©å†™å½¢å¼æ¥åŒæ—¶æŒ‡å®šå¼€å§‹ä¸ç»“æŸçš„çº¿ã€‚</p><ul><li>grid-column: å¼€å§‹çº¿/ç»“æŸçº¿</li><li>grid-rowï¼šå¼€å§‹çº¿/ç»“æŸçº¿</li></ul><p>ğŸ–ï¼šå¯ä»¥ç”¨-1æ¥å®šä½åˆ°æœ€åä¸€æ¡åˆ—åˆ†éš”çº¿/è¡Œåˆ†éš”çº¿ï¼Œå¹¶ä¸”å¯ä»¥ç”¨è´Ÿæ•°æ¥æŒ‡å®šå€’æ•°çš„æŸä¸€æ¡åˆ†éš”çº¿ã€‚ä½†è¿™åªèƒ½ç”¨äºæ˜¾å¼ç½‘æ ¼ã€‚</p><p>å‚è€ƒï¼š<br>1.<a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/CSS_layout/Grids">MDNâ€“Gridå¸ƒå±€</a><br>2.<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Grid_Layout#Guides">MDNâ€“CSSç½‘æ ¼æŒ‡å—</a></p>]]></content>
    
    
    <categories>
      
      <category>CSSå¸ƒå±€</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>CSSå¸ƒå±€02--flexå¸ƒå±€</title>
    <link href="/2021/02/08/CSS%E5%B8%83%E5%B1%8002-flex%E5%B8%83%E5%B1%80/"/>
    <url>/2021/02/08/CSS%E5%B8%83%E5%B1%8002-flex%E5%B8%83%E5%B1%80/</url>
    
    <content type="html"><![CDATA[<p>flexå¸ƒå±€å…¨ç§°CSSå¼¹æ€§ç›’å­å¸ƒå±€ï¼ˆFlexBoxï¼‰ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§é’ˆå¯¹ç”¨æˆ·ç•Œé¢è®¾è®¡è€Œä¼˜åŒ–çš„CSSç›’å­æ¨¡å‹ã€‚åœ¨å¼¹æ€§å¸ƒå±€æ¨¡å‹ç§ï¼Œå¼¹æ€§å®¹å™¨çš„å­å…ƒç´ åœ¨ä»»ä½•æ–¹å‘ä¸Šæ’å¸ƒï¼Œä¹Ÿå¯ä»¥â€œå¼¹æ€§ä¼¸ç¼©â€å…¶å°ºå¯¸ã€‚æ—¢å¯ä»¥å¢åŠ å°ºå¯¸ä»¥å¡«æ»¡æœªä½¿ç”¨çš„ç©ºé—´ï¼Œä¹Ÿå¯ä»¥æ”¶ç¼©å°ºå¯¸ä»¥é¿å…çˆ¶å…ƒç´ æº¢å‡ºã€‚å­å…ƒç´ çš„æ°´å¹³å¯¹é½å’Œå‚ç›´å¯¹é½éƒ½å¾ˆå¥½æ§åˆ¶ï¼Œé€šè¿‡åµŒå¥—æ°´å¹³æ¡†å’Œå‚ç›´æ¡†ï¼Œå¯ä»¥åœ¨ä¸¤ä¸ªç»´åº¦ä¸Šæ„å»ºå¸ƒå±€ã€‚</p><p>è¦æƒ³ä½¿ç”¨flexå¸ƒå±€ï¼Œåªéœ€è¦åœ¨çˆ¶å…ƒç´ ä¸Šåº”ç”¨<code>display: flex</code>ï¼Œæ‰€æœ‰ç›´æ¥å­å…ƒç´ éƒ½ä¼šæŒ‰ç…§flexè¿›è¡Œå¸ƒå±€ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š<br>ä¸€ä¸ªçˆ¶å…ƒç´ wrapperï¼Œå®ƒçš„å†…éƒ¨æœ‰ä¸‰ä¸ªdivå­å…ƒç´ ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šä½œä¸ºå—å…ƒç´ ä»ä¸Šåˆ°ä¸‹æ˜¾ç¤ºã€‚</p><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;wrapper&quot;</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span>One<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span>&gt;</span>Two<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box3&quot;</span>&gt;</span>Three<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><p>ç°åœ¨æˆ‘ä»¬ç»™çˆ¶å…ƒç´ wrapperåŠ ä¸€ä¸ªæ ·å¼</p><pre><code class="hljs css"><span class="hljs-selector-class">.wrapper</span>&#123;    <span class="hljs-attribute">display</span>: flex;&#125;</code></pre><p>é‚£ä¹ˆå¸ƒå±€ä¼šå¦‚ä¸‹ï¼š<br><img src="https://img.imgdb.cn/item/6020ba8c3ffa7d37b37489f3.jpg" alt="flexå¸ƒå±€ä¾‹å­"><br>å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªå­å…ƒç´ è‡ªåŠ¨æŒ‰åˆ—æ’åˆ—ã€‚è¿™æ˜¯ç”±äºå®ƒä»¬å˜æˆäº†flexé¡¹ï¼ˆflex items),æŒ‰ç…§flexå®¹å™¨ï¼ˆå³çˆ¶å…ƒç´ ï¼‰çš„ä¸€äº›flexç›¸å…³çš„é»˜è®¤åˆå§‹å€¼æ’å¸ƒï¼š</p><ul><li>å®ƒä»¬æ•´æ•´é½é½æ’æˆä¸€è¡Œï¼Œæ˜¯å› ä¸ºçˆ¶å…ƒç´ ä¸Šflex-directionçš„åˆå€¼æ˜¯row</li><li>å®ƒä»¬å…¨éƒ½è¢«æ‹‰ä¼¸è‡³å’Œæœ€é«˜çš„å…ƒç´ é«˜åº¦ç›¸åŒï¼Œæ˜¯å› ä¸ºçˆ¶å…ƒç´ ä¸Šalign-itemså±æ€§çš„åˆå€¼æ˜¯stretch</li></ul><p>ä¸Šè¿°çš„flex-directionå’Œalign-itemså±æ€§éƒ½æ˜¯ç”¨åœ¨<strong>flexå®¹å™¨</strong>ï¼Œå³çˆ¶å…ƒç´ ä¸Šçš„ã€‚è¿˜æœ‰å¾ˆå¤šå±æ€§æ˜¯ç”¨åœ¨<strong>flexé¡¹</strong>ï¼ˆflex items)ä¸Šçš„ï¼Œè¿™äº›å±æ€§å¯ä»¥æ”¹å˜flexé¡¹åœ¨flexå¸ƒå±€ç§å ç”¨å®½ã€é«˜çš„æ–¹å¼ï¼Œå…è®¸å®ƒä»¬é€šè¿‡ä¼¸ç¼©æ¥é€‚åº”å¯ç”¨ç©ºé—´ã€‚</p><p>å†ä¸¾ä¸ªä¾‹å­ï¼š<br>æˆ‘ä»¬åœ¨æ‰€æœ‰çš„å­å…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªæ ·å¼ï¼š</p><pre><code class="hljs css"><span class="hljs-selector-class">.wrapper</span> &#123;    <span class="hljs-attribute">display</span>: flex;&#125;<span class="hljs-selector-class">.wrapper</span> &gt; <span class="hljs-selector-tag">div</span> &#123;    <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;&#125;</code></pre><p>é‚£ä¹ˆä¸‰ä¸ªå­å…ƒç´ çš„æ’å¸ƒä¼šå˜æˆå¦‚ä¸‹æ ·å¼ï¼š<br><img src="https://img.imgdb.cn/item/6020bc6b3ffa7d37b3756831.jpg"></p><p>æ‰€æœ‰çš„å­å…ƒç´ ä¸Šéƒ½æ·»åŠ äº†<code>flex:1</code>ï¼Œè¿™ä¼šä½¿å¾—æ‰€æœ‰çš„å­å…ƒç´ éƒ½ä¼¸å±•å¹¶å¡«å……flexå®¹å™¨ï¼Œè€Œä¸æ˜¯å°¾éƒ¨ç•™ä¸‹ç©ºç™½ã€‚å¦‚æœæœ‰æ›´å¤šç©ºé—´ï¼Œå­å…ƒç´ ä»¬ä¼šå˜å¾—æ›´å®½ï¼›åä¹‹ä¼šå˜å¾—æ›´çª„ã€‚å¦‚æœä½ åœ¨HTMLä¸­è¿½åŠ äº†ä¸€ä¸ªæ–°å…ƒç´ ï¼Œå®ƒä»¬ä¹Ÿä¼šå˜å¾—æ›´å°æ¥ä¸ºæ–°å…ƒç´ åˆ›é€ ç©ºé—´â€”â€”ä¸ç®¡æ€æ ·ï¼Œæœ€ç»ˆå®ƒä»¬ä¼šè°ƒæ•´è‡ªå·±ç›´åˆ°å ç”¨å‘ä»–å®½åº¦çš„ç©ºé—´ã€‚</p><p>ç›¸å…³çš„CSSå±æ€§ï¼š</p><ul><li>flex,flex-basis,flex-direction</li><li>flex-flow, flex-grow, flex-shrink,flex-wrap</li><li>order</li></ul><p>å¯¹é½å±æ€§ï¼š</p><ul><li>align-content,align-items,align-self</li><li>justify-content,place-content,row-gap</li><li>column-gap,gap</li></ul><p>å‚è€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout">MDNâ€“FlexBoxå¼¹æ€§ç›’å­å¸ƒå±€</a></p>]]></content>
    
    
    <categories>
      
      <category>CSSå¸ƒå±€</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>CSSå¸ƒå±€01--æ­£å¸¸å¸ƒå±€æµ</title>
    <link href="/2021/02/08/CSS%E5%B8%83%E5%B1%8001-%E6%AD%A3%E5%B8%B8%E5%B8%83%E5%B1%80%E6%B5%81/"/>
    <url>/2021/02/08/CSS%E5%B8%83%E5%B1%8001-%E6%AD%A3%E5%B8%B8%E5%B8%83%E5%B1%80%E6%B5%81/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä»‹ç»æ­£å¸¸å¸ƒå±€æµä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸‹ç”¨äºå¸ƒå±€çš„å…ƒç´ ï¼šç›’å­ã€‚</p><h3 id="ä¸€ã€ç›’æ¨¡å‹"><a href="#ä¸€ã€ç›’æ¨¡å‹" class="headerlink" title="ä¸€ã€ç›’æ¨¡å‹"></a>ä¸€ã€ç›’æ¨¡å‹</h3><h4 id="1-1-å—çº§ç›’å­å’Œå†…è”ç›’å­"><a href="#1-1-å—çº§ç›’å­å’Œå†…è”ç›’å­" class="headerlink" title="1.1 å—çº§ç›’å­å’Œå†…è”ç›’å­"></a>1.1 å—çº§ç›’å­å’Œå†…è”ç›’å­</h4><p>åœ¨CSSä¸­æˆ‘ä»¬å¹¿æ³›çš„ä½¿ç”¨ä¸¤ç§ç›’å­â€”â€”å—çº§ç›’å­ï¼ˆblock box)å’Œå†…è”ç›’å­ï¼ˆinline boxï¼‰ï¼Œè¿™ä¸¤ç§ç›’å­åœ¨é¡µé¢æµå’Œå…ƒç´ ä¹‹é—´çš„å…³ç³»æ–¹é¢ä¼šè¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºï¼š<br><img src="https://img.imgdb.cn/item/6020a0123ffa7d37b3684039.jpg" alt="å—çº§ç›’å­vså†…è”ç›’å­"></p><p>é»˜è®¤æƒ…å†µä¸‹ï¼š</p><ul><li><p>å¸¸è§çš„å—çº§ç›’å­ï¼šh1-h6ã€pã€divã€ulã€olã€tableã€form<br>â€¦è¯¦ç»†è§<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Block-level_elements">MDN-å—çº§å…ƒç´ </a></p></li><li><p>å¸¸è§çš„å†…è”ç›’å­ï¼šaã€spanã€emã€strongã€iã€imgã€inputã€selectã€textareaâ€¦è¯¦ç»†è§<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Inline_elements">MDN-è¡Œå†…å…ƒç´ </a></p></li></ul><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®displayå±æ€§ï¼Œæ¥æ§åˆ¶ç›’å­çš„å¤–éƒ¨æ˜¾ç¤ºç±»å‹ã€‚</p><p><strong>è¡¥å……ï¼šå†…éƒ¨å’Œå¤–éƒ¨æ˜¾ç¤ºç±»å‹</strong></p><blockquote><p>cssçš„boxæ¨¡å‹æœ‰ä¸€ä¸ª<strong>å¤–éƒ¨æ˜¾ç¤ºç±»å‹</strong>ï¼Œæ¥å†³å®šç›’å­æ˜¯å—çº§è¿˜æ˜¯å†…è”ã€‚<br>cssçš„boxæ¨¡å‹æœ‰ä¸€ä¸ª<strong>å†…éƒ¨æ˜¾ç¤ºç±»å‹</strong>ï¼Œæ¥å†³å®šç›’å­å†…éƒ¨å…ƒç´ çš„å¦‚ä½•å¸ƒå±€çš„ï¼ˆé»˜è®¤æƒ…å†µä¸‹æ˜¯å®‰è£…æ­£å¸¸æ–‡æ¡£æµå¸ƒå±€ï¼‰<br>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨display: flexçš„ç±»ä¼¼å±æ€§å€¼æ¥æ›´æ”¹å†…éƒ¨æ˜¾ç¤ºç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªå…ƒç´ çš„å¤–éƒ¨æ˜¾ç¤ºç±»å‹æ˜¯blockï¼Œä½†æ˜¯å†…éƒ¨æ˜¾ç¤ºç±»å‹ä¿®æ”¹ä¸ºflexï¼Œè¯¥ç›’å­å†…çš„æ‰€æœ‰ç›´æ¥å­å…ƒç´ éƒ½ä¼šæˆä¸ºflexå…ƒç´ ï¼Œè¿™äº›å­å…ƒç´ ä¼šæ ¹æ®å¼¹æ€§ç›’å­è§„åˆ™è¿›è¡Œå¸ƒå±€ã€‚</p></blockquote><p>æ¥ä¸‹æ¥çš„å†…å®¹æˆ‘ä»¬ä¸“æ³¨äºç›’æ¨¡å‹çš„å¤–éƒ¨æ˜¾ç¤ºç±»å‹ã€‚</p><h4 id="1-2-ç›’æ¨¡å‹çš„ä¸»è¦å†…å®¹"><a href="#1-2-ç›’æ¨¡å‹çš„ä¸»è¦å†…å®¹" class="headerlink" title="1.2 ç›’æ¨¡å‹çš„ä¸»è¦å†…å®¹"></a>1.2 ç›’æ¨¡å‹çš„ä¸»è¦å†…å®¹</h4><p>å®Œæ•´çš„CSSç›’æ¨¡å‹ä¸»è¦åº”ç”¨ä¸å—çº§ç›’å­ï¼Œå†…è”ç›’å­åªä½¿ç”¨ç›’æ¨¡å‹ä¸­å®šä¹‰çš„éƒ¨åˆ†å†…å®¹ã€‚ç›’æ¨¡å‹å®šä¹‰äº†ç›’å­çš„æ¯ä¸ªéƒ¨åˆ†â€”â€”marginï¼Œborderï¼Œpaddingï¼Œcontentã€‚å¸¸è§çš„æœ‰æ ‡æ³¨ç›’æ¨¡å‹å’ŒIEç›’æ¨¡å‹ã€‚</p><h5 id="1-2-1-ç›’æ¨¡å‹çš„å„ä¸ªéƒ¨åˆ†"><a href="#1-2-1-ç›’æ¨¡å‹çš„å„ä¸ªéƒ¨åˆ†" class="headerlink" title="1.2.1 ç›’æ¨¡å‹çš„å„ä¸ªéƒ¨åˆ†"></a>1.2.1 ç›’æ¨¡å‹çš„å„ä¸ªéƒ¨åˆ†</h5><p>CSSä¸­ç»„æˆä¸€ä¸ªå—çº§ç›’å­éœ€è¦ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>Content box: å†…å®¹åŒºåŸŸï¼Œå¤§å°å¯é€šè¿‡width å’Œ heightè®¾ç½®</li><li>Padding box: å†…è¾¹è·ï¼ˆåŒ…å›´åœ¨å†…å®¹åŒºåŸŸå¤–éƒ¨çš„ç©ºç™½åŒºåŸŸï¼‰ï¼Œå¤§å°å¯é€šè¿‡paddingç›¸å…³å±æ€§è®¾ç½®ã€‚</li><li>Border boxï¼šè¾¹æ¡†ç›’ï¼ˆåŒ…è£¹å†…å®¹å’Œå†…è¾¹è·ï¼‰ï¼Œå¤§å°å¯é€šè¿‡borderç›¸å…³å±æ€§è®¾ç½®</li><li>Margin box: å¤–è¾¹è·ï¼ˆç›’å­å’Œå…¶ä»–å…ƒç´ ä¹‹é—´çš„ç©ºç™½åŒºåŸŸï¼‰ï¼Œå¤§å°å¯é€šè¿‡marginç›¸å…³å±æ€§è®¾ç½®ã€‚</li></ul><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://img.imgdb.cn/item/6020a4d63ffa7d37b36a644c.jpg" alt="ç›’æ¨¡å‹"></p><h5 id="1-2-2-æ ‡å‡†ç›’æ¨¡å‹"><a href="#1-2-2-æ ‡å‡†ç›’æ¨¡å‹" class="headerlink" title="1.2.2 æ ‡å‡†ç›’æ¨¡å‹"></a>1.2.2 æ ‡å‡†ç›’æ¨¡å‹</h5><p>åœ¨æ ‡å‡†ç›’æ¨¡å‹ä¸­ï¼Œå¦‚æœä½ ç»™ç›’è®¾ç½®widthå’Œheightï¼Œå®é™…è®¾ç½®çš„æ˜¯Content boxã€‚padding å’Œ borderå†åŠ ä¸Šç›’å­çš„width heightæ‰ä¸€èµ·å†³å®šäº†æ•´ä¸ªç›’å­çš„å¤§å°ã€‚</p><p>ä¸¾ä¸ªæ —å­ï¼š</p><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123;    <span class="hljs-attribute">width</span>: <span class="hljs-number">350px</span>;    <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;    <span class="hljs-attribute">margin</span>: <span class="hljs-number">26px</span>;    <span class="hljs-attribute">padding</span>: <span class="hljs-number">25px</span>;    <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid black;&#125;</code></pre><p>ä½¿ç”¨æ ‡å‡†ç›’æ¨¡å‹ï¼Œè¯¥ç›’å­çš„å®½åº¦width = 350px+25px+25px+5px+5px = 410px; è¯¥ç›’å­çš„é«˜åº¦height = 150px+25px+25px+5px+5px = 210px;(content+padding+border)</p><p><img src="https://img.imgdb.cn/item/6020add03ffa7d37b36e6757.jpg" alt="æ ‡å‡†ç›’æ¨¡å‹"></p><p>ğŸ–ï¼šmarginä¸è®¡å…¥å®é™…ç›’å­çš„å¤§å°ï¼Œå½“ç„¶ï¼Œå®ƒä¼šå½±å“ç›’å­åœ¨é¡µé¢çš„æ‰€å ç©ºé—´ï¼Œä½†æ˜¯å½±å“çš„æ˜¯ç›’å­å¤–éƒ¨ç©ºé—´ã€‚ç›’å­çš„èŒƒå›´åˆ°borderä¸ºæ­¢ï¼Œä¸ä¼šå»¶ç¥åˆ°marginã€‚</p><h5 id="1-2-3-æ›¿ä»£-IE-ç›’æ¨¡å‹"><a href="#1-2-3-æ›¿ä»£-IE-ç›’æ¨¡å‹" class="headerlink" title="1.2.3 æ›¿ä»£(IE)ç›’æ¨¡å‹"></a>1.2.3 æ›¿ä»£(IE)ç›’æ¨¡å‹</h5><p>ç›’å­çš„å¤§å°è¿˜å¾—åŠ ä¸Šè¾¹æ¡†å’Œå†…è¾¹è·ï¼Œè¿™æ ·æœ‰äº›éº»çƒ¦ã€‚æ‰€ä»¥CSSè¿˜æœ‰ä¸€ä¸ªæ›¿ä»£ç›’æ¨¡å‹ï¼Œä½¿ç”¨æ•´ä¸ªæ¨¡å‹ï¼Œæ‰€æœ‰å®½åº¦éƒ½æ˜¯å¯è§å®½åº¦ï¼Œæ‰€ä»¥å†…å®¹å®½åº¦ content= è¯¥å®½åº¦-border-padding</p><p><img src="https://img.imgdb.cn/item/6020afca3ffa7d37b36f258a.jpg" alt="æ›¿ä»£ç›’æ¨¡å‹"></p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨æ ‡å‡†æ¨¡å‹ã€‚å¦‚æœéœ€è¦ä½¿ç”¨æ›¿ä»£æ¨¡å‹ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®<code> box-sizing: border-box;</code> æ¥å®ç°ã€‚è¿™æ ·ä½ è®¾ç½®çš„widthå’Œheightå°±æ˜¯ç›’å­çš„å®é™…å®½é«˜ã€‚<br>å¦‚æœä½ å¸Œæœ›æ‰€ä»¥çš„å…ƒç´ éƒ½ä½¿ç”¨æ›¿ä»£ç›’æ¨¡å‹ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·è®¾ç½®ï¼š</p><pre><code class="hljs css"><span class="hljs-selector-tag">html</span> &#123;    <span class="hljs-attribute">box-sizing</span>: border-box;&#125;*,*<span class="hljs-selector-pseudo">::before</span>,*<span class="hljs-selector-pseudo">::after</span>&#123;    <span class="hljs-attribute">box-sizing</span>: inherit;&#125;</code></pre><h3 id="äºŒã€æ­£å¸¸å¸ƒå±€æµï¼ˆNormal-flowï¼‰"><a href="#äºŒã€æ­£å¸¸å¸ƒå±€æµï¼ˆNormal-flowï¼‰" class="headerlink" title="äºŒã€æ­£å¸¸å¸ƒå±€æµï¼ˆNormal flowï¼‰"></a>äºŒã€æ­£å¸¸å¸ƒå±€æµï¼ˆNormal flowï¼‰</h3><p>æ­£å¸¸å¸ƒå±€æµæ˜¯æŒ‡åœ¨ä¸å¯¹é¡µé¢è¿›è¡Œä»»ä½•å¸ƒå±€æ§åˆ¶æ—¶ï¼Œæµè§ˆå™¨é»˜è®¤çš„HTMLå¸ƒå±€æ–¹å¼ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>I love my cat<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Buy cat food<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Exercise<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Cheer up friend<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>The end!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨çš„æ˜¾ç¤ºå¦‚ä¸‹:<br><img src="https://img.imgdb.cn/item/6020b1df3ffa7d37b36fec6b.jpg"></p><p>HTMLå…ƒç´ å®Œå…¨å®‰æŒ‰ç…§æºç ä¸­å‡ºç°çš„å…ˆåæ¬¡åºæ˜¾ç¤ºã€‚<strong>å—çº§å…ƒç´ </strong>å‡ºç°åœ¨ä¸€ä¸ªå…ƒç´ çš„ä¸‹é¢ï¼Œ<strong>å†…è”å…ƒç´ </strong>å‡ºç°åœ¨å¦ä¸€ä¸ªå…ƒç´ çš„æ—è¾¹ã€‚å¯¹äºé¡µé¢ä¸Šçš„å¤šæ•°å…ƒç´ ï¼Œ<strong>æ­£å¸¸å¸ƒå±€æµ</strong>å®Œå…¨è¶³å¤Ÿåˆ›å»ºä¸€ä¸ªä½ æ‰€éœ€è¦çš„å¸ƒå±€ã€‚æ‰€ä»¥ï¼Œä»ä¸€ä¸ªç»“æ„è‰¯å¥½çš„HTMLæ–‡æ¡£å¼€å§‹éå¸¸é‡è¦ï¼Œå› ä¸ºä½ å¯ä»¥æŒ‰ç…§é»˜è®¤çš„æ–¹å¼æ¥æ­å»ºé¡µé¢ï¼Œè€Œä¸æ˜¯è‡ªé€ è½¦è½®ï¼</p><p>ä¸‹é¢çš„å¸ƒå±€æŠ€æœ¯ä¼šè¦†ç›–é»˜è®¤çš„æ­£å¸¸æµå¼å¸ƒå±€ï¼š</p><ul><li>displayå±æ€§â€”â€”æ ‡å‡†çš„valueå€¼å¦‚ï¼šblock,inline,inline-blockå½±å“å…ƒç´ åœ¨æ­£å¸¸å¸ƒå±€æµä¸­çš„è¡¨ç°å½¢å¼ã€‚è¿˜æœ‰ä¸€äº›å…¨æ–°çš„å¸ƒå±€å¯ä»¥é€šè¿‡è®¾ç½®displayçš„å€¼å®ç°ï¼Œå¦‚CSS Grid å’Œ Flexboxã€‚</li><li>æµ®åŠ¨â€”â€”åº”ç”¨floatå€¼ï¼Œä¾‹å¦‚leftèƒ½è®©å—çº§å…ƒç´ äº’ç›¸æ’æˆä¸€è¡Œï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåœ¨å¦ä¸€ä¸ªçš„ä¸‹é¢ã€‚</li><li>positionå±æ€§â€”â€”å…è®¸ä½ ç²¾å‡†è®¾ç½®ç›’å­ä¸­çš„ç›’å­çš„ä½ç½®ï¼Œæ­£å¸¸å¸ƒå±€æµä¸­é»˜è®¤ä¸ºstaticï¼Œä½¿ç”¨å…¶ä»–å€¼ä¼šå¼•èµ·å…ƒç´ ä¸åŒçš„å¸ƒå±€æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œå°†å…ƒç´ å›ºå®šåœ¨æµè§ˆå™¨è§†å£çš„å·¦ä¸Šè§’ã€‚</li><li>è¡¨æ ¼å¸ƒå±€â€”â€” ä½¿ç”¨<code>display: table</code>å¯ä»¥å°†è¡¨æ ¼çš„å¸ƒå±€æ–¹å¼ç”¨åœ¨éè¡¨æ ¼å†…å®¹ä¸Šã€‚</li><li>å¤šåˆ—å¸ƒå±€â€”â€” è¿™ä¸ª<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Columns">Multi-column layout</a>å±æ€§ï¼Œå¯ä»¥è®©å—æŒ‰åˆ—å¸ƒå±€ï¼Œæ¯”å¦‚æŠ¥çº¸çš„å¸ƒå±€å°±æ˜¯ä¸€åˆ—ä¸€åˆ—æ’å¸ƒçš„ã€‚</li></ul><p>å‚è€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/CSS_layout/Introduction">MDNâ€“CSSå¸ƒå±€</a></p>]]></content>
    
    
    <categories>
      
      <category>CSSå¸ƒå±€</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•08-åˆ—ä¸¾ä¸€ç§ä½ äº†è§£çš„ReactçŠ¶æ€ç®¡ç†æ¡†æ¶</title>
    <link href="/2021/02/05/%E9%9D%A2%E8%AF%9508-%E5%88%97%E4%B8%BE%E4%B8%80%E7%A7%8D%E4%BD%A0%E4%BA%86%E8%A7%A3%E7%9A%84React%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E6%A1%86%E6%9E%B6/"/>
    <url>/2021/02/05/%E9%9D%A2%E8%AF%9508-%E5%88%97%E4%B8%BE%E4%B8%80%E7%A7%8D%E4%BD%A0%E4%BA%86%E8%A7%A3%E7%9A%84React%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E6%A1%86%E6%9E%B6/</url>
    
    <content type="html"><![CDATA[<h3 id="é¢è¯•åœºæ™¯8ï¼šåˆ—ä¸¾ä¸€ç§ä½ äº†è§£çš„reactçŠ¶æ€ç®¡ç†æ¡†æ¶ï¼Ÿ"><a href="#é¢è¯•åœºæ™¯8ï¼šåˆ—ä¸¾ä¸€ç§ä½ äº†è§£çš„reactçŠ¶æ€ç®¡ç†æ¡†æ¶ï¼Ÿ" class="headerlink" title="é¢è¯•åœºæ™¯8ï¼šåˆ—ä¸¾ä¸€ç§ä½ äº†è§£çš„reactçŠ¶æ€ç®¡ç†æ¡†æ¶ï¼Ÿ"></a>é¢è¯•åœºæ™¯8ï¼šåˆ—ä¸¾ä¸€ç§ä½ äº†è§£çš„reactçŠ¶æ€ç®¡ç†æ¡†æ¶ï¼Ÿ</h3><p><strong>ç ´é¢˜</strong>ï¼š</p><p>æ­£å¦‚é¢è¯•07ç»„ä»¶é—´é€šä¿¡ä¸­æåˆ°çš„ï¼šè·¨è¶Šå¤šä¸ªå±‚çº§ä¹‹é—´çš„ç»„ä»¶ä»ç„¶éœ€è¦å…±äº«çŠ¶æ€ã€å“åº”å˜åŒ–ã€‚ä¼ ç»Ÿçš„çŠ¶æ€æå‡æ–¹æ¡ˆä¾‹å¦‚Contextï¼Œéš¾ä»¥é«˜æ•ˆåœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>Contextå­˜å‚¨çš„å˜é‡éš¾ä»¥è¿½æº¯æ•°æ®æºä»¥åŠç¡®è®¤å˜åŠ¨ç‚¹ã€‚å½“ç»„ä»¶ä¾èµ–Contextï¼Œä¼šæé«˜ç»„ä»¶è€¦åˆåº¦ï¼Œä¸åˆ©äºç»„ä»¶çš„å¤ç”¨ä¸æµ‹è¯•ã€‚è€ŒçŠ¶æ€ç®¡ç†æ¡†æ¶å°±å¾ˆå¥½åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><p>å½“å‰Reactç¤¾åŒºæœ€æµè¡Œçš„ä¸‰å¤§çŠ¶æ€ç®¡ç†æ¡†æ¶ï¼šFluxï¼ŒReactï¼Œ Mobxã€‚</p><h4 id="ä¸€ã€Flux"><a href="#ä¸€ã€Flux" class="headerlink" title="ä¸€ã€Flux"></a>ä¸€ã€Flux</h4><p>Fluxæå‡ºäº†ä¸€ç§MVCä»¥å¤–çš„æˆåŠŸå®è·µâ€”â€”<strong>å•å‘æ•°æ®æµ</strong>ã€‚ 2014å¹´Facebook F8å¤§ä¼šä¸Šæå‡ºäº†ä¸€ä¸ªè§‚ç‚¹ï¼ŒMVCæ›´é€‚ç”¨äºå°å‹åº”ç”¨ï¼Œå¤§å‹å‰ç«¯é¡¹ç›®ä½¿ç”¨MVCä¼šä½¿é¡¹ç›®å˜å¾—å¤æ‚ï¼ˆæ¯å½“æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œç³»ç»Ÿå¤æ‚åº¦å°±ä¼šç–¯ç‹‚å¢é•¿ï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒModelä¸Viewçš„å…³è”æ˜¯é”™ç»¼å¤æ‚çš„ï¼Œå¾ˆéš¾ç†è§£å’Œè°ƒå¼ï¼Œå°¤å…¶æ˜¯Modelä¸Viewä¹‹é—´å­˜åœ¨<strong>åŒå‘æ•°æ®æµåŠ¨</strong></p><p><img src="https://img.imgdb.cn/item/601d2cc93ffa7d37b3f544dc.jpg" alt="MVCæ¶æ„å›¾"></p><p>è¿™ç§MVCæ¨¡å¼ï¼Œå¯¹äºå°±æ¥æ‰‹è€ä»£ç çš„äººä¹Ÿæ˜¯ä¸ªä»¤äººå¤´ç–¼çš„éš¾é¢˜ï¼Œå› ä¸ºä»–ä»¬å®³æ€•æ‰¿æ‹…é£é™©ï¼Œæ‰€ä»¥ä¸æ•¢è½»æ˜“ä¿®æ”¹ä»£ç ã€‚æ‰€ä»¥ï¼Œfacebookæå‡ºäº†ä¸€ç§åŸºäºå•å‘æ•°æ®æµçš„æ¶æ„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://img.imgdb.cn/item/601d2ec03ffa7d37b3f5f5e5.jpg" alt="Fluxæ¶æ„"></p><p>å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š</p><ul><li>Viewæ˜¯è§†å›¾å±‚ï¼Œå³ä»£ç ä¸­çš„Reactç»„ä»¶</li><li>Storeæ˜¯æ•°æ®å±‚ï¼Œç»´æŠ¤äº†æ•°æ®å’Œæ•°æ®å¤„ç†çš„é€»è¾‘</li><li>Dispatcheræ˜¯ç®¡ç†æ•°æ®æµåŠ¨çš„ä¸­å¤®æ¢çº½ã€‚æ¯ä¸€ä¸ªStoreæä¾›ä¸€ä¸ªå›è°ƒï¼Œå½“Dispatcheræ¥æ”¶ä¸€ä¸ªActionæ—¶ï¼Œæ‰€ä»¥çš„Storeæ¥æ”¶æ³¨å†Œè¡¨ä¸­çš„Actionï¼Œç„¶åé€šè¿‡å›è°ƒäº§ç”Ÿæ•°æ®</li><li>Actionå¯ä»¥ç†è§£ä¸ºä¸€ç§äº‹ä»¶é€šçŸ¥,é€šå¸¸ç”¨typeæ ‡è®°ã€‚</li></ul><p>å…·ä½“çš„æµç¨‹æ˜¯ï¼šStoreå­˜å‚¨äº†è§†å›¾å±‚çš„æ‰€æœ‰æ•°æ®ï¼Œå½“Storeå˜åŒ–åä¼šå¼•èµ·Viewå±‚çš„æ›´æ–°ã€‚å¦‚æœåœ¨Viewå±‚è§¦å‘ä¸€ä¸ªActionï¼Œæ¯”å¦‚ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œå½“å‰çš„é¡µé¢æ•°æ®å€¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚Actionä¼šè¢«Dispatcherè¿›è¡Œç»Ÿä¸€çš„æ”¶å‘å¤„ç†ï¼Œä¼ é€’ç»™Storeå±‚ã€‚ç”±äºStoreå±‚ä»¥åŠæ³¨å†Œè¿‡ç›¸å…³Actionçš„å¤„ç†é€»è¾‘ï¼Œå¤„ç†ç›¸åº”çš„å†…éƒ¨çŠ¶æ€å˜åŒ–åï¼Œä¼šè§¦å‘Viewå±‚æ›´æ–°ã€‚</p><p>ä»åº”ç”¨åœºæ™¯æ¥çœ‹ï¼ŒFluxé™¤äº†åœ¨FaceBookå†…éƒ¨å¤§è§„æ¨¡åº”ç”¨ä»¥å¤–ï¼Œä¸šç•Œå¾ˆå°‘ä½¿ç”¨ï¼Œå®ƒçš„æ¦‚å¿µå’Œæ ·æ¿ä»£ç ä¸åèµ·ä¹‹ç§€æ¯”ç•¥æ˜¾å†—ä½™ã€‚</p><h4 id="äºŒã€Redux"><a href="#äºŒã€Redux" class="headerlink" title="äºŒã€Redux"></a>äºŒã€Redux</h4><p><strong>å‰è¨€â€“Elm</strong>:</p><p>Elmæ˜¯ä¸€ç§ä¸»è¦ç”¨äºç½‘é¡µå¼€å‘çš„è¯­è¨€ï¼Œå®ƒè®¾è®¡äº†ä¸€ç§Modelã€Viewã€Messageã€Updateçš„æ›´æ–°æ€æƒ³ã€‚</p><p><img src="https://img.imgdb.cn/item/601e05143ffa7d37b345b584.jpg" alt="elmæ¶æ„"></p><p>Elmçš„ä¸»è¦æ€æƒ³ï¼š</p><ul><li>å…¨å±€å•ä¸€æ•°æ®æºï¼šä¸åƒFluxä¸€æ ·æœ‰å¤šä¸ªStore</li><li>çº¯å‡½æ•°ï¼šå¯ä»¥ä¿è¯è¾“å…¥è¾“å‡ºçš„æ’å®šã€‚</li><li>é™æ€ç±»å‹ï¼šå¯ä»¥ä¿è¯å…è®¸å®‰å…¨</li></ul><p>Reduxå€Ÿé‰´äº†Elmçš„è¿™ä¸ªè®¾è®¡ï¼Œç¡®ç«‹çš„è‡ªå·±çš„ä¸‰åŸåˆ™ï¼š</p><ul><li><strong>å•ä¸€æ•°æ®æº</strong>ï¼šæ•´ä¸ªåº”ç”¨çš„stateè¢«å­˜å‚¨åœ¨ä¸€ä¸ªobject treeä¸­ï¼Œå¹¶ä¸”è¿™ä¸ªobject tree åªå­˜åœ¨äºå”¯ä¸€çš„storeä¸­</li><li><strong>çº¯å‡½æ•°Reducer</strong>: å³ä¸ºäº†æè¿°Actionå¦‚ä½•æ”¹å˜çŠ¶æ€æ ‘ï¼Œç¼–å†™çš„ä¸€ä¸ªçº¯å‡½æ•°çš„Reducer</li><li><strong>stateæ˜¯åªè¯»çš„</strong>ï¼šå”¯ä¸€å¯ä»¥æ”¹å˜stateçš„æ–¹æ³•æ˜¯è§¦å‘Actionï¼ŒActionæ˜¯ä¸€ä¸ªç”¨äºæè¿°å·²å‘ç”Ÿäº‹ä»¶çš„æ™®é€šå¯¹è±¡</li></ul><p>å¦‚ä½•è§£å†³å‰¯ä½œç”¨(Side Effect): </p><p>==&gt; ä»»ä½•å…·å¤‡ä¸šåŠ¡ä»·å€¼çš„Webåº”ç”¨éƒ½å¿…ç„¶æ‰§è¡Œå¤æ‚çš„é€»è¾‘ï¼Œæ¯”å¦‚Ajaxè¯·æ±‚ç­‰å¼‚æ­¥å·¥ä½œï¼Œè¿™ç±»é€»è¾‘å‡½æ•°åœ¨æ¯æ¬¡çš„æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿä¸åŒçš„å˜åŒ–ï¼Œè¿™æ ·ä¸å¤–ç•Œçš„äº¤äº’è¢«ç§°ä¸ºâ€œå‰¯ä½œç”¨â€ã€‚ ä¸€ä¸ªå¸¸è§çš„å‰¯ä½œç”¨çš„æ —å­ï¼šä½ å‘é€ä½ ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œéœ€è¦ç•Œé¢å…ˆæ˜¾ç¤ºLoadingï¼Œå†æ ¹æ®è¯·æ±‚æ˜¯å¦æˆåŠŸæ¥å†³å®šç•Œé¢æ˜¯æ˜¾ç¤ºæŠ¥é”™è¿˜æ˜¯æ•°æ®å†…å®¹ã€‚é¢å¯¹è¿™æ ·çš„åœºæ™¯ï¼Œä½ ä¼šå‘ç°åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¼‚æ­¥æ“ä½œåœ¨Reduxä¸­æ— ä»æ·»åŠ ï¼Œå› ä¸ºReduxæœ¬èº«æ·±å—å‡½æ•°å¼ç¼–ç¨‹çš„å½±å“ã€‚å¯¼è‡´ï¼š</p><ul><li>æ‰€æœ‰çš„äº‹ä»¶éƒ½æ”¶æ‹¢åˆ°Actionä¸­å»è§¦å‘</li><li>æ‰€æœ‰çš„UIçŠ¶æ€éƒ½äº¤ç»™Storeå»ç®¡ç†</li><li>æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘éƒ½äº¤ç»™Reducerå»å¤„ç†</li></ul><p>è¿™é‡Œçš„Actionå’ŒReduceræ˜¯çº¯å‡½æ•°ï¼ŒStoreåªæ˜¯ä¸€ä¸ªçŠ¶æ€æ ‘ï¼Œéƒ½ä¸èƒ½å®Œæˆå¤„ç†å‰¯ä½œç”¨çš„æ“ä½œã€‚çœŸæ­£å¯ä»¥è§£å†³å‰¯ä½œç”¨çš„æ–¹æ¡ˆæœ‰ä¸¤ç±»ï¼š</p><ol><li>åœ¨Dispatchçš„æ—¶å€™æœ‰ä¸€ä¸ª<font color=green>middlewareä¸­é—´ä»¶å±‚</font>ï¼Œæ‹¦æˆªåˆ†å‘çš„Actionå¹¶æ·»åŠ é¢å¤–çš„å¤æ‚è¡Œä¸ºï¼Œè¿˜å¯ä»¥æ·»åŠ å‰¯ä½œç”¨ã€‚</li></ol><p>è¿™ç±»æ–¹æ¡ˆä¸­çš„ä»£è¡¨æ˜¯Redux-thunkï¼Œå…¶ä½œç”¨æ˜¯å¤„ç†å¼‚æ­¥Actionï¼Œå®ƒçš„æºç ç»å¸¸åœ¨é¢è¯•ä¸­ç»å¸¸è¢«è¦æ±‚ç‹¬ç«‹ç¼–å†™ã€‚</p><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createThunkMiddleware</span>(<span class="hljs-params">extraArgument</span>)</span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">&#123; dispatch, getState &#125;</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">next</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">Action</span>) =&gt;</span> &#123;        <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params"><span class="hljs-keyword">typeof</span> Action === <span class="hljs-string">&#x27;function&#x27;</span></span>)</span>&#123;            <span class="hljs-keyword">return</span> Action(dispatch,getState,extraArgument);        &#125;        <span class="hljs-keyword">return</span> next(Action)    &#125;&#125;<span class="hljs-keyword">const</span> thunk = createThunkMiddleware();thunk.withExtraArgument = createThunkMiddleware();<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> thunk;</code></pre><p>redux-thunké€šè¿‡æ·»åŠ ä¸­é—´ä»¶æ¥åˆ¤æ–­Actionæ˜¯å¦æ˜¯å‡½æ•°ï¼š</p><ul><li>å¦‚æœæ˜¯å‡½æ•°ï¼šåˆ™Dispatch,å°†å½“å‰çš„æ•´ä¸ªstateä»¥åŠé¢å¤–çš„å‚æ•°ä¼ å…¥å…¶ä¸­</li><li>å¦åˆ™ç»§ç»­æµè½¬Action</li></ul><p>è¿™ç±»æ–¹æ¡ˆæ˜¯æœ€ç»å…¸çš„å¤„ç†reduxå‰¯ä½œç”¨çš„æ–¹æ¡ˆï¼Œç”¨æˆ·è¿˜å¯ä»¥è‡ªå®šä¹‰Storeçš„middlewareã€‚å¦‚æœActionæ˜¯ä¸€ä¸ªæ•°ç»„æˆ–è€…æ˜¯ä¸€ä¸ªpromiseï¼Œè¿˜å¯ä»¥æ˜¯è¿­ä»£å™¨ï¼Œæˆ–è€…rxjs, ç¤¾åŒºä¸­æœ‰ç›¸åº”çš„ä¸­é—´ä»¶ï¼Œredux-saga, redux-promise,redux-observableç­‰ã€‚</p><ol start="2"><li>ç¬¬äºŒç±»æ–¹æ¡ˆè¾ƒä¸ºå†·é—¨ï¼Œä½†æ˜¯è®¾è®¡ä¸Šæ€è€ƒå¾—æ›´ä¸ºæ·±åˆ»ã€‚ä¾‹å¦‚redux loopå°±æ·±å…¥åœ°å€Ÿé‰´äº†Elmã€‚Elmçš„å‰¯ä½œç”¨å¤„ç†æ˜¯åœ¨updateå±‚ï¼Œè¿™æ ·çš„è®¾è®¡å«<font color=green>åˆ†å½¢æ¶æ„</font>ã€å¦‚æœå­ç»„ä»¶èƒ½å¤Ÿä»¥åŒæ ·çš„ç»“æ„ï¼Œä½œä¸ºä¸€ä¸ªåº”ç”¨ä½¿ç”¨ï¼Œè¿™æ ·çš„ç»“æ„å°±æ˜¯åˆ†å½¢æ¶æ„ã€‘</li></ol><p>åˆ†å½¢æ¶æ„çš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼Œå¤ç”¨å®¹æ˜“ï¼Œç»„åˆæ–¹ä¾¿ã€‚Redux Loopå°±åšå‡ºäº†è¿™æ ·çš„å°è¯•ï¼Œä½†æ˜¯åœ¨å®é™…çš„é¡¹ç›®ä¸­åº”ç”¨çš„å¾ˆå°‘ã€‚</p><pre><code class="hljs js"><span class="hljs-comment">//redux-loop</span><span class="hljs-keyword">import</span> &#123;loop,Cmd&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux-loop&#x27;</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initAction</span>(<span class="hljs-params"></span>)</span>&#123;    <span class="hljs-keyword">return</span> &#123;        type:<span class="hljs-string">&#x27;INIT&#x27;</span>,    &#125;;&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchUser</span>(<span class="hljs-params">userId</span>)</span>&#123;    <span class="hljs-keyword">return</span> fetch(<span class="hljs-string">`/api/user/<span class="hljs-subst">$&#123;userId&#125;</span>`</span>)&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">userFetchSuccessAction</span>(<span class="hljs-params">user</span>)</span>&#123;    <span class="hljs-keyword">return</span> &#123;        type: <span class="hljs-string">&#x27;USER_FETCH_SUCCESS&#x27;</span>,        user    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">userFetchFailAction</span>(<span class="hljs-params">err</span>)</span>&#123;    <span class="hljs-keyword">return</span> &#123;        type: <span class="hljs-string">&#x27;USER_FETCH_FAILED&#x27;</span>,        err    &#125;&#125;<span class="hljs-keyword">const</span> initialState = &#123;    initStarted:<span class="hljs-literal">false</span>,    user:<span class="hljs-literal">null</span>,    error:<span class="hljs-literal">null</span>&#125;;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Reducer</span>(<span class="hljs-params">state=initialState,Action</span>)</span>&#123;    <span class="hljs-function"><span class="hljs-title">switch</span>(<span class="hljs-params">Action.type</span>)</span>&#123;        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;INIT&#x27;</span>:            <span class="hljs-keyword">return</span> loop(                &#123;...state, <span class="hljs-attr">initStarted</span>:<span class="hljs-literal">true</span>&#125;,                Cmd.run(fetchUser, &#123;                    successActionCreator: userFetchSuccessAction,                    failActionCreator:userFetchFailAction,                    args:[<span class="hljs-string">&#x27;123&#x27;</span>]                &#125;)            );        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;USER_FETCH_SUCCESS&#x27;</span>:            <span class="hljs-keyword">return</span> &#123;...state, <span class="hljs-attr">user</span>: Action.user&#125;;        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;USER_FETCH_FAILED&#x27;</span>:            <span class="hljs-keyword">return</span> &#123;...state, <span class="hljs-attr">error</span>: Action.error&#125;;        <span class="hljs-keyword">default</span>:            <span class="hljs-keyword">return</span> state;    &#125;&#125;</code></pre><p>è™½ç„¶redux loopåœ¨åˆ†å½¢æ¶æ„ä¸Šåšå‡ºäº†æ¢ç´¢ï¼Œä½†æ˜¯reduxä½œè€…å¹¶ä¸æ˜¯é‚£ä¹ˆæ»¡æ„ï¼Œç”šè‡³å†™äº†ä¸€ç¯‡<a href="https://redux.canny.io/feature-requests/p/there-is-no-easy-way-to-compose-redux-applicati">There is no easy way to compose Redux applications</a>è®¤ä¸ºæ²¡æœ‰ä¸€ç§ç®€å•çš„æ–¹æ¡ˆå¯ä»¥ç»„åˆreduxåº”ç”¨ï¼Œå¹¶æå‡ºäº†ä¸€ä¸ªé•¿ä¹…ä¸ºæœªè¢«è§£å†³çš„<a href="https://github.com/reduxjs/redux/issues/1528">issue</a></p><p>æœ€åå°±æ˜¯å…³äºreduxçš„ä¸€æ½å­è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>åœ¨å›½å¤–ç¤¾åŒºæµè¡Œçš„æ–¹æ¡ˆæ˜¯rematch,å®ƒæä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„èŒƒå¼å†™reduxã€‚æœ‰ä¸€äº›<a href="https://github.com/rematch/rematch/tree/next/examples">rematchæ¡ˆä¾‹</a>å¯ä¾›å‚è€ƒï¼Œrematchçš„æ¨¡å—æ›´ä¸ºå†…èšï¼Œæ’ä»¶æ›´ä¸°å¯Œã€‚</li><li>å›½å†…çš„æµè¡Œè§£å†³æ–¹æ¡ˆæ˜¯<a href="https://github.com/dvajs/dva">dva</a></li></ul><h4 id="ä¸‰ã€Mobx"><a href="#ä¸‰ã€Mobx" class="headerlink" title="ä¸‰ã€Mobx"></a>ä¸‰ã€Mobx</h4><p>å…ˆçœ‹ä¸€ä¸ªMobxçš„å®˜æ–¹ç¤ºä¾‹ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;observable,autorun&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;mobx&#x27;</span>;<span class="hljs-keyword">var</span> todoStore = observable(&#123;    <span class="hljs-comment">//ä¸€äº›è§‚å¯Ÿçš„çŠ¶æ€</span>    todos:[],    <span class="hljs-comment">//æ¨å¯¼å€¼</span>    <span class="hljs-keyword">get</span> <span class="hljs-title">completedCount</span>()&#123;        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.todos.filter(<span class="hljs-function"><span class="hljs-params">todo</span>=&gt;</span>todo.completed).length;    &#125;&#125;);<span class="hljs-comment">//è§‚å¯ŸçŠ¶æ€æ”¹å˜çš„å‡½æ•°</span>autorun(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;completed %d id %d items&quot;</span>,        todoStore.completedCount,        todoStore.todos.length    )&#125;);<span class="hljs-comment">//ä¸€äº›æ”¹å˜çŠ¶æ€çš„åŠ¨ä½œ</span>todoStore.todos[<span class="hljs-number">0</span>]=&#123;    title: <span class="hljs-string">&#x27;take a walk&#x27;</span>,    completed: <span class="hljs-literal">false</span>&#125;<span class="hljs-comment">// -&gt;åŒæ­¥æ‰“å° â€˜Completed 0 of 1 items&#x27;</span>todoStore.todos[<span class="hljs-number">0</span>].completed=<span class="hljs-literal">true</span>;<span class="hljs-comment">// -&gt;åŒæ­¥æ‰“å° â€˜Completed 1 of 1 items&#x27;</span></code></pre><p>Mobxæ˜¯é€šè¿‡ç›‘å¬æ•°æ®çš„å±æ€§å˜åŒ–ï¼Œç›´æ¥åœ¨æ•°æ®ä¸Šæ›´æ”¹æ¥è§¦å‘UIçš„æ¸²æŸ“ã€‚Mobxçš„ç›‘å¬æ–¹å¼æœ‰ä¸¤ç§ï¼š</p><ul><li>åœ¨Mobx5ä¹‹å‰ï¼Œå®ç°ç›‘å¬çš„æ–¹å¼æ˜¯Object.defineProperty</li><li>åœ¨Mobx5ä¹‹åï¼Œé‡‡ç”¨çš„æ˜¯Proxyæ–¹æ¡ˆã€‚</li></ul><p><strong>ç­”é¢˜</strong>ï¼š<br><img src="https://img.imgdb.cn/item/601e8c683ffa7d37b3801282.jpg" alt="çŠ¶æ€ç®¡ç†åº“æ€»ç»“"></p><blockquote><p>ä¸€ã€é¦–å…ˆä»‹ç»Flux,Fluxæ˜¯ä¸€ç§ä½¿ç”¨å•å‘æ•°æ®æµçš„å½¢å¼æ¥ç»„åˆReactç»„ä»¶çš„åº”ç”¨æ¶æ„ã€‚</p><p>FluxåŒ…å«äº†4ä¸ªéƒ¨åˆ†ï¼šDispatcher,Store,View,Actionã€‚Storeå­˜å‚¨äº†è§†å›¾å±‚æ‰€æœ‰çš„æ•°æ®ï¼Œå½“Storeå˜åŒ–åå¼•èµ·Viewå±‚çš„æ›´æ–°ã€‚å¦‚æœåœ¨è§†å›¾å±‚è§¦å‘ä¸€ä¸ªAction,å°±ä¼šä½¿å½“å‰çš„é¡µé¢æ•°æ®å€¼å‘ç”Ÿå˜åŒ–ã€‚Actionä¼šè¢«Dispatcherè¿›è¡Œç»Ÿä¸€çš„æ”¶å‘å¤„ç†ï¼Œä¼ é€’ç»™Storeå±‚ï¼ŒStoreå±‚å·²ç»æ³¨å†Œè¿‡ç›¸å…³Actionçš„å¤„ç†é€»è¾‘ï¼Œå¤„ç†å¯¹åº”çš„å†…éƒ¨çŠ¶æ€å˜åŒ–åï¼Œè§¦å‘Viewå±‚æ›´æ–°ã€‚</p><p>Fluxçš„ä¼˜ç‚¹ä½¿å•å‘æ•°æ®æµï¼Œè§£å†³äº†MVCä¸­æ•°æ®æµå‘ä¸æ¸…çš„é—®é¢˜ï¼Œä½¿å¼€å‘è€…å¯ä»¥å¿«é€Ÿäº†è§£åº”ç”¨è¡Œä¸ºã€‚ä»é¡¹ç›®ç»“æ„ä¸Šç®€åŒ–äº†è§†å›¾å±‚è®¾è®¡ï¼Œæ•°æ®ä¸ä¸šåŠ¡é€»è¾‘ä¹Ÿç»Ÿä¸€å­˜æ”¾ç®¡ç†ï¼Œä½¿åœ¨å¤§å‹æ¶æ„ä¸­æ›´å®¹æ˜“ç®¡ç†ä¸ç»´æŠ¤ä»£ç ã€‚</p></blockquote><blockquote><p>äºŒã€å…¶æ¬¡æ˜¯Reduxï¼ŒReduxÂ ä¸­æ•´ä¸ªæ•°æ®æµçš„æ–¹æ¡ˆä¸ Flux å¤§åŒå°å¼‚ã€‚å®ƒçš„æ ¸å¿ƒè®¾è®¡åŒ…å«ä¸‰å¤§åŸåˆ™ï¼šå•ä¸€æ•°æ®æºã€çº¯å‡½æ•°reducerã€stateæ˜¯åªè¯»çš„ã€‚</p><p>Redux ä¸­çš„å¦ä¸€å¤§æ ¸å¿ƒç‚¹æ˜¯å¤„ç†â€œå‰¯ä½œç”¨â€ï¼ŒAJAX è¯·æ±‚ç­‰å¼‚æ­¥å·¥ä½œï¼Œæˆ–ä¸æ˜¯çº¯å‡½æ•°äº§ç”Ÿçš„ç¬¬ä¸‰æ–¹çš„äº¤äº’éƒ½è¢«è®¤ä¸ºæ˜¯ â€œå‰¯ä½œç”¨â€ã€‚è¿™å°±é€ æˆåœ¨çº¯å‡½æ•°è®¾è®¡çš„ Redux ä¸­ï¼Œå¤„ç†å‰¯ä½œç”¨å˜æˆäº†ä¸€ä»¶è‡³å…³é‡è¦çš„äº‹æƒ…ã€‚ç¤¾åŒºé€šå¸¸æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š<br>(1)ç¬¬ä¸€ç±»æ˜¯åœ¨ Dispatch çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ª middleware ä¸­é—´ä»¶å±‚ï¼Œæ‹¦æˆªåˆ†å‘çš„ Action å¹¶æ·»åŠ é¢å¤–çš„å¤æ‚è¡Œä¸ºï¼Œè¿˜å¯ä»¥æ·»åŠ å‰¯ä½œç”¨ã€‚ç¬¬ä¸€ç±»æ–¹æ¡ˆçš„æµè¡Œæ¡†æ¶æœ‰ Redux-thunkã€Redux-Promiseã€Redux-Observableã€Redux-Saga ç­‰ã€‚<br>(2)ç¬¬äºŒç±»æ˜¯å…è®¸ Reducer å±‚ä¸­ç›´æ¥å¤„ç†å‰¯ä½œç”¨ï¼Œé‡‡å–è¯¥æ–¹æ¡ˆçš„æœ‰ React Loopï¼ŒReact Loop åœ¨å®ç°ä¸­é‡‡ç”¨äº† Elm ä¸­åˆ†å½¢çš„æ€æƒ³ï¼Œä½¿ä»£ç å…·å¤‡æ›´å¼ºçš„ç»„åˆèƒ½åŠ›ã€‚</p><p>Redux çš„ä¼˜ç‚¹å¾ˆå¤šï¼šç»“æœå¯é¢„æµ‹ï¼›ä»£ç ç»“æ„ä¸¥æ ¼æ˜“ç»´æŠ¤ï¼›æ¨¡å—åˆ†ç¦»æ¸…æ™°ä¸”å°å‡½æ•°ç»“æ„å®¹æ˜“ç¼–å†™å•å…ƒæµ‹è¯•ï¼›Action è§¦å‘çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨è°ƒè¯•å™¨ä¸­ä½¿ç”¨æ—¶é—´å›æº¯ï¼Œå®šä½é—®é¢˜æ›´ç®€å•å¿«æ·ï¼›å•ä¸€æ•°æ®æºä½¿æœåŠ¡ç«¯åŒæ„å˜å¾—æ›´ä¸ºå®¹æ˜“ï¼›ç¤¾åŒºæ–¹æ¡ˆå¤šï¼Œç”Ÿæ€ä¹Ÿæ›´ä¸ºç¹è£ã€‚</p></blockquote><blockquote><p>ä¸‰ã€æœ€åæ˜¯ Mobxï¼ŒMobx é€šè¿‡ç›‘å¬æ•°æ®çš„å±æ€§å˜åŒ–ï¼Œå¯ä»¥ç›´æ¥åœ¨æ•°æ®ä¸Šæ›´æ”¹è§¦å‘UI çš„æ¸²æŸ“ã€‚åœ¨ä½¿ç”¨ä¸Šæ›´æ¥è¿‘ Vueï¼Œæ¯”èµ· Flux ä¸ Redux çš„æ‰‹åŠ¨æŒ¡çš„ä½“éªŒï¼Œæ›´åƒå¼€è‡ªåŠ¨æŒ¡çš„æ±½è½¦ã€‚Mobx çš„å“åº”å¼å®ç°åŸç†ä¸ Vue ç›¸åŒï¼Œä»¥ Mobx 5 ä¸ºåˆ†ç•Œç‚¹ï¼Œ5 ä»¥å‰é‡‡ç”¨ Object.defineProperty çš„æ–¹æ¡ˆï¼Œ5 åŠä»¥åä½¿ç”¨ Proxy çš„æ–¹æ¡ˆã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯æ ·æ¿ä»£ç å°‘ã€ç®€å•ç²—æš´ã€ç”¨æˆ·å­¦ä¹ å¿«ã€å“åº”å¼è‡ªåŠ¨æ›´æ–°æ•°æ®è®©å¼€å‘è€…çš„å¿ƒæ™ºè´Ÿæ‹…æ›´ä½ã€‚</p></blockquote><p><font color=red>æ€»ç»“:</font></p><p>å¯¹æŠ€æœ¯è¿›è¡Œæ¨ªå‘æ¯”è¾ƒçš„æ—¶å€™åˆ‡å¿Œè¸©ä¸€æ§ä¸€!è°ˆä¸ªäººè§‚ç‚¹çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ç±»ä¼¼ä¸‹é¢è¿™ç§è¯´æ³•ï¼š</p><p>æˆ‘è®¤ä¸ºFluxçš„è®¾è®¡æ›´åå‘Facebookå†…éƒ¨çš„åº”ç”¨åœºæ™¯ï¼ŒFacebookçš„æ–¹æ¡ˆç•¥æ˜¾è‡ƒè‚¿ï¼Œæ‹“å±•èƒ½åŠ›ä¸ä½³ï¼Œæ‰€ä»¥åœ¨ç¤¾åŒºä¸­çƒ­åº¦ä¸å¤Ÿã€‚è€ŒReduxå› ä¸ºçº¯å‡½æ•°çš„å…ƒå©´ï¼Œç®€æ´è€Œä¸ç®€å•çš„APIè®¾è®¡ä½¿ç¤¾åŒºç–¯ç‹‚è´¡çŒ®å‘å±•ã€‚ä½†ä»å·¥ç¨‹è§’åº¦è€Œè¨€ï¼Œä¸æ˜¯æ¯ä¸€ä¸ªé¡¹ç›®éƒ½é€‚åˆå•ä¸€æ•°æ®æºã€‚å› ä¸ºæœ‰çš„é¡¹ç›®æ•°æ®æ˜¯æŒ‰é¡µé¢çº§åˆ«åˆ’åˆ†çš„ï¼Œé¡µé¢ä¹‹é—´ç›¸å¯¹éš”ç»ï¼Œå¹¶ä¸éœ€è¦å…±äº«æ•°æ®æºï¼Œæ˜¯å¦éœ€è¦ç”¨Reduxè¦è§†æƒ…å†µè€Œå®šã€‚Modxåœ¨å¼€å‘é¡¹ç›®æ˜¯ç®€å•å¿«é€Ÿï¼Œä½†åº”ç”¨Mobxçš„åœºæ™¯å…¶å®å¯ä»¥ä½¿ç”¨Vueå–ä»£ï¼Œè€Œä¸”ä½¿ç”¨Vueä½“ç§¯ä¼šæ›´å°å·§ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•å®å…¸ä¹‹Reactç¯‡</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•07-å¦‚ä½•é¢å‘ç»„ä»¶è·¨å±‚çº§é€šä¿¡ï¼Ÿ</title>
    <link href="/2021/01/18/%E9%9D%A2%E8%AF%9507-%E5%A6%82%E4%BD%95%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E8%B7%A8%E5%B1%82%E7%BA%A7%E9%80%9A%E4%BF%A1/"/>
    <url>/2021/01/18/%E9%9D%A2%E8%AF%9507-%E5%A6%82%E4%BD%95%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E8%B7%A8%E5%B1%82%E7%BA%A7%E9%80%9A%E4%BF%A1/</url>
    
    <content type="html"><![CDATA[<h3 id="é¢è¯•åœºæ™¯7ï¼šå¦‚ä½•é¢å‘ç»„ä»¶å±‚çº§é€šä¿¡ï¼Ÿ"><a href="#é¢è¯•åœºæ™¯7ï¼šå¦‚ä½•é¢å‘ç»„ä»¶å±‚çº§é€šä¿¡ï¼Ÿ" class="headerlink" title="é¢è¯•åœºæ™¯7ï¼šå¦‚ä½•é¢å‘ç»„ä»¶å±‚çº§é€šä¿¡ï¼Ÿ"></a>é¢è¯•åœºæ™¯7ï¼šå¦‚ä½•é¢å‘ç»„ä»¶å±‚çº§é€šä¿¡ï¼Ÿ</h3><p>Reactæ˜¯ä¸€ä¸ªç»„ä»¶åŒ–æ¡†æ¶ï¼ŒåŸºäºç»„ä»¶æ ‘çš„ä½ç½®åˆ†å¸ƒï¼Œç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œå¤§è‡´åˆ†ä¸º4ç§ï¼š</p><ul><li>çˆ¶ä¸å­ï¼šçˆ¶ç»„ä»¶åŒ…è£¹å­ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®</li><li>å­ä¸çˆ¶ï¼šå­ç»„ä»¶å­˜åœ¨çˆ¶ç»„ä»¶ä¹‹ä¸­ï¼Œå­ç»„ä»¶éœ€è¦å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ã€‚</li><li>å…„å¼Ÿï¼šä¸¤ä¸ªç»„ä»¶å¹¶åˆ—å­˜äºçˆ¶ç»„ä»¶ç§ï¼Œéœ€è¦è¿›è¡Œç›¸äº’ä¼ é€’æ•°æ®ã€‚</li><li>æ— ç›´æ¥å…³ç³»ï¼šä¸¤ä¸ªç»„ä»¶å¹¶æ²¡æœ‰ç›´æ¥çš„å…³è”å…³ç³»ï¼Œä½†æ˜¯éœ€è¦å…±äº«ã€ä¼ é€’æ•°æ®ã€‚</li></ul><p>æ¯ä¸€ç§é€šä¿¡æ–¹å¼éƒ½å…·æœ‰ä¸€å®šçš„å®é™…æ„ä¹‰ï¼Œä»¥åŠå…·ä½“çš„ä¸šåŠ¡åœºæ™¯å¯¹åº”ï¼Œè€Œä¸åªæ˜¯ä»£ç çš„å‘ˆç°ã€‚è¿™ç§é¢˜ä¸€å®šè¦ç»“åˆå®é™…çš„åœºæ™¯æ‰å…·æœ‰è¯´æœåŠ›ã€‚</p><h4 id="ä¸€-çˆ¶å‘å­ä¼ é€’æ•°æ®"><a href="#ä¸€-çˆ¶å‘å­ä¼ é€’æ•°æ®" class="headerlink" title="ä¸€.çˆ¶å‘å­ä¼ é€’æ•°æ®"></a>ä¸€.çˆ¶å‘å­ä¼ é€’æ•°æ®</h4><p>çˆ¶ä¸å­çš„é€šä¿¡æ˜¯æœ€å¸¸è§çš„åœºæ™¯ï¼ŒReactå¼€å‘çš„æ¯ä¸ªç»„ä»¶éƒ½åœ¨ä½¿ç”¨è¿™æ ·çš„è®¾è®¡æ¨¡å¼ã€‚çˆ¶å‘å­ä¼ é€’æ•°æ®ï¼Œæ˜¯ä»¥Propså®Œæˆçš„ã€‚<br>ä¸¾ä¾‹ï¼Œä½¿ç”¨Propsä¼ é€’çš„ç±»ä¼¼åœºæ™¯æœ‰ï¼š</p><ul><li>åœ¨åˆå§‹åŒ–æ—¶å±•ç¤ºé»˜è®¤æ–‡æ¡ˆ</li><li>åˆå§‹åŒ–ä»¥åé€šè¿‡ç½‘ç»œè¯·æ±‚æ‹‰å–æ–‡æ¡ˆæ•°æ®</li><li>é€šè¿‡Propsä¼ é€’stateçš„æ–‡æ¡ˆæ•°æ®ï¼Œæ¥æ›´æ–°æŒ‰é’®ä¸­çš„æ–‡æ¡ˆã€‚</li></ul><pre><code class="hljs js"><span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">&#123;text&#125;</span>) =&gt;</span> &#123;    &lt;button&gt;&#123;text&#125;&lt;/button&gt;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;    state = &#123;        text: <span class="hljs-string">&#x27;é»˜è®¤æ–‡æ¡ˆ&#x27;</span>    &#125;    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">&#x27;./api/buttonText&#x27;</span>);        <span class="hljs-built_in">this</span>.setState(&#123;            text: reponse.buttonText;        &#125;)    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">const</span> &#123;text&#125; = <span class="hljs-built_in">this</span>.state;        <span class="hljs-keyword">return</span> (            &lt;Button text=&#123;text&#125; /&gt;        )    &#125;&#125;</code></pre><p>è¿™æ ·çš„é€šä¿¡æ–¹å¼é€‚ç”¨äºé¢è¯•ç¬¬5è®²ä¸­çš„å±•ç¤ºç»„ä»¶ã€‚åœ¨è¿™æ®µç¤ºä¾‹ä»£ç ä¸­ï¼ŒHomePageæ˜¯ä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œè€ŒButtonæ˜¯ä¸€ä¸ªå±•ç¤ºç»„ä»¶ã€‚</p><h4 id="äºŒ-å­å‘çˆ¶ä¼ é€’æ•°æ®"><a href="#äºŒ-å­å‘çˆ¶ä¼ é€’æ•°æ®" class="headerlink" title="äºŒ.å­å‘çˆ¶ä¼ é€’æ•°æ®"></a>äºŒ.å­å‘çˆ¶ä¼ é€’æ•°æ®</h4><p>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶çš„é€šä¿¡ä¸»è¦ä¾èµ–å›è°ƒå‡½æ•°ã€‚</p><p><strong>2.1 å›è°ƒå‡½æ•°</strong>ï¼š</p><p>å›è°ƒå‡½æ•°åœ¨JSä¸­ç§°ä¸ºcallbackï¼ŒReactå…è®¸å‡½æ•°ä½œä¸ºå‚æ•°èµ‹å€¼ç»™å­ç»„ä»¶ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Input</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;    handleChanged = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span>&#123;        <span class="hljs-built_in">this</span>.props.onChangeText(e.target.text)    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;handleTextChanged&#125;</span> /&gt;</span></span>    &#125;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Compoent</span></span>&#123;    handleTextChanged = <span class="hljs-function">(<span class="hljs-params">text</span>) =&gt;</span>&#123;        <span class="hljs-built_in">console</span>.log(text);    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> (            &lt;Input onChangeText=&#123;<span class="hljs-built_in">this</span>.handleTextChanged&#125; /&gt;        )    &#125;&#125;</code></pre><p>å›è°ƒå‡½æ•°ä¸ä»…ä»…ç”¨äºä¼ é€’å€¼ï¼Œå®ƒè¿˜å¯ä»¥ç”¨åœ¨æ¸²æŸ“ä¸­ï¼Œçˆ¶ç»„ä»¶æ ¹æ®è¿”å›çš„ç»“æœï¼Œå†³å®šå­ç»„ä»¶è¯¥æ¸²æŸ“ä»€ä¹ˆã€‚æ¯”å¦‚åœ¨React Routerä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šè¿™æ ·ä½¿ç”¨ï¼š</p><pre><code class="hljs js">&lt;Route path=<span class="hljs-string">&#x27;/hello&#x27;</span> render=&#123;<span class="hljs-function">()=&gt;</span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello Everyone<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>&#125; /&gt;</code></pre><p>è¿™é‡Œçš„å›è°ƒæ²¡æœ‰ä½¿ç”¨å…·ä½“çš„å‚æ•°ï¼Œæˆ‘ä»¬å¯å†çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FetchPosts</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;    state=&#123;        loading: <span class="hljs-literal">true</span>,        data:[]    &#125;    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">&#x27;/api/posts&#x27;</span>);        <span class="hljs-built_in">this</span>.setState(&#123;            data: response.data,            loading: <span class="hljs-literal">false</span>,        &#125;)    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params"><span class="hljs-built_in">this</span>.state.loading</span>)</span>&#123;            <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Loading</span> /&gt;</span></span>        &#125;        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.props.renderPosts(<span class="hljs-built_in">this</span>.state.data)    &#125;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> (            &lt;FetchPosts                 renderPosts=&#123;<span class="hljs-function"><span class="hljs-params">posts</span>=&gt;</span>(                    &lt;ul&gt;                        &#123;posts.map(<span class="hljs-function"><span class="hljs-params">post</span>=&gt;</span>(                            &lt;li key=&#123;post.id&#125;&gt;                                &lt;h2&gt;&#123;post.title&#125;&lt;/h2&gt;                                &lt;p&gt;&#123;post.description&#125;&lt;/p&gt;                            &lt;/li&gt;                        ))&#125;                    &lt;/ul&gt;                )&#125;            /&gt;        )    &#125;&#125;</code></pre><p>é‡‡å–è¿™æ ·çš„ç­–ç•¥å¯ä»¥ä½¿<strong>å­ç»„ä»¶ä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œçˆ¶ç»„ä»¶ä¸“æ³¨æ¸²æŸ“æ•ˆæœ</strong></p><p><strong>2.2 å®ä¾‹å‡½æ•°</strong></p><p>å®ä¾‹å‡½æ•°æ˜¯ä¸€ç§ä¸è¢«æ¨èçš„ä½¿ç”¨æ–¹å¼ï¼Œè¿™ç§é€šä¿¡æ–¹å¼ä¸»è¦è§äºReactæµè¡ŒåˆæœŸï¼Œé‚£æ—¶æœ‰å¾ˆå¤šç»„ä»¶éƒ½é€šè¿‡jQueryæ’ä»¶ç”Ÿæˆã€‚æœ€å¸¸è§çš„ä¸€ç§æƒ…å†µæ˜¯åœ¨Modalä¸­ä½¿ç”¨ã€‚<br>ç¤ºä¾‹ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;    <span class="hljs-keyword">const</span> modalRef = React.createRef();    showModal = <span class="hljs-function">() =&gt;</span> &#123;        <span class="hljs-built_in">this</span>.modalRef.show();    &#125;    hideModal = <span class="hljs-function">() =&gt;</span> &#123;        <span class="hljs-built_in">this</span>.modaRef.hide();    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;        <span class="hljs-keyword">return</span> (            &lt;&gt;                &lt;Button onClick=&#123;<span class="hljs-built_in">this</span>.showModal&#125;&gt;å±•ç¤ºModal&lt;/Button&gt;                &lt;Button onClick=&#123;<span class="hljs-built_in">this</span>.hideModal&#125;&gt;éšè—Modal&lt;/Button&gt;                &lt;Modal ref=&#123;modalRef&#125; /&gt;            &lt;/&gt;        )    &#125;&#125;</code></pre><p>ä½†æ˜¯ä¸Šè¿°å¹¶ä¸ç¬¦åˆReactçš„è®¾è®¡ç†å¿µï¼ŒåƒAntdçš„Modaléƒ½æ˜¯å°†æ˜¾éšçš„æ§åˆ¶æ”¾åœ¨visibleå‚æ•°ä¸Šï¼Œç›´æ¥é€šè¿‡å‚æ•°æ§åˆ¶ã€‚</p><h4 id="ä¸‰-å…„å¼Ÿä¹‹é—´ä¼ é€’æ•°æ®"><a href="#ä¸‰-å…„å¼Ÿä¹‹é—´ä¼ é€’æ•°æ®" class="headerlink" title="ä¸‰.å…„å¼Ÿä¹‹é—´ä¼ é€’æ•°æ®"></a>ä¸‰.å…„å¼Ÿä¹‹é—´ä¼ é€’æ•°æ®</h4><p>å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œå¾€å¾€ä¾èµ–äºå…±åŒçš„çˆ¶ç»„ä»¶è¿›è¡Œä¸­è½¬ã€‚</p><p>ä¸¾ä¸ªæ —å­ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Input</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    handleChanged = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span>&#123;        <span class="hljs-built_in">this</span>.props.onChangeText(e.target.text)    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;handleChanged&#125;</span> /&gt;</span></span>    &#125;&#125;<span class="hljs-keyword">const</span> StaticText = <span class="hljs-function">(<span class="hljs-params">&#123;children&#125;</span>) =&gt;</span> &#123;    <span class="hljs-keyword">return</span> (        &lt;p&gt;&#123;children&#125;&lt;/p&gt;    )&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    state=&#123;        text:<span class="hljs-string">&quot;é»˜è®¤æ–‡å­—&quot;</span>    &#125;    handleTextChanged = <span class="hljs-function">(<span class="hljs-params">text</span>)=&gt;</span>&#123;        <span class="hljs-built_in">this</span>.setState(&#123;            text,        &#125;)    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> (            &lt;&gt;                &lt;Input onChangeText=&#123;<span class="hljs-built_in">this</span>.handleTextChanged&#125; /&gt;                &lt;StaticText&gt;<span class="hljs-built_in">this</span>.state.text&lt;/StaticText&gt;            &lt;/&gt;        )    &#125;&#125;</code></pre><p>åœ¨ä¸Šè¿°æ¡ˆä¾‹ä¸­ï¼ŒStaticTextç»„ä»¶éœ€è¦å±•ç¤ºçš„å†…å®¹æ¥è‡ªè¾“å…¥æ¡†è¾“å…¥çš„å€¼ï¼Œé‚£ä¹ˆé€šè¿‡çˆ¶ç»„ä»¶çš„stateè¿›è¡Œæ”¶é›†ã€ä¸­è½¬ã€èµ‹å€¼ç»™StaticTextï¼Œå°±å®Œæˆäº†ä»¥ä¸Šçš„é€šä¿¡ã€‚è¿™ç§æ¨¡å¼ä¸»è¦è´Ÿè´£åœ¨å®¹å™¨ç»„ä»¶ä¸­åè°ƒå„ç»„ä»¶çš„é€šä¿¡ã€‚</p><h4 id="å››-æ— ç›´æ¥å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®"><a href="#å››-æ— ç›´æ¥å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®" class="headerlink" title="å››.æ— ç›´æ¥å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®"></a>å››.æ— ç›´æ¥å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®</h4><p>æ— ç›´æ¥å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®æœ‰ä¸‰ç§æ–¹å¼ï¼šæ¶ˆæ¯è®¢é˜…-å‘å¸ƒã€é›†ä¸­å¼ç®¡ç†ï¼ˆreduxç­‰ï¼‰ã€ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼context(å¼€å‘ç”¨çš„å°‘ï¼Œå°è£…æ’ä»¶ç”¨çš„å¤š)ã€‚</p><p><strong>è·¨çº§ç»„ä»¶é€šä¿¡</strong>ï¼š</p><ol><li>å±‚å±‚ä¼ é€’props:</li></ol><p>ä¾‹å¦‚Aç»„ä»¶å’ŒBç»„ä»¶ä¹‹é—´è¦è¿›è¡Œé€šä¿¡ï¼Œå…ˆæ‰¾åˆ°Aå’ŒBå…¬å…±çš„çˆ¶ç»„ä»¶Cï¼ŒAå…ˆå‘Cç»„ä»¶é€šä¿¡ï¼ŒCç»„ä»¶é€šè¿‡propså’ŒBç»„ä»¶é€šä¿¡ã€‚æ­¤æ—¶ï¼ŒCç»„ä»¶èµ·çš„å°±æ˜¯ä¸­é—´ä»¶çš„ä½œç”¨ã€‚</p><ol start="2"><li>ä½¿ç”¨context:</li></ol><p>contextæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåƒæ˜¯ä¸€ä¸ªå¤§å®¹å™¨ï¼Œåœ¨å…¶ä»–ç»„ä»¶ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥éšæ„å–åˆ°ï¼›ä½†æ˜¯Reactå®˜æ–¹å¹¶ä¸å»ºè®®å¤§é‡ä½¿ç”¨contextï¼Œå› ä¸ºå½“ç»„ä»¶ç»“æ„å¤æ‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“contextæ˜¯ä»å“ªé‡Œä¼ è¿‡æ¥çš„ï¼Œè€Œä¸”contextæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå…¨å±€å˜é‡æ­£æ˜¯å¯¼è‡´åº”ç”¨èµ°å‘æ··ä¹±çš„ç½ªé­ç¥¸é¦–ã€‚</p><p>æ —å­ï¼šListItemæ˜¯Listçš„å­ç»„ä»¶ï¼ŒListæ˜¯Appçš„å­ç»„ä»¶</p><pre><code class="hljs js"><span class="hljs-comment">//ListItem.jsx</span><span class="hljs-keyword">import</span> React,&#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">import</span> PropTypes <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;props-types&#x27;</span>;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListItem</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;    <span class="hljs-comment">//å­ç»„ä»¶å£°æ˜è‡ªå·±è¦ä½¿ç”¨context</span>    <span class="hljs-keyword">static</span> contextTypes = &#123;        color: PropTypes.string    &#125;    <span class="hljs-keyword">static</span> propTypes = &#123;        value: PropTypes.string    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">const</span> &#123;value&#125; = <span class="hljs-built_in">this</span>.props;        <span class="hljs-keyword">return</span> (            &lt;li style=&#123;&#123; <span class="hljs-attr">background</span>: <span class="hljs-built_in">this</span>.context.color&#125;&#125;&gt;                &lt;span&gt;&#123;value&#125;&lt;/span&gt;            &lt;/li&gt;        )    &#125;&#125;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ListItem;</code></pre><pre><code class="hljs js"><span class="hljs-comment">//List.jsx</span><span class="hljs-keyword">import</span> ListItem <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ListItem&#x27;</span>;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span></span>&#123;    <span class="hljs-comment">//çˆ¶ç»„ä»¶å£°æ˜è‡ªå·±æ”¯æŒcontext</span>    <span class="hljs-keyword">static</span> childContextTypes = &#123;        color: PropTypes.string    &#125;    <span class="hljs-keyword">static</span> propTypes = &#123;        list: PropTypes.array    &#125;    <span class="hljs-comment">//æä¾›ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è¿”å›ç›¸åº”çš„contextå¯¹è±¡</span>    <span class="hljs-function"><span class="hljs-title">getChildContext</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> &#123;            color: <span class="hljs-string">&#x27;red&#x27;</span>,        &#125;;    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">const</span> &#123; list &#125; = <span class="hljs-built_in">this</span>.props;        <span class="hljs-keyword">return</span> (            &lt;div&gt;                &lt;ul&gt;                    &#123;                        list.map(<span class="hljs-function">(<span class="hljs-params">entry,index</span>)=&gt;</span>                            &lt;ListItem key=&#123;<span class="hljs-string">`list-<span class="hljs-subst">$&#123;index&#125;</span>`</span>&#125; value=&#123;entry.text&#125; /&gt;                        )                    &#125;                &lt;/ul&gt;            &lt;/div&gt;        )    &#125;&#125;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> List;</code></pre><pre><code class="hljs js"><span class="hljs-comment">//App.jsx</span><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">import</span> List <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./components/List&#x27;</span>;<span class="hljs-keyword">const</span> list = [    &#123;        text: <span class="hljs-string">&#x27;é¢˜ç›®1&#x27;</span>,    &#125;,    &#123;        text: <span class="hljs-string">&#x27;é¢˜ç›®2&#x27;</span>,    &#125;,];<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> (            &lt;div&gt;                &lt;List list=&#123;list&#125;/&gt;            &lt;/div&gt;        )    &#125;&#125;<span class="hljs-string">``</span><span class="hljs-string">` </span><span class="hljs-string"></span><span class="hljs-string">**æ²¡æœ‰åµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡**ï¼š</span><span class="hljs-string"></span><span class="hljs-string">ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶æœºåˆ¶ï¼šåœ¨componentDidMountäº‹ä»¶ä¸­ï¼Œå¦‚æœç»„ä»¶æŒ‚è½½å®Œæˆï¼Œå†è®¢é˜…äº‹ä»¶ï¼›åœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™ï¼ŒcomponentWillUnmountä¸­å–æ¶ˆäº‹ä»¶çš„è®¢é˜…ã€‚</span><span class="hljs-string">ä»¥å¸¸ç”¨çš„å‘å¸ƒ/è®¢é˜…æ¨¡å¼ä¸¾ä¾‹ï¼Œå€Ÿç”¨Node.js Eventsæ¨¡å—çš„æµè§ˆå™¨ç‰ˆå®ç°</span><span class="hljs-string"></span><span class="hljs-string">æ —å­ï¼š</span><span class="hljs-string">List1å’ŒList2æ²¡æœ‰ä»»ä½•åµŒå¥—å…³ç³»ï¼ŒAppæ˜¯ä»–ä»¬çš„çˆ¶ç»„ä»¶ã€‚</span><span class="hljs-string">å®ç°çš„åŠŸèƒ½ï¼šç‚¹å‡»List2ä¸­çš„ä¸€ä¸ªæŒ‰é’®ï¼Œæ”¹å˜List1ä¸­çš„ä¿¡æ¯æ˜¾ç¤ºã€‚</span><span class="hljs-string">`</span><span class="hljs-string">``</span>js<span class="hljs-comment">//é¦–å…ˆå®‰è£…eventsåŒ…</span>npm install events --save<span class="hljs-comment">//åœ¨srcä¸‹æ–°å»ºä¸€ä¸ªutilç›®å½•ï¼Œé‡Œé¢å»ºä¸€ä¸ªevents.js</span><span class="hljs-keyword">import</span> &#123; EventEmitter &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;events&#x27;</span>;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> EvenetEmitter();</code></pre><pre><code class="hljs js"><span class="hljs-comment">//List1.jsx</span><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">import</span> emitter <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../util/events&#x27;</span>;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">props</span>)</span>&#123;        <span class="hljs-built_in">super</span>(props);        <span class="hljs-built_in">this</span>.state = &#123;            message: <span class="hljs-string">&#x27;List1&#x27;</span>,        &#125;    &#125;    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-comment">//ç»„ä»¶æŒ‚è½½å®Œæˆä»¥åå£°æ˜ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶</span>        <span class="hljs-built_in">this</span>.eventEmitter = emitter.addListener(<span class="hljs-string">&#x27;changeMessage&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">message</span>)=&gt;</span>&#123;            <span class="hljs-built_in">this</span>.setState(&#123;                message            &#125;)        &#125;)    &#125;    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-comment">//ç»„ä»¶å¸è½½å®Œæˆåï¼Œç§»å‡ºäº‹ä»¶</span>        emitter.removeListener(<span class="hljs-built_in">this</span>.eventEmitter);    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> (            &lt;div&gt;                &#123;<span class="hljs-built_in">this</span>.state.message&#125;            &lt;/div&gt;        )    &#125;&#125;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> List;</code></pre><pre><code class="hljs js"><span class="hljs-comment">//List2.jsx</span><span class="hljs-keyword">import</span> React, &#123;Component&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">import</span> emitter <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../util/events&#x27;</span>;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">List2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span></span>&#123;    handleClick = <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span>&#123;        emitter.emit(<span class="hljs-string">&#x27;changeMessge&#x27;</span>,message);    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> (            &lt;div&gt;                &lt;button onClick=&#123;<span class="hljs-built_in">this</span>.handleClick.bind(<span class="hljs-built_in">this</span>,<span class="hljs-string">&#x27;List2&#x27;</span>)&#125;&gt;ç‚¹æˆ‘æ”¹å˜List1ç»„ä»¶ä¸­æ˜¾ç¤ºä¿¡æ¯&lt;/button&gt;            &lt;/div&gt;        )    &#125;&#125;<span class="hljs-keyword">export</span>  <span class="hljs-keyword">default</span> List2;</code></pre><pre><code class="hljs js"><span class="hljs-comment">//App.jsx</span><span class="hljs-keyword">import</span> React, &#123;Component&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">import</span> List1 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./components/List1&#x27;</span>;<span class="hljs-keyword">import</span> List2 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./components/List2&#x27;</span>;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span>(            &lt;div&gt;                &lt;List1 /&gt;                &lt;List2 /&gt;            &lt;/div&gt;        )    &#125;&#125;</code></pre><p>è‡ªå®šä¹‰äº‹ä»¶æ˜¯å…¸å‹çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œé€šè¿‡å‘äº‹ä»¶å¯¹è±¡æ·»åŠ ç›‘å¬å™¨å’Œè§¦å‘äº‹ä»¶æ¥å®ç°ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚ </p><p><font color='green'>æ€»ç»“ï¼š</font></p><ul><li>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡ï¼šprops</li><li>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡ï¼šå›è°ƒå‡½æ•°/è‡ªå®šä¹‰äº‹ä»¶</li><li>è·¨çº§ç»„ä»¶é€šä¿¡ï¼šå±‚å±‚ç»„ä»¶ä¼ é€’props/context</li><li>æ²¡æœ‰åµŒå¥—å…³ç³»ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼šè‡ªå®šä¹‰äº‹ä»¶</li></ul><p>åœ¨è¿›è¡Œç»„ä»¶é€šä¿¡çš„æ—¶å€™ä¸»è¦çœ‹ä¸šåŠ¡çš„å…·ä½“éœ€æ±‚ï¼Œé€‰æ‹©æœ€åˆé€‚çš„ã€‚å½“ä¸šåŠ¡é€»è¾‘æ¯”è¾ƒå¤æ‚æ—¶ï¼Œå°±å¯ä»¥å¼•å…¥Mobx/Reduxç­‰çŠ¶æ€ç®¡ç†å·¥å…·ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•å®å…¸ä¹‹Reactç¯‡</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2020å¹´åº¦æ€»ç»“</title>
    <link href="/2020/12/31/2020%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    <url>/2020/12/31/2020%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p>&emsp;ğŸˆç°åœ¨æ˜¯2020å¹´12.31å·æ—©ä¸Šå…«ç‚¹åŠï¼Œåˆæ˜¯ä¸€å¹´å¹´åº•ã€‚æ¯å¹´çš„å¹´åº•çœ‹åˆ°å¾ˆå¤šäººåœ¨å†™å¹´ç»ˆç»ˆç»“ï¼Œæ€»å¿ä¸ä½æƒ³æˆ‘ä¹Ÿè¦å¥½å¥½æ€»ç»“ä¸€ç•ªï¼Œä½†æœ€ååŸºæœ¬éƒ½æ˜¯å¾®åšä¸Šå‡ ä¸ªå­—æˆ–å‡ åä¸ªå­—è‰è‰äº†äº‹ã€‚ä»Šå¹´ç»ˆäºå¼€å§‹å†™è‡ªå·±çš„åšå®¢äº†ï¼Œä¹Ÿå€Ÿæ­¤æ­£å¼åœ°å¯¹è¿‡å»çš„ä¸€å¹´è¿›è¡Œæ€»ç»“ï¼Œå¯¹æ–°åˆ°æ¥çš„2021åšå¥½è§„åˆ’ã€‚</p><h4 id="ä¸€ã€å›é¡¾2020"><a href="#ä¸€ã€å›é¡¾2020" class="headerlink" title="ä¸€ã€å›é¡¾2020"></a>ä¸€ã€å›é¡¾2020</h4><p>&emsp;å¤§ç¯å¢ƒä¸‹ï¼Œ2020å¹´ç¡®å®æ˜¯å¾ˆåå·çš„ä¸€å¹´ï¼Œä¸€åœºç–«æƒ…è®©å¾ˆå¤šäººç¦»å»ï¼Œè®©å¾ˆå¤šäººå¤±å»äº²äººï¼Œè®©å¾ˆå¤šäººä¸‹å²—å¤±ä¸šâ€¦åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œâ€œ æˆ‘è§‰å¾—è‡ªå·±çš„2020è¿‡å¾—çœŸæŒºä¸é”™ â€çš„æƒ³æ³•ç”šè‡³ä¼šè®©äººæ„§ç–šä¸å®‰ã€‚ä½†ä¸å¾—ä¸è¯´ï¼Œä»Šå¹´çš„å¿«ä¹ç¡®å®æ˜¯è¿œè¿œå¤šäºæ‚²ä¼¤çš„ï¼Œå¤§æ¦‚åº”è¯¥æ„Ÿæ©ã€æ„Ÿè°¢æœ¬å‘½å¹´çš„è¿™äº›æ©èµã€‚ğŸ¥°</p><p><strong>1æœˆ</strong>ï¼š</p><p>&emsp;2019å¹´çš„12æœˆ31å·æ™šä¸Šï¼Œæˆ‘å»è¶…å¸‚ä¹°äº†å¾ˆå¤šé›¶é£Ÿï¼Œå»å®¿èˆå¯¹é¢çš„æ­£æ–°é¸¡æ’ä¹°äº†ç‚¸é¸¡ã€‚æŠ±ç€ä¸€å †åƒåœ¾é£Ÿå“ï¼Œæ‰“å¼€äº†ç”µè„‘çœ‹æ¹–å—å«è§†çš„è·¨å¹´ã€‚è€Œåå› å¤ªæ— èŠï¼Œå»çœ‹äº†ã€Šçº½çº¦çš„ä¸€ä¸ªä¸‹é›¨å¤©ã€‹ï¼Œå¾—åˆ°å®‰æ…°ã€‚å¿ƒæƒ…å¹³é™åœ°æœŸå¾…ç€å³å°†åˆ°æ¥çš„æœ¬å‘½å¹´ä¼šå‘ç”Ÿä¸€äº›ç‰¹åˆ«çš„äº‹æƒ…ã€‚ğŸ’Œ</p><p>&emsp;1.8å·æˆ‘æ—©æ—©ä»æ­¦æ±‰å›åˆ°å®¶é‡Œï¼Œç°åœ¨å›æœ›ï¼ŒçœŸè§‰å¾—é‚£æ—¶å†’ç€å¯¼å¸ˆä¼šå‘ç«çš„é£é™©ä¸€å¿ƒè·‘å›å®¶çš„å†³å®šå¤šä¹ˆæ­£ç¡®ã€‚åœ¨å®¶åƒåƒç¡ç¡äº†å‡ å¤©ï¼Œä¸æ›¾æƒ³è¿‡æ—©æœ‰ä¼ è¨€çš„ç–«æƒ…ä¼šå¤§é¢ç§¯çˆ†å‘ã€ä¼šå¤ºå»é‚£ä¹ˆå¤šäººçš„ç”Ÿå‘½ã€‚æ˜¥èŠ‚å‰åï¼Œæ­¦æ±‰å¼€å§‹å°åŸï¼Œæˆ‘ä»¬åœ¨åŸå¤–ä¹Ÿå¯¹ç€æ‰‹æœºé™·å…¥äº†ææ…Œã€‚</p><p><strong>2~3æœˆ</strong>ï¼š</p><p>&emsp;2æœˆç–«æƒ…ä¾ç„¶ä¸¥é‡ï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡æˆ‘ä»¬å®¶åœ¨æ˜¥å­£æ²¡æœ‰å‡ºå»æ‹œå¹´ï¼Œæ‰€æœ‰çš„äº²æœ‹éš”ç€æ‰‹æœºäº’ç¥æ–°å¹´å¿«ä¹å¹³å®‰ã€‚å°åŸé‡Œæ‰€æœ‰çš„å°åŒºè·¯å£å¼€å§‹å°é”ï¼Œæˆ‘å’Œè€å¦ˆåœ¨å®¶å¾ˆä¹…æ²¡æœ‰ä¸‹æ¥¼ï¼Œè€çˆ¸å…¨å‰¯æ­¦è£…ï¼ˆå¸¦ç€å¤´ç›”å£ç½©ï¼‰ä¸‹æ¥¼åˆ°å°åŒºé—¨å£æ‹¿æå‰åœ¨æ‰‹æœºä¸Šä¹°å¥½çš„èœã€‚æˆ‘æ— æ‰€äº‹äº‹ï¼Œæ¯å¤©å¾®åšã€å¾®ä¿¡ä¸Šå…³æ³¨ç€ç–«æƒ…ï¼Œä¹Ÿæ‹…å¿ƒç€è‡ªå·±çš„äº²æœ‹ä¼šä¸ä¼šè¢«æ„ŸæŸ“ã€‚è¢«å¹³å‡¡äººä»¬è´¡çŒ®å‡ºçš„åŠ›é‡æ„ŸåŠ¨ï¼Œä¹Ÿå› å¾ˆå¤šåœ¨ä½è€…çš„ä¸ä½œä¸ºæ„¤æ‡‘ä¸å¹³ã€‚ææ–‡äº®åŒ»ç”Ÿç¦»å¼€çš„é‚£å¤©ï¼Œæˆ‘æ°”æ„¤åœ°åœ¨å¾®åšç–¯ç‹‚è½¬å‘å’Œå‘è¡¨ç›¸å…³è¨€è®ºï¼Œâ€œ é«˜å°šæ˜¯é«˜å°šè€…çš„å¢“å¿—é“­ï¼Œå‘é„™æ˜¯å‘é„™è€…çš„é€šä¿¡è¯ â€ã€‚çœ‹åˆ°æœ‹å‹åœˆæœ‰äººè½¬å‘é²è¿…é‚£ç¯‡ã€Šçºªå¿µåˆ˜å’Œçå›ã€‹ï¼Œå†ä¸€æ¬¡è§‰å¾—ä»–çš„æ–‡å­—å¦‚æ­¤æœ‰åŠ›ï¼Œåƒä¸€æ ¹é’ˆæ‰å…¥å¿ƒå£ã€‚</p><p>&emsp;â€œæˆ‘å·²ç»å‡ºç¦»æ„¤æ€’äº†ï¼Œæˆ‘å°†æ·±å‘³è¿™éäººé—´çš„æµ“é»‘çš„æ‚²å‡‰ï¼›ä»¥æˆ‘çš„æœ€å¤§å“€ç—›æ˜¾ç¤ºäºéäººé—´ï¼Œä½¿å®ƒä»¬å¿«æ„äºæˆ‘çš„è‹¦ç—›ï¼Œå°±å°†è¿™ä½œä¸ºåæ­»è€…çš„è²è–„çš„ç¥­å“ï¼Œå¥‰çŒ®äºé€è€…çš„çµå‰â€¦â€ ææ–‡äº®åŒ»ç”Ÿå·²ç»ç¦»å¼€ä¸€å¹´äº†ï¼Œå¸Œæœ›ä»–åœ¨å¹³è¡Œæ—¶ç©ºçš„å¦ä¸€è¾¹è¿‡å¾—å¾ˆå¥½ï¼Œåƒç€å–œæ¬¢çš„é¸¡è…¿çœ‹ã€Šåº†ä½™å¹´ã€‹ã€‚ğŸ•¯ğŸ™</p><p>&emsp;2-3æœˆè§£å°å‰ï¼Œæˆ‘å’Œè€çˆ¸è€å¦ˆä¸€èµ·åœ¨å®¶é‡Œåº¦è¿‡äº†è¿‘å‡ å¹´é™ªä¼´å½¼æ­¤çš„æœ€é•¿ä¸€æ®µæ—¶å…‰ï¼Œæƒ³èµ·æ¥ä¹Ÿå¾ˆå¹¸ç¦ï¼Œçæƒœã€‚æˆ‘ä»¬åœ¨å®¶é‡Œçœ‹äº†ä¸¤éƒ¨ã€Šç…çŠæ¦œã€‹ï¼Œçœ‹äº†å¾ˆå¤šå¾ˆå¤šçš„å‰§ã€æ‰“ç‰Œï¼Œåˆ·æ‰‹æœºæ‰“å‘æ—¶å…‰ã€‚</p><p>&emsp;3æœˆ18å·¦å³å§ï¼Œç–«æƒ…é€æ¸å¥½è½¬ï¼Œå°åŒºå¼€å§‹ä¸€æ­¥æ­¥è§£å°ã€‚æˆ‘ä»¬ä¸€å®¶æ‰å¼€å§‹é€æ¸ä¸‹æ¥¼ï¼Œä½†ä¹Ÿåªåœ¨å°åŒºå†…æ´»åŠ¨ã€‚è®¸ä¹…ä¸ä¸‹æ¥¼ï¼Œæ‰å‘ç°æ˜¥å¤©å·²ç»æ¥äº†ï¼ŒèŠ±å„¿éƒ½å¼€äº†ã€‚</p><p><strong>4~5æœˆ</strong>ï¼š</p><p>&emsp;è¿™ä¸¤ä¸ªæœˆåŸºæœ¬å°±æ˜¯ä¸Šç½‘è¯¾ï¼Œåœ¨3æœˆå®Œæˆæˆ‘ä»¬ç»„çš„å·¥ç¨‹å®è®­å°ç¨‹åºåï¼Œæˆ‘å‘ç°å‰ç«¯ç»™æˆ‘å¸¦æ¥äº†æˆå°±æ„Ÿå’Œä¹è¶£ã€‚äºæ˜¯ä¸‹å®šå†³å¿ƒç³»ç»Ÿåœ°å­¦ä¹ å‰ç«¯çŸ¥è¯†ï¼Œæµ‘æ°´æ‘¸é±¼ä¸Šç½‘è¯¾çš„åŒæ—¶ï¼Œä¸€ç›´åœ¨Bç«™å­¦ä¹  html,csså’Œjsã€‚çœ‹åˆ°å¾ˆå¤šåŒå­¦æ‰¾åˆ°äº†å®ä¹ ï¼Œå¿ƒé‡Œä¹Ÿéå¸¸ç„¦è™‘ã€‚</p><p>&emsp;5æœˆåº•ï¼Œä»æ²¡æƒ³è¿‡ç¼˜åˆ†è¿™ç§ç¨€ç¼ºçš„ä¸œè¥¿ä¼šé™ä¸´åˆ°æˆ‘å¤´ä¸Šçš„ğŸ’˜ã€‚ç½‘æ˜“äº‘éŸ³ä¹ä¸Šçœ‹ç€åˆ«äººçš„æ•…äº‹ï¼Œä¹Ÿé‡åˆ°äº†æˆ‘çš„é‚£ä¸ªä»–ã€‚åœ¨æ­¤è¿˜æ˜¯è¦æ„Ÿè°¢é€¼å“¥ï¼Œæ„Ÿè°¢é‚£æ®µæ—¶é—´æ·±å¤œå¬çš„ã€Šæ¢µé«˜å…ˆç”Ÿã€‹ï¼Œã€Šå¤©ç©ºä¹‹åŸã€‹å’Œã€Šå¿½ç„¶ã€‹ã€‚ğŸ’</p><p><strong>6~9æœˆ</strong>ï¼š</p><p>&emsp;6æœˆ10å·ä¹‹åæ‰å¼€å§‹åçŸ¥åè§‰åœ°æŠ•ç®€å†ï¼Œå…¶å®åªæ˜¯æŠ±ç€è¯•è¯•çš„å¿ƒæ€ï¼Œæ²¡æƒ³åˆ°ç¬¬ä¸€æ¬¡çš„é¢è¯•å¦‚æ­¤é¡ºåˆ©ï¼Œä¹ŸåŒ†åŒ†å¿™å¿™å°±è·‘å»ä¸Šæµ·å…¥èŒäº†å–œé©¬æ‹‰é›…ã€‚é¢„æƒ³ä¸­çš„ä¸€åˆ‡åå·å…¶å®éƒ½æ²¡æ€ä¹ˆé­é‡ï¼Œè¿™æ®µå®ä¹ ä¹‹æ—…é‡åˆ°äº†ä¸€äº›å¾ˆå¥½çš„äººï¼Œç°åœ¨æƒ³æƒ³ä¹Ÿå¾ˆæ„Ÿæ©å‘€ã€‚</p><p>&emsp;å»åˆ°ä¸Šæµ·ï¼Œå¾ˆæ„Ÿè°¢äºŒå§æ”¶ç•™æˆ‘ä½äº†ä¸€å‘¨ï¼Œè¿˜å¸¦äº†æˆ‘é€›äº†ä¸€äº›åœ°æ–¹ï¼Œæˆ‘ä»¬ä¹Ÿåƒç€ä¸œè¥¿èŠåˆ°æ·±å¤œã€‚åæ¥äºŒå§å›åˆ°æˆéƒ½ï¼Œæˆ‘æ¬åˆ°äº†è‡ªå·±çš„å°å‡ºç§Ÿæˆ¿ã€‚è¿‡ç€æ¯å¤©æ—©å…«æ™šä¸ƒçš„ä¸Šç­ç”Ÿæ´»ï¼Œç«Ÿç„¶ä¹Ÿè§‰å¾—ç¾æ»‹æ»‹ï¼ŒåŒäº‹éƒ½å¯¹æˆ‘å¾ˆå¥½ï¼Œæœ‰é—®é¢˜ä¹Ÿå¯ä»¥æ¯«ä¸é¡¾å¿Œåœ°ä¸€ä¸ªåŠ²è¿½é—®ä»–ä»¬ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ¯å¤©ä¹Ÿåœ¨å¾®ä¿¡ä¸Šå’ŒçŒªçŒªå¼€å¿ƒåœ°èŠå¤©ã€‚</p><p>&emsp;è¿™æ®µæ—¶é—´ï¼Œè§äº†ä¸€äº›å¤§å­¦åŒå­¦ï¼Œè§‰å¾—å¤§å®¶å˜äº†å¾ˆå¤šåˆå¥½åƒä»€ä¹ˆéƒ½æ²¡å˜ã€‚å»æ­å·å‚åŠ å•å‘ç©ºé—´çš„æ‹¯æ•‘å®ä½“ä¹¦åº—è®¡åˆ’ï¼Œçœ‹åˆ°äº†è®¸çŸ¥è¿œï¼Œè§‰å¾—è¯»è¿‡å¾ˆå¤šä¹¦çš„äººï¼ˆåŒ…æ‹¬ååœ¨ä¸‹é¢æé—®çš„é‚£äº›äººå„¿ï¼‰çœŸçš„è¿·äººã€‚å»è‹å·çœ‹åˆ°äº†çœŸæ­£çš„å°æ¡¥æµæ°´ï¼Œå»äº†è¯šå“ä¹¦åº—å¾ˆå–œæ¬¢ã€‚æ¯ä¸ªå‘¨æœ«éƒ½å¾ˆå……å®ï¼Œéƒ½å¾ˆå¿«ä¹ã€‚</p><p><strong>9~12æœˆ</strong>ï¼š</p><p>&emsp;9.14å› ä¸ºå°å¯¼å¸ˆå’Œå­¦æ ¡çš„å°æ ¡ï¼Œå›åˆ°äº†æ­¦æ±‰ã€‚ç»ˆäºè§åˆ°äº†æˆ‘çš„å°æï¼Œä¹Ÿå¼€å§‹äº†æˆ‘ä»¬ç”œç”œçš„æ‹çˆ±ã€‚9æœˆæˆ‘ä»¬å»äº†æ­¦æ˜Œæµ·æ´‹é¦†ï¼Œå»äº†ä»–çš„å­¦æ ¡ã€‚10æœˆæˆ‘ä»¬å»äº†ä¸œæ¹–ç»¿é“ï¼Œå»äº†ä¸œæ¹–æµ·æ´‹é¦†ï¼Œåœ¨ä¸œæ¹–è¾¹çœ‹æ—¥è½ã€‚11æœˆæˆ‘ä»¬å»äº†æ˜™åæ—ï¼Œç²®é“è¡—ï¼Œçœ‹åˆ°äº†å¤œæ™šçš„é»„é¹¤æ¥¼ï¼Œå¤œè¡Œåœ¨æ­¦æ±‰é•¿æ±Ÿå¤§æ¡¥ä¸Šï¼Œä¸€è·¯ä¸Šä¸€ç›´å”±æ­Œï¼Œå˜¿å˜¿ã€‚12æœˆçš„åœ£è¯èŠ‚ï¼Œæˆ‘ä»¬ç»ˆäºå¦‚æ„¿å»äº†é•¿æ²™ï¼Œå»äº†æ©˜å­æ´²å¤´ï¼Œå»äº†å²³éº“å±±ï¼Œåœ¨æ°‘å®¿é‡Œè¿‡äº†æˆ‘çš„24å²ç”Ÿæ—¥ï¼Œåƒäº†å¾ˆå¤šå¾ˆå¤šçš„å°åƒå’Œæ¹–å—èœã€‚çœŸçš„éå¸¸éå¸¸å¼€å¿ƒå‘€ï¼ğŸ¥°</p><p>&emsp;ğŸŠè¿™ä¸€å¹´çœŸçš„å¾ˆå¿«ï¼Œè¿˜æƒ³ä¼¸æ‰‹æŠ“ä½é‚£äº›å›å¿†èµ·æ¥éƒ½å˜´è§’ä¸Šæ‰¬çš„å¿«ä¹ï¼Œä¹ŸæœŸå¾…æ–°çš„ä¸€å¹´æœ‰æ›´å¤šå¿«ä¹ã€‚</p><p><font color=blue>2020å¹´çœ‹çš„ä¹¦:</font></p><ul><li>ã€Šè’‹å‹‹è¯´çº¢æ¥¼ã€‹</li><li>ã€Šå›´åŸã€‹</li><li>ã€Šç™½å¤œè¡Œã€‹</li><li>ã€Šå«Œç–‘äººXçš„çŒ®èº«ã€‹</li><li>ã€Šé¢çº±ã€‹</li><li>ã€Šæ·±æ²‰çš„ç«ç‘°ã€‹â€“åšå°”èµ«æ–¯</li><li>ã€Šäº‹ç‰©çš„å‘³é“ï¼Œæˆ‘å°å¾—å¤ªæ—©äº†ã€‹â€“çŸ³å·å•„æœ¨</li><li>ã€Šä¸€é—´åªå±äºè‡ªå·±çš„æˆ¿é—´ã€‹</li><li>ã€Šåˆ°ç¯å¡”å»ã€‹  â€“ä¼å°”å¤«ï¼Œæ¥å¹´è¿˜è¦å¤šçœ‹ä¼å°”å¤«</li><li>ã€Šæˆ‘ä»¬çˆ±è¿‡åˆå¿˜è®°ã€‹â€“ä½™ç§€å</li><li>ã€Šç¥ä»¬è‡ªå·±ã€‹â€“é˜¿è¥¿è«å¤«ï¼Œçœ‹åˆ°ä¸€åŠ</li><li>ã€Šé“¶æ²³ç³»è¾¹ç¼˜çš„å°å¤±å¸¸ã€‹</li><li>ã€Šæƒ³æˆä¸ºç¥çš„å·´å£«å¸æœºã€‹â€“åŸƒç‰¹åŠ .å‡¯é›·ç‰¹ æ˜¯æˆ‘å‘ç°çš„å®è—å“¦</li><li>ã€Šå¤§å¸ˆä¸ç›æ ¼ä¸½ç‰¹ã€‹â€“å¸ƒå°”åŠ ç§‘å¤«ï¼ŒçœŸçš„æš—è®½è’è¯åˆç²¾å½©</li><li>ã€Šå€™åœºã€‹â€“æè¯ï¼Œå¸Œæœ›æˆ‘ä»¬éƒ½è‡³å°‘å¯¹è‡ªå·±è¯šå®ä¸€æ¬¡</li></ul><p>2020å¹´åˆåˆ¶å®šçš„æ¯å¤©ä¸€ä¸ªå°æ—¶çš„è¯»ä¹¦è®¡åˆ’åˆæ²¡å®Œæˆï¼Œæ–°çš„ä¸€å¹´è¿˜æ˜¯è¦å¤šçœ‹ä¹¦å‘€ã€‚</p><h4 id="äºŒã€å±•æœ›2021"><a href="#äºŒã€å±•æœ›2021" class="headerlink" title="äºŒã€å±•æœ›2021"></a>äºŒã€å±•æœ›2021</h4><p>&emsp;å³å°†åˆ°æ¥çš„æ–°çš„ä¸€å¹´ï¼Œå¸Œæœ›è‡ªå·±èƒ½æ›´å¥½åœ°åˆ©ç”¨æ—¶é—´ï¼Œåšæ›´å¤šæœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œå»å‘ç°å’Œåˆ›é€ æ›´å¤šçš„ç¾å¥½ã€‚</p><p><font color=blue>2021å¹´åº¦è®¡åˆ’:</font></p><ul><li>æ¯å¤©é˜…è¯»1å°æ—¶ ï¼ˆå¾®ä¿¡è¯»ä¹¦ã€ç½‘æ˜“èœ—ç‰›ã€å®ä½“ä¹¦ã€kindleéƒ½è¡Œï¼Œè¯·åŠ¡å¿…åšæŒï¼‰</li><li>æ¯å¤©æ‰‡è´è‹±æ–‡é˜…è¯»æ‰“å¡</li><li>ä¸è¦ä¹…åï¼Œæ³¨æ„é¢ˆæ¤ï¼Œæ¯å¤©å¤šæ´»åŠ¨</li><li>å°‘åˆ·å¾®åšå’Œå°çº¢ä¹¦ï¼Œæ²¡äº‹å¹²å°±å¤šè¯»ä¹¦</li><li>è¦å’Œå®è´è‡³å°‘å‡ºå»ç©ä¸€æ¬¡ï¼Œå¸Œæœ›å¯ä»¥å»ä¸œåŒ—</li><li>æ‰“HPVç–«è‹—ï¼ŒåšHPæ£€æµ‹</li><li>æ˜¥èŠ‚å‰æŠŠreactç›¸å…³ï¼Œå‰ç«¯åŸºç¡€çŸ¥è¯†å†ç³»ç»Ÿå­¦ä¹ ä¸€é</li><li>ä¸ŠåŠå¹´æ‰¾åˆ°ä¸€ä»½ä¸é”™çš„å®ä¹ ï¼Œä¸‹åŠå¹´æ‰¾ä¸€ä»½æ»¡æ„çš„å·¥ä½œ</li><li>å¯’å‡æœŸé—´å†™å¥½æ¯•ä¸šè®ºæ–‡åˆç¨¿</li><li>å­¦ä¹ æ›´å¤šçš„åŒ–å¦†çŸ¥è¯†ï¼Œè¦æ›´ç²¾è‡´ä¸€ç‚¹</li><li>â€¦..</li></ul><p>å°±å…ˆå®šè¿™ä¹ˆå¤šå•¦ï¼Œæ–°çš„ä¸€å¹´ä¹Ÿè¦åŠ æ²¹å‘€ï¼âœ¨</p><p>å¹³å®‰å–œä¹ï¼ğŸ‰</p>]]></content>
    
    
    <categories>
      
      <category>å¹´åº¦æ€»ç»“</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•06-setStateæ˜¯åŒæ­¥æ›´æ–°è¿˜æ˜¯å¼‚æ­¥æ›´æ–°ï¼Ÿ</title>
    <link href="/2020/12/22/%E9%9D%A2%E8%AF%9506-setState%E6%98%AF%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%E8%BF%98%E6%98%AF%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%9F/"/>
    <url>/2020/12/22/%E9%9D%A2%E8%AF%9506-setState%E6%98%AF%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%E8%BF%98%E6%98%AF%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h4 id="é¢è¯•åœºæ™¯6ï¼šsetStateæ˜¯åŒæ­¥æ›´æ–°è¿˜æ˜¯å¼‚æ­¥æ›´æ–°ï¼Ÿ"><a href="#é¢è¯•åœºæ™¯6ï¼šsetStateæ˜¯åŒæ­¥æ›´æ–°è¿˜æ˜¯å¼‚æ­¥æ›´æ–°ï¼Ÿ" class="headerlink" title="é¢è¯•åœºæ™¯6ï¼šsetStateæ˜¯åŒæ­¥æ›´æ–°è¿˜æ˜¯å¼‚æ­¥æ›´æ–°ï¼Ÿ"></a>é¢è¯•åœºæ™¯6ï¼šsetStateæ˜¯åŒæ­¥æ›´æ–°è¿˜æ˜¯å¼‚æ­¥æ›´æ–°ï¼Ÿ</h4><p>åˆ†æé—®é¢˜ï¼šâ€œæ˜¯Aè¿˜æ˜¯Bâ€æ˜¯ä¸€ä¸ªé¢è¯•ä¸­ç»å¸¸é—®çš„é—®é¢˜ï¼Œè¿™ç§é¢˜å¯èƒ½åœ¨ä¸åŒçš„åœºæ™¯ä¸­ä¼šæœ‰ä¸åŒçš„é€‰æ‹©ï¼š</p><ul><li>å¯èƒ½æ˜¯A</li><li>ä¹Ÿå¯èƒ½æ˜¯B</li><li>ç”šè‡³æ˜¯Aå’ŒBåŒæ—¶å­˜åœ¨</li></ul><p>æ‰€ä»¥éœ€è¦æŠŠé—®é¢˜æ”¾åœ¨å…·ä½“çš„åœºæ™¯ä¸­æ¢è®¨ï¼Œä¸€å®šä¸è¦æƒ³å½“ç„¶ï¼Œä¸è¦è§‰å¾—è‚¯å®šæ˜¯XXXå•Šã€‚åœ¨é¢å¯¹ç±»ä¼¼çš„é—®é¢˜ï¼Œè¦å…ˆæŠŠåœºæ™¯ç†æ¸…æ¥šï¼Œå†æ€è€ƒå¦‚ä½•å›ç­”ã€‚</p><p>å›åˆ°setStateæœ¬èº«ä¸Šæ¥ï¼ŒsetStateç”¨äºå˜æ›´çŠ¶æ€ï¼Œè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œæ›´æ–°è¯•å›¾UIã€‚åœ¨åˆ†æåœºæ™¯ä¹‹å‰ï¼Œéœ€è¦å…ˆäº†è§£ä¸€ä¸ªæ¦‚å¿µ<font color=blue>åˆæˆäº‹ä»¶</font>ï¼Œå®ƒä¹Ÿç»å¸¸åœ¨Reacté¢è¯•ä¸­è¢«é—®åˆ°ã€‚åˆæˆäº‹ä»¶ä¸setStateçš„è§¦å‘æœ‰åƒä¸ä¸‡ç¼•çš„è”ç³»ã€‚</p><h4 id="ä¸€ã€åˆæˆäº‹ä»¶"><a href="#ä¸€ã€åˆæˆäº‹ä»¶" class="headerlink" title="ä¸€ã€åˆæˆäº‹ä»¶"></a>ä¸€ã€åˆæˆäº‹ä»¶</h4><p>åœ¨æ²¡æœ‰åˆæˆäº‹ä»¶ä¹‹å‰ï¼Œå¤§å®¶æ˜¯æ€ä¹ˆå¤„ç†äº‹ä»¶çš„å‘¢ï¼Ÿå…ˆçœ‹ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯ï¼šå‡è®¾ulæ ‡ç­¾ä¸‹æœ‰10000ä¸ªliæ ‡ç­¾ï¼Œç°åœ¨éœ€è¦æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œé€šè¿‡ç‚¹å‡»liè·å–å½“å‰liæ ‡ç­¾ä¸­çš„æ–‡æœ¬ã€‚ä¹‹å‰å¤§å®¶çš„åšæ³•æ˜¯ï¼šä¸ºæ¯ä¸€ä¸ªliæ ‡ç­¾æ·»åŠ onclickäº‹ä»¶ã€‚</p><pre><code class="hljs js">&lt;ul&gt;    &lt;li onclick=<span class="hljs-string">&#x27;getText(this&#x27;</span>)&gt;<span class="hljs-number">1</span>&lt;/li&gt;    &lt;li onclick=<span class="hljs-string">&#x27;getText(this&#x27;</span>)&gt;<span class="hljs-number">2</span>&lt;/li&gt;    &lt;li onclick=<span class="hljs-string">&#x27;getText(this&#x27;</span>)&gt;<span class="hljs-number">3</span>&lt;/li&gt;    ...    &lt;li onclick=<span class="hljs-string">&#x27;getText(this&#x27;</span>)&gt;<span class="hljs-number">10000</span>&lt;/li&gt;&lt;/ul&gt;</code></pre><p>è¿™æ˜¯ä¸€ç§éå¸¸ä¸å‹å¥½çš„æ–¹å¼ï¼Œä¼šå¯¹é¡µé¢çš„æ€§èƒ½äº§ç”Ÿå½±å“ã€‚</p><p>å¦‚ä½•ä¼˜åŒ–å‘¢?æœ€æ°å½“çš„å¤„ç†æ–¹å¼æ˜¯é‡‡ç”¨<font color=blue>äº‹ä»¶å§”æ‰˜</font>ã€‚é€šè¿‡å°†äº‹ä»¶ç»‘å®šåœ¨ulæ ‡ç­¾ä¸Šï¼Œå½“liè¢«ç‚¹å‡»çš„æ—¶å€™ï¼Œç”±äº‹ä»¶å†’æ³¡åˆ°çˆ¶çº§çš„ulæ ‡ç­¾ä¸Šè§¦å‘ï¼Œå¹¶åœ¨ulçš„onclickäº‹ä»¶ä¸­ï¼Œç¡®è®¤æ˜¯å“ªä¸€ä¸ªliæ ‡ç­¾è§¦å‘çš„ç‚¹å‡»äº‹ä»¶ã€‚</p><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;test&#x27;</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>    ...    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>10000<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEventTarget</span>(<span class="hljs-params">e</span>) </span>&#123;</span><span class="javascript">        <span class="hljs-comment">//å¤„ç†å…¼å®¹æ€§</span></span><span class="javascript">        e = e||<span class="hljs-built_in">window</span>.event;</span><span class="javascript">        <span class="hljs-keyword">return</span> e.target || e.srcElement;</span>    &#125;<span class="javascript">    <span class="hljs-keyword">var</span> ul = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;test&#x27;</span>);</span><span class="javascript">    ul.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)</span>&#123;</span><span class="javascript">        <span class="hljs-keyword">var</span> target = getEventTarget(event);</span>        alert(target.innerHTML);    &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><p>åŒæ ·åœ°ï¼Œå‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œåˆæˆäº‹ä»¶ä¹Ÿæ˜¯ç±»ä¼¼çš„åšæ³•ï¼š</p><ol><li>Reactç»™documentæŒ‚ä¸Šäº‹ä»¶ç›‘å¬</li><li>DOMäº‹ä»¶è§¦å‘åå†’æ³¡åˆ°document</li><li>Reactæ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ï¼Œé€ æˆä¸€ä¸ªåˆæˆäº‹ä»¶å‡ºæ¥</li><li>å¹¶æŒ‰ç»„ä»¶æ ‘æ¨¡æ‹Ÿä¸€éäº‹ä»¶å†’æ³¡</li></ol><p><img src="https://pic.downk.cc/item/5fe1dd603ffa7d37b37d3071.jpg" alt="React17ä¹‹å‰çš„äº‹ä»¶å†’æ³¡æµç¨‹å›¾"></p><p>ç”±äºäº‹ä»¶æŒ‚åœ¨äº†documentä¸Šï¼Œè¿™æ ·åœ¨ä¸€ä¸ªé¡µé¢ä¸­åªèƒ½æœ‰ä¸€ä¸ªç‰ˆæœ¬çš„reactã€‚å¦‚æœæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œäº‹ä»¶å°±ä¹±å¥—äº†ã€‚React17ä¸­è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œäº‹ä»¶å§”æ‰˜ä¸å†æŒ‚åœ¨documentä¸Šï¼Œè€Œæ˜¯æŒ‚åœ¨DOMå®¹å™¨ä¸Šï¼Œä¹Ÿå°±æ˜¯ReactDOM.renderæ‰€è°ƒç”¨çš„æ ¹èŠ‚ç‚¹ä¸Šã€‚<br><img src="https://pic.downk.cc/item/5fe1de423ffa7d37b37e2fb4.jpg" alt="React17åçš„äº‹ä»¶å†’æ³¡æµç¨‹å›¾"></p><p>é‚£ä¹ˆåˆ°åº•å“ªäº›äº‹ä»¶ä¼šè¢«æ•è·ç”Ÿæˆäº‹ä»¶å‘¢ï¼Ÿå¯ä»¥ä»Reactçš„æºç ä¸­ä¸€æ¢ç©¶ç«Ÿã€‚ä¸‹é¢çš„æµ‹è¯•å¿«ç…§ä¸­ç½—åˆ—äº†å¤§é‡çš„äº‹ä»¶åï¼Œåªæœ‰è¿™äº›äº‹ä»¶ä¼šè¢«æ•è·æˆåˆæˆäº‹ä»¶ã€‚</p><pre><code class="hljs js"><span class="hljs-comment">// react/packages/react-dom/src/__tests__/__snapshots__/ReactTestUtils-test.js.snap</span><span class="hljs-built_in">Array</span> [      <span class="hljs-string">&quot;abort&quot;</span>,  <span class="hljs-string">&quot;animationEnd&quot;</span>,  <span class="hljs-string">&quot;animationIteration&quot;</span>,  <span class="hljs-string">&quot;animationStart&quot;</span>,  <span class="hljs-string">&quot;auxClick&quot;</span>,  <span class="hljs-string">&quot;beforeInput&quot;</span>,  <span class="hljs-string">&quot;blur&quot;</span>,  <span class="hljs-string">&quot;canPlay&quot;</span>,  <span class="hljs-string">&quot;canPlayThrough&quot;</span>,  <span class="hljs-string">&quot;cancel&quot;</span>,  <span class="hljs-string">&quot;change&quot;</span>,  <span class="hljs-string">&quot;click&quot;</span>,  <span class="hljs-string">&quot;close&quot;</span>,  <span class="hljs-string">&quot;compositionEnd&quot;</span>,  <span class="hljs-string">&quot;compositionStart&quot;</span>,  <span class="hljs-string">&quot;compositionUpdate&quot;</span>,  <span class="hljs-string">&quot;contextMenu&quot;</span>,  <span class="hljs-string">&quot;copy&quot;</span>,  <span class="hljs-string">&quot;cut&quot;</span>,  <span class="hljs-string">&quot;doubleClick&quot;</span>,  <span class="hljs-string">&quot;drag&quot;</span>,  <span class="hljs-string">&quot;dragEnd&quot;</span>,  <span class="hljs-string">&quot;dragEnter&quot;</span>,  <span class="hljs-string">&quot;dragExit&quot;</span>,  <span class="hljs-string">&quot;dragLeave&quot;</span>,  <span class="hljs-string">&quot;dragOver&quot;</span>,  <span class="hljs-string">&quot;dragStart&quot;</span>,  <span class="hljs-string">&quot;drop&quot;</span>,  <span class="hljs-string">&quot;durationChange&quot;</span>,  <span class="hljs-string">&quot;emptied&quot;</span>,  <span class="hljs-string">&quot;encrypted&quot;</span>,  <span class="hljs-string">&quot;ended&quot;</span>,  <span class="hljs-string">&quot;error&quot;</span>,  <span class="hljs-string">&quot;focus&quot;</span>,  <span class="hljs-string">&quot;gotPointerCapture&quot;</span>,  <span class="hljs-string">&quot;input&quot;</span>,  <span class="hljs-string">&quot;invalid&quot;</span>,  <span class="hljs-string">&quot;keyDown&quot;</span>,  <span class="hljs-string">&quot;keyPress&quot;</span>,  <span class="hljs-string">&quot;keyUp&quot;</span>,  <span class="hljs-string">&quot;load&quot;</span>,  <span class="hljs-string">&quot;loadStart&quot;</span>,  <span class="hljs-string">&quot;loadedData&quot;</span>,  <span class="hljs-string">&quot;loadedMetadata&quot;</span>,  <span class="hljs-string">&quot;lostPointerCapture&quot;</span>,  <span class="hljs-string">&quot;mouseDown&quot;</span>,  <span class="hljs-string">&quot;mouseEnter&quot;</span>,  <span class="hljs-string">&quot;mouseLeave&quot;</span>,  <span class="hljs-string">&quot;mouseMove&quot;</span>,  <span class="hljs-string">&quot;mouseOut&quot;</span>,  <span class="hljs-string">&quot;mouseOver&quot;</span>,  <span class="hljs-string">&quot;mouseUp&quot;</span>,  <span class="hljs-string">&quot;paste&quot;</span>,  <span class="hljs-string">&quot;pause&quot;</span>,  <span class="hljs-string">&quot;play&quot;</span>,  <span class="hljs-string">&quot;playing&quot;</span>,  <span class="hljs-string">&quot;pointerCancel&quot;</span>,  <span class="hljs-string">&quot;pointerDown&quot;</span>,  <span class="hljs-string">&quot;pointerEnter&quot;</span>,  <span class="hljs-string">&quot;pointerLeave&quot;</span>,  <span class="hljs-string">&quot;pointerMove&quot;</span>,  <span class="hljs-string">&quot;pointerOut&quot;</span>,  <span class="hljs-string">&quot;pointerOver&quot;</span>,  <span class="hljs-string">&quot;pointerUp&quot;</span>,  <span class="hljs-string">&quot;progress&quot;</span>,  <span class="hljs-string">&quot;rateChange&quot;</span>,  <span class="hljs-string">&quot;reset&quot;</span>,  <span class="hljs-string">&quot;scroll&quot;</span>,  <span class="hljs-string">&quot;seeked&quot;</span>,  <span class="hljs-string">&quot;seeking&quot;</span>,  <span class="hljs-string">&quot;select&quot;</span>,  <span class="hljs-string">&quot;stalled&quot;</span>,  <span class="hljs-string">&quot;submit&quot;</span>,  <span class="hljs-string">&quot;suspend&quot;</span>,  <span class="hljs-string">&quot;timeUpdate&quot;</span>,  <span class="hljs-string">&quot;toggle&quot;</span>,  <span class="hljs-string">&quot;touchCancel&quot;</span>,  <span class="hljs-string">&quot;touchEnd&quot;</span>,  <span class="hljs-string">&quot;touchMove&quot;</span>,  <span class="hljs-string">&quot;touchStart&quot;</span>,  <span class="hljs-string">&quot;transitionEnd&quot;</span>,  <span class="hljs-string">&quot;volumeChange&quot;</span>,  <span class="hljs-string">&quot;waiting&quot;</span>,  <span class="hljs-string">&quot;wheel&quot;</span>,]</code></pre><h4 id="äºŒã€è°ƒç”¨é¡ºåº"><a href="#äºŒã€è°ƒç”¨é¡ºåº" class="headerlink" title="äºŒã€è°ƒç”¨é¡ºåº"></a>äºŒã€è°ƒç”¨é¡ºåº</h4><p>setStateæ˜¯ä¸æ˜¯å¼‚æ­¥çš„ï¼Ÿæˆ‘ä»¬ä»å¤´æ¢³ç†</p><p><strong>å¼‚æ­¥åœºæ™¯</strong></p><p>é€šå¸¸æƒ…å†µæˆ‘ä»¬è®¤ä¸ºsetStateæ˜¯å¼‚æ­¥çš„ï¼Œçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;Â  Â  state = &#123;Â  Â  Â  Â  count: <span class="hljs-number">0</span>Â  Â  &#125;Â  Â  <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;Â  Â  Â  Â  <span class="hljs-built_in">this</span>.setState(&#123;Â  Â  Â  Â  Â  Â count: <span class="hljs-number">1</span>Â  Â  Â  Â  Â &#125;, <span class="hljs-function">() =&gt;</span> &#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count) <span class="hljs-comment">//1</span>         &#125;);Â  Â  Â  Â  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count) <span class="hljs-comment">// 0</span>Â  Â  &#125;Â  Â  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;    Â  Â  Â  ...Â  Â  &#125;&#125;</code></pre><p>ç”±äºæˆ‘ä»¬è®¤ä¸ºsetStateæ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥ä¼šè®¤ä¸ºå›è°ƒå‡½æ•°æ˜¯å¼‚æ­¥å›è°ƒï¼Œæ§åˆ¶å°å…ˆè¾“å‡º0åè¾“å‡º1ã€‚<br>å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;    state = &#123;        count: <span class="hljs-number">0</span>    &#125;    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-built_in">this</span>.setState(&#123;           count: <span class="hljs-built_in">this</span>.state.count + <span class="hljs-number">1</span>         &#125;, <span class="hljs-function">() =&gt;</span> &#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count) <span class="hljs-comment">//1</span>         &#125;);         <span class="hljs-built_in">this</span>.setState(&#123;           count: <span class="hljs-built_in">this</span>.state.count + <span class="hljs-number">1</span>         &#125;, <span class="hljs-function">() =&gt;</span> &#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count) <span class="hljs-comment">//1</span>         &#125;);    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        ...    &#125;&#125;</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿ç»­è°ƒç”¨ä¸¤æ¬¡setStateï¼Œä½†æ˜¯Reactåœ¨åŒä¸€ä¸ªå‘¨æœŸå†…ä¼šå¯¹å¤šä¸ªsetStateè¿›è¡Œæ‰¹å¤„ç†ã€‚ç›¸åŒäºï¼š</p><pre><code class="hljs js"><span class="hljs-built_in">Object</span>.assign(    previousState,    &#123;<span class="hljs-attr">count</span>: state.count + <span class="hljs-number">1</span>&#125;,    &#123;<span class="hljs-attr">count</span>: state.count + <span class="hljs-number">1</span>&#125;)</code></pre><p>åè°ƒç”¨çš„setState()å°†è¦†ç›–åŒä¸€å‘¨æœŸå†…å…ˆè°ƒç”¨setStateçš„å€¼ï¼Œå› æ­¤countå…¶å®åªå¢åŠ 1æ¬¡ã€‚å¦‚æœåç»­çŠ¶æ€å–å†³äºå½“å‰çŠ¶æ€ï¼ŒsetState(updater[,callback]) ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°å»ºè®®ä½¿ç”¨å‡½æ•°å½¢å¼çš„ä»£æ›¿ã€‚</p><pre><code class="hljs js"><span class="hljs-built_in">this</span>.setState(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> &#123;    <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">count</span>: state.count + <span class="hljs-number">1</span>&#125;&#125;)</code></pre><p>å†çœ‹ä¸€ä¸ªå…·æœ‰è¿·æƒ‘æ€§çš„ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;    state = &#123;        count: <span class="hljs-number">0</span>    &#125;    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-comment">//ç¬¬ä¸€æ¬¡setState</span>        <span class="hljs-built_in">this</span>.setState(          preState=&gt; (&#123;            count:preState.count + <span class="hljs-number">1</span>        &#125;),<span class="hljs-function">()=&gt;</span>&#123;           <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count);<span class="hljs-comment">//2</span>        &#125;);        <span class="hljs-comment">//ç¬¬äºŒæ¬¡setState</span>        <span class="hljs-built_in">this</span>.setState(          preState=&gt;(&#123;            count:preState.count + <span class="hljs-number">1</span>        &#125;),<span class="hljs-function">()=&gt;</span>&#123;           <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count);<span class="hljs-comment">//2</span>        &#125;);    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        ...    &#125;&#125;</code></pre><p>è¿™é‡Œä¸ºä»€ä¹ˆåˆä¼šè¾“å‡º2ï¼Œ2å‘¢ï¼Ÿå½“è°ƒç”¨seStateå‡½æ•°æ—¶ï¼Œå°±ä¼šæŠŠå½“å‰çš„æ“ä½œæ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­ã€‚Reactæ ¹æ®é˜Ÿåˆ—å†…å®¹ï¼Œ<strong>åˆå¹¶stateæ•°æ®</strong>ï¼Œåˆå¹¶å®Œæˆåå†é€ä¸€æ‰§è¡Œå›è°ƒï¼Œæ ¹æ®ç»“æœæ¸²æŸ“è™šæ‹ŸDOMï¼Œè§¦å‘æ¸²æŸ“.æ‰€ä»¥å›è°ƒæ—¶,stateå·²ç»åˆå¹¶è®¡ç®—å®Œæˆäº†,è¾“å‡ºçš„ç»“æœå°±æ˜¯2, 2äº†ã€‚</p><p>ä¸ºä»€ä¹ˆReactå›¢é˜Ÿé‡‡ç”¨è¿™æ ·ä¸€ç§è¡Œä¸ºæ¨¡å¼ï¼Œè€Œä¸æ˜¯åŒæ­¥è¿›è¡Œå‘¢ï¼Ÿä¸€ç§å¸¸è§çš„è¯´æ³•æ˜¯ï¼šä¸ºäº†ä¼˜åŒ–ã€‚é€šè¿‡å¼‚æ­¥æ“ä½œçš„æ–¹å¼ï¼Œç´¯è®¡æ›´æ–°åæ‰¹é‡åˆå¹¶å¤„ç†ï¼Œå‡å°‘æ¸²æŸ“æ¬¡æ•°ï¼Œæå‡æ€§èƒ½ã€‚ä½†æ˜¯åŒæ­¥å°±ä¸èƒ½æ‰¹é‡å¤„ç†å—ï¼Ÿgithubä¸Šæœ‰äººæå‡ºäº†<a href="https://github.com/facebook/react/issues/11527">ä¸ºä»€ä¹ˆsetStateæ˜¯å¼‚æ­¥çš„</a>è¿™ä¸ªé—®é¢˜ï¼Œå®˜æ–¹å›¢é˜Ÿè¿›è¡Œäº†å›ç­”ï¼š</p><ol><li><p>ä¿æŒå†…éƒ¨ä¸€è‡´æ€§ã€‚å¦‚æœæ”¹ä¸ºåŒæ­¥æ›´æ–°çš„æ–¹å¼ï¼Œå°½ç®¡setStateå˜æˆäº†åŒæ­¥ï¼Œä½†æ˜¯propsä¸æ˜¯ï¼ˆyou canâ€™t know props until you rerender the parent component ,and if you do this synchronously, batching goes out of the windowâ€“propsæ˜¯åŒæ­¥çš„è¯ï¼Œæ‰¹å¤„ç†å°†æ— æ³•è¿›è¡Œï¼‰</p></li><li><p>ä¸ºåç»­çš„æ¶æ„å‡çº§å¯ç”¨å¹¶å‘æ›´æ–°ã€‚ä¸ºäº†å®Œæˆå¼‚æ­¥æ¸²æŸ“ï¼Œreactä¼šåœ¨setStateæ—¶ï¼Œæ ¹æ®å®ƒä»¬çš„æ•°æ®æ¥æºåˆ†é…ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œè¿™äº›æ•°æ®æ¥æºæœ‰ï¼šäº‹ä»¶å›è°ƒå¥æŸ„ã€åŠ¨ç”»æ•ˆæœç­‰ï¼Œå†æ ¹æ®ä¼˜å…ˆçº§å¹¶å‘å¤„ç†ï¼Œæå‡æ¸²æŸ“æ€§èƒ½ã€‚</p></li></ol><p>ä»React17çš„è§’åº¦åˆ†æï¼Œå¼‚æ­¥çš„è®¾è®¡æ˜¯åˆç†çš„ï¼Œå®ƒå¯ä»¥ä½¿å¾—å¼‚æ­¥æ¸²æŸ“ç­‰æœ€ç»ˆèƒ½åœ¨Reactè½åœ°ã€‚é‚£ä»€ä¹ˆæƒ…å†µä¸‹å®ƒæ˜¯åŒæ­¥çš„å‘¢ï¼Ÿ</p><h4 id="ä¸‰ã€åŒæ­¥åœºæ™¯"><a href="#ä¸‰ã€åŒæ­¥åœºæ™¯" class="headerlink" title="ä¸‰ã€åŒæ­¥åœºæ™¯"></a>ä¸‰ã€åŒæ­¥åœºæ™¯</h4><p>ä¸Šé¢çš„å¼‚æ­¥åœºæ™¯è®©æˆ‘ä»¬è§‰å¾—ï¼šsetStateæ˜¯å¼‚æ­¥çš„ï¼Œä½†æ˜¯ä¸‹é¢è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œå°†setStateæ”¾åœ¨setTimeoutä¸­ï¼Œæƒ…å†µåˆå®Œå…¨ä¸åŒäº†ã€‚</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;    state = &#123;        count: <span class="hljs-number">0</span>    &#125;    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-built_in">this</span>.setState(&#123; <span class="hljs-attr">count</span>: <span class="hljs-built_in">this</span>.state.count + <span class="hljs-number">1</span> &#125;);        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count);<span class="hljs-comment">//0</span>        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;          <span class="hljs-built_in">this</span>.setState(&#123; <span class="hljs-attr">count</span>: <span class="hljs-built_in">this</span>.state.count + <span class="hljs-number">1</span> &#125;);          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;setTimeout: &quot;</span> + <span class="hljs-built_in">this</span>.state.count); <span class="hljs-comment">//1</span>        &#125;, <span class="hljs-number">0</span>);    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        ...    &#125;&#125;</code></pre><p>ä¸ºä»€ä¹ˆä¼šè¾“å‡º0ï¼Œ1å‘¢ï¼Ÿå› ä¸ºsetStateå¹¶ä¸æ˜¯çœŸæ­£çš„å¼‚æ­¥å‡½æ•°ï¼Œ<strong>å®ƒå®é™…ä¸Šæ˜¯é€šè¿‡é˜Ÿåˆ—å»¶è¿Ÿæ‰§è¡Œæ“ä½œå®ç°çš„</strong>ï¼Œé€šè¿‡isBatchingUpdatesæ¥åˆ¤æ–­setStateæ˜¯å…ˆå­˜è¿›stateé˜Ÿåˆ—è¿˜æ˜¯ç›´æ¥æ›´æ–°ã€‚isBatchingUpdateså€¼ä¸ºtrue,åˆ™æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼ŒisBatchingUpdateså€¼ä¸ºfalse,åˆ™ç›´æ¥æ›´æ–°ã€‚<br><img src="https://ae02.alicdn.com/kf/Hae4f7b71dba44f14b0405b74c565c191R.png" alt="setStateçš„æ‰§è¡Œæœºåˆ¶"></p><p>åœ¨onClick,onFocusç­‰äº‹ä»¶ä¸­ï¼Œç”±äºåˆæˆäº‹ä»¶å°è£…äº†ä¸€å±‚ï¼Œæ‰€ä»¥å¯ä»¥å°†isBatchingUpdatesçš„çŠ¶æ€æ›´æ–°ä¸ºtrue; åœ¨Reactè‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸå’Œåˆæˆäº‹ä»¶ä¸­ï¼Œå¯ä»¥æ‹¿åˆ°isBatchingUpdatesçš„æ§åˆ¶æƒï¼Œå°†çŠ¶æ€æ”¾è¿›é˜Ÿåˆ—ï¼Œæ§åˆ¶æ‰§è¡ŒèŠ‚å¥ã€‚è€Œåœ¨å¤–éƒ¨çš„åŸç”Ÿäº‹ä»¶ä¸­ï¼Œå¹¶æ²¡æœ‰å¤–å±‚å°è£…å’Œæ‹¦æˆªï¼Œæ— æ³•æ›´æ–°isBatchingUpdatesçš„çŠ¶æ€ä¸ºtrueã€‚è¿™å°±é€ æˆisBatchingUpdatesçš„çŠ¶æ€åªä¼šä¸ºfalse, ä¸”ç«‹å³æ‰§è¡Œã€‚æ‰€ä»¥åœ¨addEventListenerã€setTimeoutã€setIntervalè¿™äº›åŸç”Ÿäº‹ä»¶ä¸­éƒ½ä¼šåŒæ­¥æ›´æ–°ã€‚</p><h4 id="å››ã€å›ç­”é—®é¢˜"><a href="#å››ã€å›ç­”é—®é¢˜" class="headerlink" title="å››ã€å›ç­”é—®é¢˜"></a>å››ã€å›ç­”é—®é¢˜</h4><blockquote><p>setState å¹¶éçœŸå¼‚æ­¥ï¼Œåªæ˜¯çœ‹ä¸Šå»åƒå¼‚æ­¥ã€‚åœ¨æºç ä¸­ï¼Œé€šè¿‡isBatchingUpdatesæ¥åˆ¤æ–­setState æ˜¯å…ˆå­˜è¿› state é˜Ÿåˆ—è¿˜æ˜¯ç›´æ¥æ›´æ–°ï¼Œå¦‚æœå€¼ä¸º true åˆ™æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œä¸º false åˆ™ç›´æ¥æ›´æ–°ã€‚</p><p>é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ isBatchingUpdates ä¼šä¸º true å‘¢?</p><p>A. åœ¨ React å¯ä»¥æ§åˆ¶çš„åœ°æ–¹ï¼Œå°±ä¸º trueï¼Œæ¯”å¦‚åœ¨ React ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å’Œåˆæˆäº‹ä»¶ä¸­ï¼Œéƒ½ä¼šèµ°åˆå¹¶æ“ä½œï¼Œå»¶è¿Ÿæ›´æ–°çš„ç­–ç•¥ã€‚</p><p>B. ä½†åœ¨ React æ— æ³•æ§åˆ¶çš„åœ°æ–¹ï¼Œæ¯”å¦‚åŸç”Ÿäº‹ä»¶ï¼Œå…·ä½“å°±æ˜¯åœ¨ addEventListener ã€setTimeoutã€setInterval ç­‰äº‹ä»¶ä¸­ï¼Œå°±åªèƒ½åŒæ­¥æ›´æ–°ã€‚</p><p>ä¸€èˆ¬è®¤ä¸ºï¼Œåšå¼‚æ­¥è®¾è®¡æ˜¯ä¸ºäº†æ€§èƒ½ä¼˜åŒ–ã€å‡å°‘æ¸²æŸ“æ¬¡æ•°ï¼ŒReact å›¢é˜Ÿè¿˜è¡¥å……äº†ä¸¤ç‚¹ã€‚</p><ol><li><p>ä¿æŒå†…éƒ¨ä¸€è‡´æ€§ã€‚å¦‚æœå°† state æ”¹ä¸ºåŒæ­¥æ›´æ–°ï¼Œé‚£å°½ç®¡ state çš„æ›´æ–°æ˜¯åŒæ­¥çš„ï¼Œä½†æ˜¯ propsä¸æ˜¯ã€‚</p></li><li><p>å¯ç”¨å¹¶å‘æ›´æ–°ï¼Œå®Œæˆå¼‚æ­¥æ¸²æŸ“ã€‚</p></li></ol></blockquote><p>å¯ä»¥çœ‹å‡ºï¼ŒsetStateæ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥çš„å…³é”®åœ¨äºï¼šæ›´æ–°é˜Ÿåˆ—ã€‚å°†ä¸Šè¿°è¿‡ç¨‹æ•´ç†ä¸ºæ€ç»´å¯¼å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://ae02.alicdn.com/kf/Hac1e627114684a4db843b27cdfaf12edm.png" alt="setStateçš„æ‰§è¡Œåœºæ™¯"></p><p><font color=green>è¿›é˜¶</font> â€” å†çœ‹ä¸€é“é¢˜</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;  state  = &#123;      count: <span class="hljs-number">0</span>  &#125;;    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span> &#123;    <span class="hljs-built_in">this</span>.setState(&#123;<span class="hljs-attr">count</span>: <span class="hljs-built_in">this</span>.state.count + <span class="hljs-number">1</span>&#125;);    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count);<span class="hljs-comment">//0</span>    <span class="hljs-built_in">this</span>.setState(&#123;<span class="hljs-attr">count</span>: <span class="hljs-built_in">this</span>.state.count + <span class="hljs-number">1</span>&#125;);    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count);<span class="hljs-comment">//0</span>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;      <span class="hljs-built_in">this</span>.setState(&#123;<span class="hljs-attr">count</span>: <span class="hljs-built_in">this</span>.state.count + <span class="hljs-number">1</span>&#125;);      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count);<span class="hljs-comment">//2</span>      <span class="hljs-built_in">this</span>.setState(&#123;<span class="hljs-attr">count</span>: <span class="hljs-built_in">this</span>.state.count + <span class="hljs-number">1</span>&#125;);      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.state.count);<span class="hljs-comment">//3</span>    &#125;, <span class="hljs-number">0</span>);  &#125;  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;  &#125;&#125;;</code></pre><p>è¾“å‡ºï¼š0 0 2 3</p><p>åˆ†æï¼š</p><ul><li>é¦–å…ˆç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡çš„ console.logï¼Œéƒ½åœ¨ React çš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ä¸­ï¼Œæ‰€ä»¥æ˜¯å¼‚æ­¥çš„å¤„ç†æ–¹å¼ï¼Œåˆ™è¾“å‡ºéƒ½ä¸º 0ï¼›</li><li>è€Œåœ¨ setTimeout ä¸­çš„ console.log å¤„äºåŸç”Ÿäº‹ä»¶ä¸­ï¼Œæ‰€ä»¥ä¼šåŒæ­¥çš„å¤„ç†å†è¾“å‡ºç»“æœï¼Œä½†éœ€è¦æ³¨æ„ï¼Œè™½ç„¶ count åœ¨å‰é¢ç»è¿‡äº†ä¸¤æ¬¡çš„ this.state.count + 1ï¼Œä½†æ˜¯ç”±äºå‰é¢è¯´çš„æ‰¹å¤„ç†å’Œè¦†ç›–çš„ç‰¹ç‚¹ï¼ŒsetTimeoutä¸­æ‹¿åˆ°çš„å€¼æ˜¯1ï¼Œé‚£ä¹ˆåç»­åœ¨ setTimeout ä¸­çš„è¾“å‡ºåˆ™æ˜¯ 2 å’Œ 3</li></ul>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•å®å…¸ä¹‹Reactç¯‡</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•05-å¦‚ä½•è®¾è®¡Reactç»„ä»¶ï¼Ÿ</title>
    <link href="/2020/12/17/%E9%9D%A2%E8%AF%9505-%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1React%E7%BB%84%E4%BB%B6%EF%BC%9F/"/>
    <url>/2020/12/17/%E9%9D%A2%E8%AF%9505-%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1React%E7%BB%84%E4%BB%B6%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h4 id="é¢è¯•åœºæ™¯5ï¼šå¦‚ä½•è®¾è®¡Reactç»„ä»¶ï¼Ÿ"><a href="#é¢è¯•åœºæ™¯5ï¼šå¦‚ä½•è®¾è®¡Reactç»„ä»¶ï¼Ÿ" class="headerlink" title="é¢è¯•åœºæ™¯5ï¼šå¦‚ä½•è®¾è®¡Reactç»„ä»¶ï¼Ÿ"></a>é¢è¯•åœºæ™¯5ï¼šå¦‚ä½•è®¾è®¡Reactç»„ä»¶ï¼Ÿ</h4><p>åˆ†æé—®é¢˜ï¼šâ€œå¦‚ä½•è®¾è®¡Reactç»„ä»¶ï¼Ÿâ€å…¶å®å°±æ˜¯åœ¨è€ƒå¯Ÿä½ æ˜¯å¦äº†è§£Reactçš„è®¾è®¡æ¨¡å¼ã€‚</p><p>å¦‚æœåœ¨å®é™…å¼€å‘ä¸­ï¼Œç¼ºä¹ä¸€ä¸ªæŒ‡å¯¼æ€§çš„è®¾è®¡æ¨¡å¼ï¼Œä»£ç ä¼šéå¸¸å‡Œä¹±ï¼Œç»å¸¸å‡ºç°ä¸‹é¢çš„æƒ…å†µï¼š</p><ul><li>å°†ä¸€ä¸ªé¡µé¢å†™æˆä¸€ä¸ªç»„ä»¶</li><li>ä¸€ä¸ªç»„ä»¶åŒ…å«ä¸Šåƒè¡Œä»£ç </li></ul><p>è¿™äº›éƒ½æ²¡æœ‰æ˜æ˜¾çš„æ¨¡å—åˆ’åˆ†ï¼Œç¼ºä¹ç»„åˆçš„æ€æƒ³ã€‚æ‰€ä»¥ï¼Œå¦‚ä½•å°†ç»„ä»¶æ›´å¥½åœ°ç»„åˆï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªéœ€è¦æ¢è®¨çš„é—®é¢˜ã€‚åŸºäºä¸åŒçš„ä¸šåŠ¡åœºæ™¯ï¼Œç»„ä»¶çš„ç»„åˆå½¢å¼æ˜¯ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥ï¼Œå›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç»“åˆå…·ä½“çš„åœºæ™¯æ¥è°ˆã€‚</p><h4 id="ä¸€ã€Reactç»„ä»¶çš„åˆ†ç±»"><a href="#ä¸€ã€Reactç»„ä»¶çš„åˆ†ç±»" class="headerlink" title="ä¸€ã€Reactç»„ä»¶çš„åˆ†ç±»"></a>ä¸€ã€Reactç»„ä»¶çš„åˆ†ç±»</h4><p>Reactç¤¾åŒºä¸­éå¸¸ç»å…¸çš„åˆ†ç±»æ¨¡å¼ï¼š</p><ul><li><font color=blue>å±•ç¤ºç»„ä»¶</font>ï¼šæŠŠåªåšå±•ç¤ºã€ç‹¬ç«‹è¿è¡Œï¼Œä¸é¢å¤–å¢åŠ åŠŸèƒ½çš„ç»„ä»¶ç§°ä¸º<strong>å“‘ç»„ä»¶</strong>ï¼Œæˆ–<strong>æ— çŠ¶æ€ç»„ä»¶</strong>ï¼Œä¹Ÿå«åš<strong>å±•ç¤ºç»„ä»¶</strong>ã€‚</li><li><font color=blue>çµå·§ç»„ä»¶</font>ï¼šæŠŠå¤„ç†ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®çŠ¶æ€çš„ç»„ä»¶ç§°ä¸ºæœ‰<strong>çŠ¶æ€ç»„ä»¶</strong>ï¼Œæˆ–<strong>çµå·§ç»„ä»¶</strong>ï¼ˆçµå·§ç»„ä»¶ä¸€å®šåŒ…å«è‡³å°‘ä¸€ä¸ªçµå·§ç»„ä»¶æˆ–è€…å±•ç¤ºç»„ä»¶ï¼‰</li></ul><p>å±•ç¤ºç»„ä»¶çš„å¤ç”¨æ€§æ›´å¼ºï¼Œçµå·§ç»„ä»¶æ›´ä¸“æ³¨äºä¸šåŠ¡æœ¬èº«ã€‚<br><img src="https://i.bmp.ovh/imgs/2020/12/bbe88509298c9a03.png" alt="ç»„ä»¶è®¾è®¡æ¨¡å¼"></p><h4 id="äºŒã€å±•ç¤ºç»„ä»¶"><a href="#äºŒã€å±•ç¤ºç»„ä»¶" class="headerlink" title="äºŒã€å±•ç¤ºç»„ä»¶"></a>äºŒã€å±•ç¤ºç»„ä»¶</h4><p>å±•ç¤ºç»„ä»¶æ˜¯æ²¡æœ‰çŠ¶æ€ç®¡ç†çš„ï¼Œå®Œå…¨å—åˆ¶äºå¤–éƒ¨çš„propsæ§åˆ¶ã€‚å±•ç¤ºç»„ä»¶çš„<strong>é€šç”¨æ€§å’Œå¤ç”¨ç‡å¾ˆé«˜</strong>ï¼Œç”šè‡³å¯ä»¥åšåˆ°è·¨é¡¹ç›®çº§çš„å¤ç”¨ã€‚</p><p>å±•ç¤ºç»„ä»¶ä¸­æœ€å¸¸ç”¨çš„æ˜¯ä»£ç†ç»„ä»¶ã€‚</p><h5 id="2-1ã€ä»£ç†ç»„ä»¶"><a href="#2-1ã€ä»£ç†ç»„ä»¶" class="headerlink" title="2.1ã€ä»£ç†ç»„ä»¶"></a>2.1ã€ä»£ç†ç»„ä»¶</h5><p>ä»£ç†ç»„ä»¶ç”¨äºå°è£…å¸¸ç”¨å±æ€§ï¼Œå‡å°‘é‡å¤ä»£ç ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå½“éœ€è¦å®šä¹‰ä¸€ä¸ªæŒ‰é’®çš„æ—¶å€™ï¼Œéœ€è¦åœ¨æŒ‰é’®ä¸Šæ·»åŠ buttonå±æ€§ï¼š</p><pre><code class="hljs js">&lt;button type=<span class="hljs-string">&#x27;button&#x27;</span> /&gt;</code></pre><p>ä½†æ˜¯åœ¨Reactä¸­ä½¿ç”¨çš„æ—¶å€™ï¼Œä¸å¯èƒ½æ¯æ¬¡éƒ½å†™è¿™æ ·ä¸€æ®µä»£ç ï¼Œè¿‡äºéº»çƒ¦ã€‚å¸¸è§çš„åšæ³•å°±æ˜¯å°è£…ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> Button = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span>    &lt;button type=<span class="hljs-string">&#x27;button&#x27;</span> &#123;...props&#125;&gt;</code></pre><p>åœ¨å¼€å‘ä¸­ä½¿ç”¨Buttonç»„ä»¶ä»£æ›¿åŸç”Ÿbutton,å¯ä»¥ç¡®ä¿typeä¸€è‡´ã€‚</p><p>åœ¨ä½¿ç”¨Antdè¿›è¡Œå¼€å‘æ—¶ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨ç±»ä¼¼çš„è®¾è®¡æ¨¡å¼ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;Button <span class="hljs-keyword">as</span> AntdButton&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;antd&#x27;</span>;<span class="hljs-keyword">const</span> Button = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span>     &lt;AntdButton size=<span class="hljs-string">&#x27;small&#x27;</span> type=<span class="hljs-string">&#x27;primary&#x27;</span> &#123;...props&#125;/&gt;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Button;</code></pre><p>è¿›è¡Œå°è£…å¯ä»¥åˆ‡æ–­å¤–éƒ¨ç»„ä»¶åº“çš„å¼ºä¾èµ–ç‰¹æ€§ã€‚åœ¨å¤§å‚ä¸­å¼•å…¥å¤–éƒ¨ç»„ä»¶åº“é€šå¸¸è¦è€ƒè™‘ä¸¤ç‚¹ï¼š</p><ul><li><p>å¦‚æœå½“å‰ç»„ä»¶åº“ä¸èƒ½ä½¿ç”¨äº†ï¼Œæ˜¯å¦å¯ä»¥å®ç°ä¸šåŠ¡ä¸Šçš„æ— ç—›åˆ‡æ¢ï¼Ÿ</p></li><li><p>å¦‚æœéœ€è¦è¿›è¡Œæ‰¹é‡ä¿®æ”¹åŸºç¡€ç»„ä»¶çš„å­—æ®µï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</p></li></ul><p>ä»£ç†ç»„ä»¶çš„è®¾è®¡æ¨¡å¼å¾ˆå¥½åœ°è§£å†³äº†è¿™ä¸¤ä¸ªé—®é¢˜ã€‚ä»ä¸šåŠ¡ä¸Šçœ‹ï¼Œä»£ç†ç»„ä»¶éš”ç»äº†Antdï¼Œä»…ä»…æ˜¯ä¸€ä¸ªç»„ä»¶Props APIå±‚åœ°äº¤äº’ã€‚è¿™ä¸€å±‚å¦‚æœæœªæ¥éœ€è¦æ›´æ¢ï¼Œå¯ä»¥ä¿è¯å…¼å®¹ã€å¿«é€Ÿæ›¿æ¢ã€‚å…¶æ¬¡ï¼Œå¦‚æœè¦ä¿®æ”¹åŸºç¡€ç»„ä»¶çš„é¢œè‰²ã€å¤§å°ã€é—´è·ï¼Œä»£ç†ç»„ä»¶ä¹Ÿå¯ä»¥ç›¸å¯¹ä¼˜é›…åœ°è§£å†³ã€‚</p><p>åŸºäºè¿™ä¸ªæ€æƒ³ï¼Œå¯ä»¥å°è£…ç±»ä¼¼çš„å…¶ä»–ç»„ä»¶ï¼Œæ¯”å¦‚æ ·å¼ç»„ä»¶ã€‚</p><h5 id="2-2ã€æ ·å¼ç»„ä»¶"><a href="#2-2ã€æ ·å¼ç»„ä»¶" class="headerlink" title="2.2ã€æ ·å¼ç»„ä»¶"></a>2.2ã€æ ·å¼ç»„ä»¶</h5><p>æ ·å¼ç»„ä»¶ä¹Ÿæ˜¯ä¸€ç§ä»£ç†ç»„ä»¶ï¼Œåªæ˜¯ç„¦ç‚¹æ”¾åœ¨äº†å¤„ç†æ ·å¼ä¸Šã€‚åœ¨å·¥ç¨‹å®è·µä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šå› ä¸ºä¸€ä¸ªclassNameè€Œå°è£…ä¸€ä¸ªç»„ä»¶ï¼š</p><pre><code class="hljs js"><span class="hljs-comment">//ä¸€èˆ¬ä¸ä¼šè¿™æ ·åš</span><span class="hljs-keyword">const</span> Button = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span>(    &lt;button type=<span class="hljs-string">&#x27;button&#x27;</span> className=<span class="hljs-string">&#x27;btn btn-primary&#x27;</span>&gt;)</code></pre><p>çœŸå®å·¥ç¨‹ä¸­çš„æ ·å¼ç®¡ç†å¾€å¾€æ¯”è¾ƒå¤æ‚ï¼Œç±»ä¼¼äºä¸‹é¢è¿™æ ·ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> classNames <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;classNames&#x27;</span>;<span class="hljs-keyword">const</span> StyleButton =<span class="hljs-function">(<span class="hljs-params">&#123;className, primary, isHeight,...props&#125;</span>) =&gt;</span> (    &lt;Button        type=<span class="hljs-string">&#x27;button&#x27;</span>        className=&#123;classNames(<span class="hljs-string">&#x27;btn&#x27;</span>,&#123;btn-primary:primary,<span class="hljs-attr">highLight</span>:isHighLighted,&#125;className)&#125;        &#123;...props&#125;    / &gt;)</code></pre><p>å¦‚æœç›´æ¥ä½¿ç”¨Button,åœ¨å±æ€§ä¸Šä¿®æ”¹ï¼Œå¯¹äºå·¥ç¨‹ä»£ç è€Œè¨€å°±æ˜¯ç¼–å†™å¤§é‡çš„é¢æ¡ä»£ç ã€‚è€ŒStyleButtonçš„æ€è·¯æ˜¯å°†æ ·å¼åˆ¤æ–­é€»è¾‘åˆ†ç¦»åˆ°è‡ªèº«ä¸Šï¼Œæ›´å‹å¥½ã€‚</p><h5 id="2-3ã€å¸ƒå±€ç»„ä»¶"><a href="#2-3ã€å¸ƒå±€ç»„ä»¶" class="headerlink" title="2.3ã€å¸ƒå±€ç»„ä»¶"></a>2.3ã€å¸ƒå±€ç»„ä»¶</h5><p>å¸ƒå±€ç»„ä»¶çš„åŸºæœ¬è®¾è®¡ä¸æ ·å¼ç»„ä»¶å®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯å®ƒåŸºäºè‡ªèº«ç‰¹æ€§åšäº†ä¸€ä¸ªå°ä¼˜åŒ–ã€‚</p><p>å¸ƒå±€ç»„ä»¶ä¸»è¦ç”¨äºå®‰æ”¾å…¶ä»–ç»„ä»¶ï¼Œç±»ä¼¼äºè¿™æ ·ï¼š</p><pre><code class="hljs js">&lt;Layout    Top=&#123;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavBar</span> /&gt;</span></span>&#125;    Content=&#123;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Article</span> /&gt;</span></span>&#125;    Bottom=&#123;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">BottomBar</span> /&gt;</span></span>&#125;/&gt;</code></pre><p>å¸ƒå±€æœ¬èº«æ˜¯ç¡®å®šçš„ï¼Œä¸éœ€è¦æ ¹æ®å¤–éƒ¨çŠ¶æ€å˜åŒ–å»ä¿®æ”¹å†…éƒ¨ç»„ä»¶ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå‡å°‘æ¸²æŸ“çš„ä¼˜åŒ–ç‚¹ã€‚</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Layout</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    <span class="hljs-comment">//ç”±äºå¸ƒå±€ç»„ä»¶æ— éœ€æ›´æ–°ï¼Œå°±å¯ä»¥æŠŠshouldComponentUpdateçš„è¿”å›å€¼å†™æ­»ï¼Œä»è€Œé˜»æ–­æ¸²æŸ“è¿‡ç¨‹</span>    <span class="hljs-function"><span class="hljs-title">shouldComponentUpdate</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        &lt;div&gt;            &lt;div&gt;&#123;<span class="hljs-built_in">this</span>.props.NavBar&#125;&lt;/div&gt;            &lt;div&gt;&#123;<span class="hljs-built_in">this</span>.props.Article&#125;&lt;/div&gt;            &lt;div&gt;&#123;<span class="hljs-built_in">this</span>.props.BottomBar&#125;&lt;/div&gt;        &lt;/div&gt;    &#125;&#125;</code></pre><h4 id="ä¸‰ã€çµå·§ç»„ä»¶"><a href="#ä¸‰ã€çµå·§ç»„ä»¶" class="headerlink" title="ä¸‰ã€çµå·§ç»„ä»¶"></a>ä¸‰ã€çµå·§ç»„ä»¶</h4><p>ç”±äºçµå·§ç»„ä»¶é¢å‘ä¸šåŠ¡ï¼Œç›¸å¯¹äºå±•ç¤ºç»„ä»¶æ¥è¯´ï¼Œå…¶åŠŸèƒ½æ›´åŠ ä¸°å¯Œã€å¤æ‚æ€§æ›´é«˜ï¼Œæ‰€ä»¥å…¶å¤ç”¨æ€§æ›´ä½ã€‚<strong>å±•ç¤ºç»„ä»¶ä¸“æ³¨äºç»„ä»¶æœ¬èº«ç‰¹æ€§ï¼Œçµå·§ç»„ä»¶æ›´ä¸“æ³¨äºç»„åˆç»„ä»¶</strong>ã€‚æœ€å¸¸è§çš„æ¡ˆä¾‹å°±æ˜¯å®¹å™¨ç»„ä»¶ã€‚</p><h5 id="3-1ã€å®¹å™¨ç»„ä»¶"><a href="#3-1ã€å®¹å™¨ç»„ä»¶" class="headerlink" title="3.1ã€å®¹å™¨ç»„ä»¶"></a>3.1ã€å®¹å™¨ç»„ä»¶</h5><p>å®¹å™¨ç»„ä»¶å‡ ä¹æ²¡æœ‰å¤ç”¨æ€§ï¼Œå®ƒä¸»è¦ç”¨äºï¼šæ‹‰å–æ•°æ®ä¸ç»„åˆç»„ä»¶ã€‚<br>ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> CardList = <span class="hljs-function">(<span class="hljs-params">&#123;cards&#125;</span>) =&gt;</span> (    &lt;div&gt;        &#123;cards.map(<span class="hljs-function"><span class="hljs-params">card</span>=&gt;</span>(            &lt;CardLayout                header=&#123;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Avatar</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&#123;card.avatarUrl&#125;</span> /&gt;</span></span>&#125;                Content=&#123;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Card</span> &#123;<span class="hljs-attr">...card</span>&#125; /&gt;</span></span>&#125;            /&gt;            &#123;comment.body&#125; - &#123;comment.author&#125;        ))&#125;    &lt;/div&gt;)</code></pre><p>ä¸Šè¿°ä»£ç ä¸­çš„CardListç»„ä»¶ï¼Œè´Ÿè´£å°†cardsæ•°æ®æ¸²æŸ“å‡ºæ¥ã€‚æ¥ä¸‹æ¥å°±æ˜¯è·å–ç½‘ç»œæ•°æ®ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CardListContainer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    state=&#123; <span class="hljs-attr">cards</span>: []&#125;    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">&#x27;/api/cards&#x27;</span>)        <span class="hljs-built_in">this</span>.setState(&#123; <span class="hljs-attr">cards</span>:response &#125;)    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CardList</span> <span class="hljs-attr">cards</span>=<span class="hljs-string">&#123;this.state.cards&#125;</span> /&gt;</span></span>    &#125;&#125;</code></pre><p>è¿™æ ·åˆ‡åˆ†ä»£ç åï¼Œå®¹å™¨ç»„ä»¶å†…éå¸¸å¹²å‡€ï¼Œæ²¡æœ‰å†—ä½™å¾—æ ·å¼å’Œé€»è¾‘å¤„ç†ã€‚å…¶å®è¿™ä¹Ÿç”¨åˆ°äº†â€œå…³æ³¨ç‚¹åˆ†ç¦»â€çš„ç­–ç•¥ã€‚é‚£ä¹ˆé¢å¯¹å¤ç”¨æ€§æ›´å¼ºçš„ä¸šåŠ¡é€»è¾‘ç”¨ä»€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><h5 id="3-2ã€é«˜é˜¶ç»„ä»¶"><a href="#3-2ã€é«˜é˜¶ç»„ä»¶" class="headerlink" title="3.2ã€é«˜é˜¶ç»„ä»¶"></a>3.2ã€é«˜é˜¶ç»„ä»¶</h5><p>Reactå®˜æ–¹æ–‡æ¡£ä¸­å°†é«˜é˜¶ç»„ä»¶ç§°ä¸ºæ˜¯reactä¸­<strong>å¤ç”¨ç»„ä»¶é€»è¾‘çš„é«˜çº§æŠ€æœ¯</strong>ã€‚é«˜é˜¶ç»„ä»¶æœ¬èº«å¹¶ä¸æ˜¯React APIçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäºReactçš„ç»„åˆç‰¹æ€§è€Œå½¢æˆçš„è®¾è®¡æ¨¡å¼ã€‚å®é™…ä¸Šï¼Œé«˜é˜¶ç»„ä»¶å°±æ˜¯ä»¥ç»„ä»¶ä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°ç»„ä»¶çš„å‡½æ•°ã€‚</p><p>è¿™å¬èµ·æ¥éå¸¸åƒ<strong>é«˜é˜¶å‡½æ•°</strong>ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä¸”åœ¨æ‰§è¡Œåè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™ç§°å…¶ä¸ºé«˜é˜¶å‡½æ•°ã€‚ reactå›¢é˜Ÿåœ¨ç»„ä»¶æ–¹å‘ä¹Ÿæ±²å–äº†åŒæ ·çš„è®¾è®¡æ¨¡å¼ï¼Œæºè‡ªé«˜é˜¶å‡½æ•°çš„é«˜é˜¶ç»„ä»¶ï¼Œå¯ä»¥ä¼˜é›…åœ°æŠ½å–å…¬å…±é€»è¾‘ã€‚</p><p>å‚è€ƒï¼š<a href="https://zh-hans.reactjs.org/docs/higher-order-components.html#gatsby-focus-wrapper">Reactå®˜ç½‘-é«˜é˜¶ç»„ä»¶</a></p><p><strong>é«˜é˜¶ç»„ä»¶æŠ½å–å…¬å…±é€»è¾‘</strong>ï¼š</p><p>ä¸€ä¸ªå¸¸è§çš„ä¾‹å­ï¼Œç™»å½•æ€çš„åˆ¤æ–­ã€‚å‡è®¾å½“å‰é¡¹ç›®æœ‰è®¢å•é¡µé¢ã€ç”¨æˆ·ä¿¡æ¯é¡µé¢åŠè´­ç‰©è½¦é¦–é¡µï¼Œé‚£ä¹ˆè®¢å•é¡µé¢å’Œç”¨æˆ·ä¿¡æ¯é¡µé¢éƒ½éœ€è¦æ£€æŸ¥å½“å‰æ˜¯å¦å·²ç™»å½•ã€‚å¦‚æœæ²¡æœ‰ç™»å½•ï¼Œåˆ™åº”è¯¥è·³è½¬è‡³ç™»å½•é¡µé¢ã€‚</p><p>ä¸€èˆ¬æ€è·¯å¦‚ä¸‹ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> checkLogin = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-comment">//!!XXXç”¨äºè½¬ä¸ºå¸ƒå°”å€¼</span>    <span class="hljs-keyword">return</span> !!LocalStorage.getItem(<span class="hljs-string">&#x27;token&#x27;</span>)&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CartPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    ...&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">!checkLogin</span>)</span>&#123;            <span class="hljs-comment">//é‡å®šå‘åˆ°ç™»å½•é¡µé¢</span>        &#125;    &#125;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">!checkLogin</span>)</span>&#123;            <span class="hljs-comment">//é‡å®šå‘åˆ°ç™»å½•é¡µé¢</span>        &#125;    &#125;&#125;</code></pre><p>ä¸Šè¿°ä»£ç è™½ç„¶å°†ç™»å½•æ€çš„åˆ¤æ–­æŠ½å–åˆ°äº†ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦åœ¨ç›¸åº”çš„é¡µé¢åŠ ä¸Šåˆ¤æ–­é€»è¾‘ã€‚å¦‚æœæœ‰é«˜é˜¶ç»„ä»¶çš„è¯ï¼Œæƒ…å†µä¼šå®Œå…¨ä¸åŒï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> checkLogin = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-keyword">return</span> !!LocalStorage.getItem(<span class="hljs-string">&#x27;token&#x27;</span>)&#125;<span class="hljs-keyword">const</span> checkLogin = <span class="hljs-function">(<span class="hljs-params">WrappedComponent</span>) =&gt;</span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> &#123;        <span class="hljs-keyword">return</span> checkLogin() ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">WrappedComponent</span> &#123;<span class="hljs-attr">...props</span>&#125; /&gt;</span></span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LoginPage</span>/&gt;</span></span>    &#125;&#125;<span class="hljs-comment">//1ã€å‡½æ•°å†™æ³•</span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RawUserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;    ...&#125;<span class="hljs-keyword">const</span> UserPage = checkLogin(RawUserPage);<span class="hljs-comment">//2ã€è£…é¥°å™¨å†™æ³•</span>@checkLogin<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    ...&#125;@checkLogin<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    ...&#125;</code></pre><p>å¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨äº†é«˜é˜¶ç»„ä»¶åï¼Œæ— è®ºé‡‡ç”¨å‡½æ•°å†™æ³•è¿˜æ˜¯è£…é¥°å™¨å†™æ³•ï¼Œé‡å¤ä»£ç é‡éƒ½ä¸‹é™äº†ä¸€ä¸ªç»´åº¦ã€‚<br>è¿˜æœ‰ä¸€ä¸ªéå¸¸ç»å…¸çš„å¸¸è§å°±æ˜¯<strong>é¡µé¢åŸ‹ç‚¹ç»Ÿè®¡</strong>ï¼šå¦‚æœé‡‡ç”¨è£…é¥°å™¨å†™ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> trakPageView = <span class="hljs-function">(<span class="hljs-params">pageName</span>) =&gt;</span>&#123;    <span class="hljs-comment">//å‘é€åŸ‹ç‚¹ä¿¡æ¯</span>&#125;<span class="hljs-keyword">const</span> PV = <span class="hljs-function">(<span class="hljs-params">pageName</span>) =&gt;</span> &#123;    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">WrappedComponent</span>)=&gt;</span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Wrap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span></span>&#123;            <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span> &#123;                trackPageView(pageName)            &#125;            <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;                <span class="hljs-keyword">return</span> (                    &lt;WrappedComponent &#123;...this.props&#125; /&gt;                );            &#125;        &#125;    &#125;;&#125;@PV(<span class="hljs-string">&#x27;ç”¨æˆ·é¡µé¢&#x27;</span>)<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    ...&#125;@PV(<span class="hljs-string">&#x27;è´­ç‰©è½¦é¡µé¢&#x27;</span>)<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CartPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    ...&#125;@PV(<span class="hljs-string">&#x27;è®¢å•é¡µé¢&#x27;</span>)<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    ...&#125;</code></pre><p>è¿™æ ·å°±è¿åŸ‹ç‚¹çš„ç¹çæ“ä½œéƒ½å˜å¾—ä¼˜é›…äº†èµ·æ¥ã€‚å¦‚æœæˆ‘æƒ³åŒæ—¶åˆ¤æ–­ç™»å½•æ€å’ŒåŸ‹ç‚¹å‘¢ï¼Ÿå°±æ˜¯åŒæ—¶ä½¿ç”¨checkLogin ä¸ PVåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè¿™é‡Œæ¶‰åŠäº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼šé“¾å¼è°ƒç”¨ã€‚</p><p><strong>é“¾å¼è°ƒç”¨</strong>ï¼š</p><p>ç”±äºé«˜é˜¶ç»„ä»¶è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œæ‰€ä»¥é“¾å¼è°ƒç”¨æ˜¯é»˜è®¤æ”¯æŒçš„ã€‚åŸºäºcheckLogin ä¸ PVä¸¤ä¸ªä¾‹å­ï¼Œé“¾å¼ä½¿ç”¨æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class="hljs js"><span class="hljs-comment">//å‡½æ•°è°ƒç”¨æ–¹å¼</span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RawUserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    ...&#125;<span class="hljs-keyword">const</span> UserPage = checkLogin(PV(<span class="hljs-string">&#x27;ç”¨æˆ·é¡µé¢&#x27;</span>)(RawUserPage));<span class="hljs-comment">//è£…é¥°å™¨è°ƒç”¨æ–¹å¼</span>@checkLogin@PV(<span class="hljs-string">&#x27;ç”¨æˆ·ç•Œé¢&#x27;</span>)<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    ...&#125;</code></pre><p><strong>æ¸²æŸ“åŠ«æŒ</strong>ï¼š</p><p>æ¸²æŸ“åŠ«æŒå¯ä»¥é€šè¿‡æ§åˆ¶renderå‡½æ•°ä¿®æ”¹è¾“å‡ºå†…å®¹ï¼Œå¸¸è§çš„åœºæ™¯æ˜¯æ˜¾ç¤ºåŠ è½½å…ƒç´ ï¼š</p><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withLoding</span>(<span class="hljs-params">WrappedComponent</span>) </span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WrappedComponent</span></span>&#123;        <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;            <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params"><span class="hljs-built_in">this</span>.props.isLoding</span>)</span> &#123;                <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Loading</span> /&gt;</span></span>            &#125; <span class="hljs-keyword">else</span> &#123;                <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.render();            &#125;        &#125;    &#125;&#125;</code></pre><p>ä¸Šè¿°ä»£ç é€šè¿‡é«˜é˜¶ç»„ä»¶ç»§æ‰¿åŸç»„ä»¶çš„æ–¹å¼ï¼ŒåŠ«æŒä¿®æ”¹renderå‡½æ•°ï¼Œç¯¡æ”¹è¿”å›å€¼ï¼Œè¾¾åˆ°æ˜¾ç¤ºLoadingçš„æ•ˆæœã€‚ä½†æ˜¯é«˜é˜¶ç»„ä»¶å¹¶éä¸‡èƒ½ï¼Œå®ƒåŒæ ·ä¹Ÿæœ‰ç¼ºé™·ã€‚</p><p><strong>é«˜é˜¶ç»„ä»¶ç¼ºé™·</strong>ï¼š</p><ol><li><font color=green>ä¸¢å¤±é™æ€å‡½æ•°</font>ã€‚ ç”±äºè¢«åŒ…è£¹äº†ä¸€å±‚ï¼Œæ‰€ä»¥é™æ€å‡½æ•°åœ¨å¤–å±‚æ˜¯æ— æ³•è·å–çš„ã€‚<pre><code class="hljs js"><span class="hljs-comment">//Userpage.jsx</span>@PV(<span class="hljs-string">&#x27;ç”¨æˆ·é¡µé¢&#x27;</span>)<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-title">getUser</span>(<span class="hljs-params"></span>)</span>&#123;        ...    &#125;&#125;</code></pre>è¿™é‡Œçš„getUseræ˜¯æ— æ³•è¢«è°ƒç”¨çš„ï¼Œå¦‚æœå¸Œæœ›å¤–ç•Œå¯ä»¥è°ƒç”¨å®ƒï¼Œé‚£ä¹ˆå¯ä»¥åœ¨PVå‡½æ•°ä¸­å°†é™æ€å‡½æ•°å¤åˆ¶è¿‡æ¥ã€‚</li></ol><pre><code class="hljs js"><span class="hljs-keyword">const</span> PV = <span class="hljs-function">(<span class="hljs-params">pageName</span>) =&gt;</span> &#123;    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">WrappedComponent</span>) =&gt;</span>&#123;        <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Wrap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span></span>&#123;            <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span> &#123;                trackPageView(pageName)            &#125;            <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;                <span class="hljs-keyword">return</span> (                    &lt;WrappedComponent &#123;...props&#125; /&gt;                )            &#125;        &#125;        Wrap.getUser = WrappedComponent.getUser;        <span class="hljs-keyword">return</span> Wrap;    &#125;&#125;</code></pre><p>ä½†æ˜¯ä¸€ä¸ªç±»çš„é™æ€å‡½æ•°å¯èƒ½æœ‰å¾ˆå¤šï¼Œä¸å¯èƒ½éƒ½è¿™æ ·è¿›è¡Œæ‰‹åŠ¨å¤åˆ¶ã€‚äºæ˜¯ï¼Œç¤¾åŒºä¸­å‡ºç°äº†ç°æˆçš„å·¥å…·ï¼šé€šè¿‡hoist-non-react-staticså¤„ç†ï¼Œå¯ä»¥è‡ªåŠ¨å¤åˆ¶æ‰€æœ‰é™æ€å‡½æ•°ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> hoistNonReactStatics <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;hoist-non-react-statics&#x27;</span>;<span class="hljs-keyword">const</span> PV = <span class="hljs-function">(<span class="hljs-params">pageName</span>) =&gt;</span> &#123;  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">WrappedComponent</span>) =&gt;</span> &#123;    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Wrap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;      <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span> &#123;        trackPageView(pageName)      &#125;      <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;        <span class="hljs-keyword">return</span> (          &lt;WrappedComponent &#123;...this.props&#125; /&gt;        );      &#125;    &#125;     hoistNonReactStatics(Wrap, WrappedComponent);     <span class="hljs-keyword">return</span> Wrap;  &#125;; &#125;</code></pre><ol start="2"><li><font color=green>refså±æ€§ä¸èƒ½é€ä¼ ã€‚</font> refå±æ€§ç”±äºè¢«é«˜é˜¶ç»„ä»¶åŒ…è£¹äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†æ‰èƒ½è·å–ã€‚Reactä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªReact.forwardRef çš„APIæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡æ¡£çš„ä¸€ä¸ªæ¡ˆä¾‹ï¼š</li></ol><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withLog</span>(<span class="hljs-params">Component</span>) </span>&#123;  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LogProps</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;    <span class="hljs-function"><span class="hljs-title">componentDidUpdate</span>(<span class="hljs-params">prevProps</span>)</span> &#123;      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;old props:&#x27;</span>, prevProps);      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;new props:&#x27;</span>, <span class="hljs-built_in">this</span>.props);    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;      <span class="hljs-keyword">const</span> &#123;forwardedRef, ...rest&#125; = <span class="hljs-built_in">this</span>.props;      <span class="hljs-comment">// å°†è‡ªå®šä¹‰çš„ prop å±æ€§ â€œforwardedRefâ€ å®šä¹‰ä¸º ref</span>      <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Component</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;forwardedRef&#125;</span> &#123;<span class="hljs-attr">...rest</span>&#125; /&gt;</span></span>;    &#125;  &#125;  <span class="hljs-comment">// æ³¨æ„ React.forwardRef å›è°ƒçš„ç¬¬äºŒä¸ªå‚æ•° â€œrefâ€ã€‚</span>  <span class="hljs-comment">// æˆ‘ä»¬å¯ä»¥å°†å…¶ä½œä¸ºå¸¸è§„ prop å±æ€§ä¼ é€’ç»™ LogPropsï¼Œä¾‹å¦‚ â€œforwardedRefâ€</span>  <span class="hljs-comment">// ç„¶åå®ƒå°±å¯ä»¥è¢«æŒ‚è½½åˆ°è¢« LogProps åŒ…è£¹çš„å­ç»„ä»¶ä¸Šã€‚</span>  <span class="hljs-keyword">return</span> React.forwardRef(<span class="hljs-function">(<span class="hljs-params">props, ref</span>) =&gt;</span> &#123;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LogProps</span> &#123;<span class="hljs-attr">...props</span>&#125; <span class="hljs-attr">forwardedRef</span>=<span class="hljs-string">&#123;ref&#125;</span> /&gt;</span></span>;  &#125;);&#125;</code></pre><p>è¿™æ®µä»£ç è¯»èµ·æ¥ä¼šæœ‰ç‚¹å„¿å¤´çš®å‘éº»ï¼Œå®ƒæ­£ç¡®çš„é˜…è¯»é¡ºåºåº”è¯¥æ˜¯ä»æœ€åº•ä¸‹çš„ React.forwardRef éƒ¨åˆ†å¼€å§‹ï¼Œé€šè¿‡ forwardedRef è½¬å‘ ref åˆ° LogProps å†…éƒ¨ã€‚</p><p>å‚è€ƒï¼š<a href="https://zh-hans.reactjs.org/docs/react-api.html#reactforwardref">Reactå®˜ç½‘ - React.forwardRef</a></p><h4 id="å››ã€å·¥ç¨‹å®è·µ"><a href="#å››ã€å·¥ç¨‹å®è·µ" class="headerlink" title="å››ã€å·¥ç¨‹å®è·µ"></a>å››ã€å·¥ç¨‹å®è·µ</h4><p>é€šè¿‡ä»¥ä¸Šçš„æ¢³ç†ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•åœ¨ç›®å½•ä¸­ç»™ç»„ä»¶å®‰æ’ä½ç½®ã€‚</p><pre><code class="hljs js">srcâ”œâ”€â”€ componentsâ”‚Â  Â â”œâ”€â”€ basic(åŸºæœ¬å±•ç¤ºç»„ä»¶)â”‚Â  Â â”œâ”€â”€ container(å®¹å™¨ç»„ä»¶)â”‚Â  Â â””â”€â”€ hoc(é«˜é˜¶ç»„ä»¶)â””â”€â”€ pages</code></pre><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œé’ˆå¯¹basicç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨StoryBookçš„å·¥å…·è¿›è¡Œç»„ä»¶ç®¡ç†ã€‚å®ƒå¯ä»¥æœ‰ç»„ç»‡åœ°ã€é«˜æ•ˆåœ°æ„å»ºåŸºç¡€ç»„ä»¶ã€‚å¯å‚è€ƒ<a href="https://storybook.js.org/">Storybookå®˜ç½‘</a>ã€‚</p><h4 id="äº”ã€ç­”é¢˜"><a href="#äº”ã€ç­”é¢˜" class="headerlink" title="äº”ã€ç­”é¢˜"></a>äº”ã€ç­”é¢˜</h4><p>ç»è¿‡ä¸Šé¢å‡ ä¸ªç« èŠ‚çš„å½’ç±»åˆ†æï¼Œå…³äºReactç»„ä»¶çš„è®¾è®¡ï¼Œæˆ‘ä»¬åº”è¯¥ä»è®¾è®¡ä¸å·¥ç¨‹å®é™…ä¸¤ä¸ªæ–¹å‘æ¢è®¨ã€‚</p><blockquote><p>ä»è®¾è®¡ä¸Šè€Œè¨€ï¼Œç¤¾åŒºä¸»æµåˆ†ç±»çš„æ–¹æ¡ˆæ˜¯å±•ç¤ºç»„ä»¶ä¸çµå·§ç»„ä»¶ã€‚</p><p>å±•ç¤ºç»„ä»¶å†…éƒ¨æ²¡æœ‰çŠ¶æ€ç®¡ç†ï¼Œä»…ä»…ç”¨äºæœ€ç®€å•çš„å±•ç¤ºè¡¨è¾¾ã€‚å±•ç¤ºç»„ä»¶ä¸­æœ€åŸºç¡€çš„ä¸€ç±»ç»„ä»¶ç§°ä½œä»£ç†ç»„ä»¶ã€‚ä»£ç†ç»„ä»¶å¸¸ç”¨äºå°è£…å¸¸ç”¨å±æ€§ã€å‡å°‘é‡å¤ä»£ç ã€‚å¾ˆç»å…¸çš„åœºæ™¯å°±æ˜¯å¼•å…¥ Antd çš„ Button æ—¶ï¼Œä½ å†è‡ªå·±å°ä¸€å±‚ã€‚å¦‚æœæœªæ¥éœ€è¦æ›¿æ¢æ‰ Antd æˆ–è€…éœ€è¦åœ¨æ‰€æœ‰çš„ Button ä¸Šæ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œéƒ½ä¼šéå¸¸æ–¹ä¾¿ã€‚åŸºäºä»£ç†ç»„ä»¶çš„æ€æƒ³è¿˜å¯ä»¥ç»§ç»­åˆ†ç±»ï¼Œåˆ†ä¸ºæ ·å¼ç»„ä»¶ä¸å¸ƒå±€ç»„ä»¶ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯å°†æ ·å¼ä¸å¸ƒå±€å†…èšåœ¨è‡ªå·±ç»„ä»¶å†…éƒ¨ã€‚</p><p>çµå·§ç»„ä»¶ç”±äºé¢å‘ä¸šåŠ¡ï¼Œå…¶åŠŸèƒ½æ›´ä¸ºä¸°å¯Œï¼Œå¤æ‚æ€§æ›´é«˜ï¼Œå¤ç”¨åº¦ä½äºå±•ç¤ºç»„ä»¶ã€‚æœ€ç»å…¸çš„çµå·§ç»„ä»¶æ˜¯å®¹å™¨ç»„ä»¶ã€‚åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå°†ç½‘ç»œè¯·æ±‚ä¸äº‹ä»¶å¤„ç†æ”¾åœ¨å®¹å™¨ç»„ä»¶ä¸­è¿›è¡Œã€‚å®¹å™¨ç»„ä»¶ä¹Ÿä¸ºç»„åˆå…¶ä»–ç»„ä»¶é¢„ç•™äº†ä¸€ä¸ªæ°å½“çš„ç©ºé—´ã€‚è¿˜æœ‰ä¸€ç±»çµå·§ç»„ä»¶æ˜¯é«˜é˜¶ç»„ä»¶ã€‚é«˜é˜¶ç»„ä»¶è¢« React å®˜æ–¹ç§°ä¸º React ä¸­å¤ç”¨ç»„ä»¶é€»è¾‘çš„é«˜çº§æŠ€æœ¯ï¼Œå®ƒå¸¸ç”¨äºæŠ½å–å…¬å…±ä¸šåŠ¡é€»è¾‘æˆ–è€…æä¾›æŸäº›å…¬ç”¨èƒ½åŠ›ã€‚å¸¸ç”¨çš„åœºæ™¯åŒ…æ‹¬æ£€æŸ¥ç™»å½•æ€ï¼Œæˆ–è€…ä¸ºåŸ‹ç‚¹æä¾›å°è£…ï¼Œå‡å°‘æ ·æ¿ä»£ç é‡ã€‚é«˜é˜¶ç»„ä»¶å¯ä»¥ç»„åˆå®Œæˆé“¾å¼è°ƒç”¨ï¼Œå¦‚æœåŸºäºè£…é¥°å™¨ä½¿ç”¨ï¼Œå°±æ›´ä¸ºæ–¹ä¾¿äº†ã€‚é«˜é˜¶ç»„ä»¶ä¸­è¿˜æœ‰ä¸€ä¸ªç»å…¸ç”¨æ³•å°±æ˜¯åå‘åŠ«æŒï¼Œé€šè¿‡é‡å†™æ¸²æŸ“å‡½æ•°çš„æ–¹å¼å®ç°æŸäº›åŠŸèƒ½ï¼Œæ¯”å¦‚åœºæ™¯çš„é¡µé¢åŠ è½½åœˆç­‰ã€‚ä½†é«˜é˜¶ç»„ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªç¼ºé™·ï¼Œç¬¬ä¸€ä¸ªæ˜¯é™æ€æ–¹æ³•ä¸èƒ½è¢«å¤–éƒ¨ç›´æ¥è°ƒç”¨ï¼Œéœ€è¦é€šè¿‡å‘ä¸Šå±‚ç»„ä»¶å¤åˆ¶çš„æ–¹å¼è°ƒç”¨ï¼Œç¤¾åŒºæœ‰æä¾›è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨ hoist-non-react-statics å¯ä»¥è§£å†³ï¼›ç¬¬äºŒä¸ªæ˜¯ refs ä¸èƒ½é€ä¼ ï¼Œä½¿ç”¨ React.forwardRef API å¯ä»¥è§£å†³ã€‚</p><p>ä»å·¥ç¨‹å®è·µè€Œè¨€ï¼Œé€šè¿‡æ–‡ä»¶å¤¹åˆ’åˆ†çš„æ–¹å¼åˆ‡åˆ†ä»£ç ã€‚æˆ‘åˆæ­¥å¸¸ç”¨çš„åˆ†å‰²æ–¹å¼æ˜¯å°†é¡µé¢å•ç‹¬å»ºç«‹ä¸€ä¸ªç›®å½•ï¼Œå°†å¤ç”¨æ€§ç•¥é«˜çš„ components å»ºç«‹ä¸€ä¸ªç›®å½•ï¼Œåœ¨ä¸‹é¢åˆ†åˆ«å»ºç«‹ basicã€container å’Œ hoc ä¸‰ç±»ã€‚è¿™æ ·å¯ä»¥ä¿è¯æ— æ³•å¤ç”¨çš„ä¸šåŠ¡é€»è¾‘ä»£ç å°½é‡ç•™åœ¨ Page ä¸­ï¼Œè€Œå¯ä»¥æŠ½è±¡å¤ç”¨çš„éƒ¨åˆ†æ”¾å…¥ components ä¸­ã€‚å…¶ä¸­ basic æ–‡ä»¶å¤¹æ”¾å±•ç¤ºç»„ä»¶ï¼Œç”±äºå±•ç¤ºç»„ä»¶æœ¬èº«ä¸ä¸šåŠ¡å…³è”æ€§è¾ƒä½ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ Storybook è¿›è¡Œç»„ä»¶çš„å¼€å‘ç®¡ç†ï¼Œæå‡é¡¹ç›®çš„å·¥ç¨‹åŒ–ç®¡ç†èƒ½åŠ›ã€‚</p></blockquote><p>æ•´ç†ä¸ºæ€ç»´å¯¼å›¾å¦‚ä¸‹ï¼š<br><img src="https://pic.downk.cc/item/5fdc10213ffa7d37b31b801d.jpg" alt="Reactç»„ä»¶è®¾è®¡"></p><p><strong>æ€»ç»“</strong>:</p><p>åœ¨æœ¬è®²ä¸­ä¸»è¦å¯¹ React ç»„ä»¶çš„è®¾è®¡æ¨¡å¼è¿›è¡Œäº†æ¢³ç†ä¸å›é¡¾ï¼Œå¹¶æ¢è®¨äº†è®¾è®¡æ¨¡å¼åœ¨å·¥ç¨‹å®è·µä¸­çš„ä½œç”¨ã€‚</p><p>åœ¨é¢è¯•ä¸­é¢è¯•å®˜ä¸ä»…å¸Œæœ›å¬åˆ°è®¾è®¡æ¨¡å¼æœ‰å“ªäº›ï¼Œç¤¾åŒºçš„æ¨èæ–¹å¼æœ‰å“ªäº›ï¼Œæ›´å¸Œæœ›å¬åˆ°æ¨¡å¼å…·ä½“ç”¨åœ¨å“ªå„¿ã€‚å¦‚æœä½ çŸ¥é“å…·ä½“çš„åœºæ™¯ï¼Œå°±ä¼šæ˜¾å¾—æ›´æœ‰ç»éªŒã€‚è®¾è®¡æ¨¡å¼å¹¶éæœ‰ç¡®å®šçš„æ ‡å‡†ç­”æ¡ˆï¼Œç¤¾åŒºæµè¡Œçš„åˆ†ç±»æ–¹å¼ä¹Ÿå¹¶éä¸‡èƒ½ã€‚å¦‚æœä½ æœ‰è‡ªå·±çš„è§è§£ï¼Œåœ¨é¢è¯•ä¸­ä¸é¢è¯•å®˜è¿›è¡Œæ¢è®¨ï¼Œä¹Ÿæ˜¯éå¸¸å€¼å¾—é¼“åŠ±çš„ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•å®å…¸ä¹‹Reactç¯‡</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•04-ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</title>
    <link href="/2020/12/10/%E9%9D%A2%E8%AF%9504-%E7%B1%BB%E7%BB%84%E4%BB%B6%E4%B8%8E%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%E5%91%A2%EF%BC%9F/"/>
    <url>/2020/12/10/%E9%9D%A2%E8%AF%9504-%E7%B1%BB%E7%BB%84%E4%BB%B6%E4%B8%8E%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%E5%91%A2%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h4 id="é¢è¯•åœºæ™¯4ï¼šç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆæ¯”è¾ƒé¢˜ï¼‰"><a href="#é¢è¯•åœºæ™¯4ï¼šç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆæ¯”è¾ƒé¢˜ï¼‰" class="headerlink" title="é¢è¯•åœºæ™¯4ï¼šç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆæ¯”è¾ƒé¢˜ï¼‰"></a>é¢è¯•åœºæ™¯4ï¼šç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆæ¯”è¾ƒé¢˜ï¼‰</h4><p>æè¿°åŒºåˆ«ï¼Œå°±æ˜¯æ±‚åŒå­˜å¼‚çš„è¿‡ç¨‹ï¼š</p><ul><li>åœ¨ç¡®è®¤å…±æ€§çš„åŸºç¡€ä¸Šï¼Œæ‰èƒ½æ‰¾åˆ°å®ƒç‹¬ç‰¹çš„ä¸ªæ€§</li><li>é€šè¿‡å…·ä½“çš„åœºæ™¯é€ä¸ªé˜è¿°å®ƒçš„ä¸ªæ€§ã€‚</li></ul><p>é’ˆå¯¹â€œ ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿâ€è¿™ä¸ªé¢è¯•é¢˜ï¼Œé¢è¯•å®˜æƒ³çŸ¥é“çš„æ˜¯ï¼š</p><ul><li>ä½ å¯¹ç»„ä»¶çš„ä¸¤ç§ç¼–å†™æ¨¡å¼æ˜¯å¦äº†è§£</li><li>ä½ æ˜¯å¦å…·å¤‡åœ¨åˆé€‚çš„åœºæ™¯ä¸‹é€‰ç”¨åˆé€‚æŠ€æœ¯æ ˆçš„èƒ½åŠ›</li></ul><h4 id="ä¸€ã€å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶çš„ç›¸åŒç‚¹"><a href="#ä¸€ã€å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶çš„ç›¸åŒç‚¹" class="headerlink" title="ä¸€ã€å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶çš„ç›¸åŒç‚¹"></a>ä¸€ã€å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶çš„ç›¸åŒç‚¹</h4><p>&emsp;ç»„ä»¶æ˜¯Rectå¯å¤ç”¨çš„æœ€å°ä»£ç ç‰‡æ®µï¼Œå®ƒä»¬ä¼šè¿”å›è¦åœ¨é¡µé¢ä¸­æ¸²æŸ“çš„Reactå…ƒç´ ã€‚ä¹Ÿæ­£å› ä¸ºç»„ä»¶æ—¶Reactçš„æœ€å°ç¼–ç å•ä½ï¼Œæ‰€ä»¥æ— è®ºæ—¶ç±»ç»„ä»¶è¿˜æ˜¯å‡½æ•°ç»„ä»¶ï¼Œåœ¨åŸºæœ¬ä½¿ç”¨æ–¹å¼å’Œæœ€ç»ˆå‘ˆç°çš„æ•ˆæœä¸Šéƒ½æ—¶å®Œå…¨ä¸€è‡´çš„ã€‚<strong>å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶ä½œä¸ºç»„ä»¶æœ¬çœçš„æ‰€æœ‰åŸºç¡€åŠŸèƒ½éƒ½æ˜¯ä¸€è‡´çš„ï¼Œéƒ½å¯ä»¥ç”¨å®ƒä»¬ä½œä¸ºåŸºç¡€ç»„ä»¶å±•ç¤ºUIã€‚</strong></p><p>&emsp;ä»ä½¿ç”¨è€…çš„è§’åº¦çœ‹ï¼Œå¾ˆéš¾ä»ä½¿ç”¨ä½“éªŒä¸ŠåŒºåˆ†ä¸¤è€…ï¼Œè€Œä¸”åœ¨ç°ä»£æµè§ˆå™¨ä¸­ï¼Œé—­åŒ…å’Œç±»çš„æ€§èƒ½åªæœ‰åœ¨æç«¯åœºæ™¯ä¸‹æ‰æœ‰æ˜æ˜¾çš„å·®åˆ«ã€‚ä½ ç”šè‡³å¯ä»¥å°†ä¸€ä¸ªç±»ç»„ä»¶æ”¹å†™ä¸ºå‡½æ•°ç»„ä»¶ï¼Œæˆ–è€…æŠŠå‡½ç»„ä»¶æ”¹æˆä¸€ä¸ªç±»ç»„ä»¶ï¼ˆè™½ç„¶ä¸æ¨èè¿™ç§é‡æ„ï¼‰</p><p>&emsp;åŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸ºä¸¤ç§ç»„ä»¶æ—¶å®Œå…¨ä¸€è‡´çš„ã€‚</p><h4 id="äºŒã€å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶çš„ä¸åŒç‚¹"><a href="#äºŒã€å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶çš„ä¸åŒç‚¹" class="headerlink" title="äºŒã€å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶çš„ä¸åŒç‚¹"></a>äºŒã€å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶çš„ä¸åŒç‚¹</h4><p><strong>1ã€ä¸¤ç§ç»„ä»¶ä»£è¡¨äº†ä¸¤ç§ä¸åŒçš„è®¾è®¡æ€æƒ³ä¸å¿ƒæ™ºæ¨¡å¼ã€‚</strong></p><ul><li>ç±»ç»„ä»¶çš„æ ¹åŸºæ˜¯OOP(é¢å‘å¯¹è±¡ç¼–ç¨‹)ï¼Œæ‰€ä»¥å®ƒæœ‰ç»§æ‰¿ã€æœ‰å±æ€§ã€æœ‰å†…éƒ¨çŠ¶æ€çš„ç®¡ç†ã€‚</li><li>å‡½æ•°ç»„ä»¶çš„æ ¹åŸºæ˜¯FPï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼‰ï¼Œå®ƒå±äºç»“æ„åŒ–ç¼–ç¨‹çš„ä¸€ç§ï¼Œä¸æ•°å­¦å‡½æ•°æ€æƒ³ç±»ä¼¼ã€‚ä¹Ÿå°±æ˜¯å‡å®šè¾“å…¥ä¸è¾“å‡ºå­˜åœ¨æŸç§ç‰¹å®šçš„æ˜ å°„å…³ç³»ï¼Œé‚£ä¹ˆåœ¨è¾“å…¥ä¸€å®šçš„æƒ…å†µä¸‹ï¼Œè¾“å‡ºå¿…ç„¶æ˜¯ç¡®å®šçš„ã€‚</li></ul><p>æœ¬è´¨ä¸Šä¸¤è€…æœ€å¤§çš„ä¸åŒï¼š<strong>ç›¸æ¯”è¾ƒäºç±»ç»„ä»¶ï¼Œå‡½æ•°ç»„ä»¶æ›´çº¯ç²¹ã€ç®€å•ã€æ˜“äºæµ‹è¯•ã€‚</strong></p><p>ï¼ˆå‡½æ•°ç»„ä»¶çš„ç¡®å®šæ€§ï¼šåœ¨å‡½æ•°ç»„ä»¶çš„é—­åŒ…ä¸­ï¼Œå®ƒæ•è·çš„å€¼æ°¸è¿œæ˜¯ç¡®å®šä¸”å®‰å…¨çš„ã€‚ä¹Ÿå«<font color=green>å€¼æ•è·ç‰¹æ€§</font>ï¼‰</p><p><strong>2ã€ç±»ç»„ä»¶çš„ç‹¬æœ‰èƒ½åŠ› VS  å‡½æ•°ç»„ä»¶+Hooks</strong></p><p><strong>ç±»ç»„ä»¶å¯ä»¥é€šè¿‡ç”Ÿå‘½å‘¨æœŸåŒ…è£…ä¸šåŠ¡é€»è¾‘ï¼Œè¿™æ˜¯ç±»ç»„ä»¶æ‰€ç‰¹æœ‰çš„ã€‚</strong> æˆ‘ä»¬å¯ä»¥åœ¨componentDidMountã€componentWillUnmoutã€shouldComponentUpdateç­‰ç”Ÿå‘½å‘¨æœŸå®Œæˆä¸€äº›ä¸šåŠ¡é€»è¾‘ã€‚ </p><p>åœ¨è¿˜æ²¡æœ‰Hooksçš„å¹´ä»£ï¼Œå‡½æ•°ç»„ä»¶çš„èƒ½åŠ›å¾ˆå¼±ï¼Œåªèƒ½ç”¨é«˜é˜¶ç»„ä»¶åŒ…è£¹å‡½æ•°ç»„ä»¶æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯è¿™æ ·åšå¹¶æ²¡æœ‰è§£å†³ä¸šåŠ¡é€»è¾‘æºæ‚åœ¨ç”Ÿå‘½å‘¨æœŸä¸­çš„é—®é¢˜ã€‚åæ¥Reactå›¢é˜Ÿå¼•å…¥äº†Hooks,å¹¶åŸºäºHooksåˆ›å»ºäº†ä¸€ä¸ªå®Œå…¨è€³ç›®ä¸€æ–°çš„æ–¹æ¡ˆï¼šä¸æ˜¯è®©å‡½æ•°ç»„ä»¶å»æ¨¡ä»¿ç±»ç»„ä»¶çš„åŠŸèƒ½ï¼Œè€Œæ˜¯æä¾›æ–°çš„å¼€å‘æ¨¡å¼ï¼Œè®©ç»„ä»¶æ¸²æŸ“å’Œä¸šåŠ¡é€»è¾‘æ›´åŠ åˆ†ç¦»ã€‚</p><p>å°ç»“ï¼šåœ¨Hooksçš„åŠ æŒä¸‹ï¼Œå‡½æ•°å¼ç»„ä»¶ä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼ç”Ÿå‘½å‘¨æœŸçš„èƒ½åŠ›ï¼Œç±»ç»„ä»¶æ‰€ç‰¹æœ‰çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿä¸å†æ˜¯å…¶ç‹¬æœ‰çš„åŠŸèƒ½ã€‚ç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶çš„è¾¹ç•Œæ¨¡ç³ŠåŒ–ã€‚</p><p><strong>3ã€è®¾è®¡æ¨¡å¼</strong></p><p>åœ¨è®¾è®¡æ¨¡å¼ä¸Šï¼Œå› ä¸ºç±»æœ¬èº«çš„ç‰¹ç‚¹ï¼Œç±»ç»„ä»¶æ˜¯å¯ä»¥å®ç°ç»§æ‰¿çš„ï¼Œè€Œå‡½æ•°ç»„ä»¶ç¼ºå°‘ç»§æ‰¿çš„èƒ½åŠ›ã€‚ ä½†æ˜¯Reactæœ¬èº«æœ‰æ¡é“å¾‹ï¼š<strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>ã€‚å¹¶ä¸æ¨å´‡ç»§æ‰¿å·²æœ‰ç»„ä»¶ï¼Œå› ä¸ºç»§æ‰¿çš„çµæ´»æ€§æ›´å·®ï¼Œç»†èŠ‚å±è”½è¿‡å¤šã€‚</p><p><strong>4ã€æ€§èƒ½ä¼˜åŒ–</strong></p><p>ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶è¿›è¡Œæ€§èƒ½ä¼˜åŒ–çš„æ–¹å¼: </p><ul><li>ç±»ç»„ä»¶çš„ä¼˜åŒ–ä¸»è¦æ˜¯ä¾é  shouldComponentUpdateå‡½æ•°å»é˜»æ–­æ¸²æŸ“</li><li>å‡½æ•°ç»„ä»¶ä¸€èˆ¬æ˜¯é React.memoæ¥ä¼˜åŒ–ã€‚React.memoå¹¶ä¸æ˜¯å»é˜»æ–­æ¸²æŸ“ï¼Œå…·ä½“å‚è€ƒ<a href="https://zh-hans.reactjs.org/docs/react-api.html#reactmemo">å®˜æ–¹æ–‡æ¡£-React.memo</a></li></ul><p><strong>5ã€æœªæ¥çš„è¶‹åŠ¿</strong></p><p>ç”±äºReact Hooksçš„æ¨å‡ºï¼Œ<strong>å‡½æ•°ç»„ä»¶æˆäº†ç¤¾åŒºæœªæ¥ä¸»æ¨çš„æ–¹æ¡ˆ</strong>ã€‚Reactä»å®é™…ä¸šåŠ¡å‡ºå‘ï¼Œæ¢ç´¢äº†æ—¶é—´åˆ‡ç‰‡ä¸å¹¶å‘æ¨¡å¼ï¼Œè€ƒè™‘æ€§èƒ½çš„è¿›ä¸€æ­¥ä¼˜åŒ–ä¸ç»„ä»¶é—´åˆç†çš„ä»£ç æ‹†åˆ†ç»“æ„åï¼Œè®¤ä¸ºç±»ç»„ä»¶å¹¶ä¸èƒ½å¾ˆå¥½çš„é€‚åº”æœªæ¥çš„è¶‹åŠ¿ï¼Œå¹¶ç»™å‡ºäº†3ä¸ªåŸå› ï¼š</p><ul><li>thisæŒ‡ä»£çš„æ¨¡ç³Šæ€§</li><li>ä¸šåŠ¡é€»è¾‘æ•£è½åœ¨ç”Ÿå‘½å‘¨æœŸä¸­</li><li>Reactçš„ç»„ä»¶ä»£ç ç¼ºä¹æ ‡å‡†çš„æ‹†åˆ†æ–¹å¼</li></ul><p>è€Œä½¿ç”¨äº†Hooksçš„å‡½æ•°ç»„ä»¶å¯ä»¥æä¾›æ¯”åŸå…ˆæ›´ç»†ç²’åº¦çš„é€»è¾‘ç»„ç»‡ä¸å¤ç”¨ï¼Œä¸”èƒ½æ›´å¥½åœ°é€‚ç”¨äºæ—¶é—´åˆ‡ç‰‡ä¸å¹¶å‘æ¨¡å¼ã€‚</p><h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><p><img src="https://pic.downk.cc/item/5fd4636c3ffa7d37b3de82b8.jpg" alt="å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶çš„åŒºåˆ«"></p><p><font color=red>ç­”é¢˜ï¼š</font></p><blockquote><p>ä½œä¸ºç»„ä»¶è€Œè¨€ï¼Œç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶åœ¨ä½¿ç”¨ä¸å‘ˆç°ä¸Šæ²¡æœ‰ä»»ä½•ä¸åŒï¼Œæ€§èƒ½ä¸Šåœ¨ç°ä»£æµè§ˆå™¨ä¸­ä¹Ÿä¸ä¼šæœ‰æ˜æ˜¾å·®å¼‚ã€‚<br>å®ƒä»¬åœ¨å¼€å‘æ—¶çš„å¿ƒæ™ºæ¨¡å‹ä¸Šå´å­˜åœ¨å·¨å¤§çš„å·®å¼‚ã€‚ç±»ç»„ä»¶æ˜¯åŸºäºé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ï¼Œå®ƒä¸»æ‰“çš„æ˜¯ç»§æ‰¿ã€ç”Ÿå‘½å‘¨æœŸç­‰æ ¸å¿ƒæ¦‚å¿µï¼›è€Œå‡½æ•°ç»„ä»¶å†…æ ¸æ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Œä¸»æ‰“çš„æ˜¯ immutableã€æ²¡æœ‰å‰¯ä½œç”¨ã€å¼•ç”¨é€æ˜ç­‰ç‰¹ç‚¹ã€‚</p><p>ä¹‹å‰ï¼Œåœ¨ä½¿ç”¨åœºæ™¯ä¸Šï¼Œå¦‚æœå­˜åœ¨éœ€è¦ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸçš„ç»„ä»¶ï¼Œé‚£ä¹ˆä¸»æ¨ç±»ç»„ä»¶ï¼›è®¾è®¡æ¨¡å¼ä¸Šï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ç»§æ‰¿ï¼Œé‚£ä¹ˆä¸»æ¨ç±»ç»„ä»¶ã€‚</p><p>ä½†ç°åœ¨ç”±äº React Hooks çš„æ¨å‡ºï¼Œç”Ÿå‘½å‘¨æœŸæ¦‚å¿µçš„æ·¡å‡ºï¼Œå‡½æ•°ç»„ä»¶å¯ä»¥å®Œå…¨å–ä»£ç±»ç»„ä»¶ã€‚</p><p>å…¶æ¬¡ç»§æ‰¿å¹¶ä¸æ˜¯ç»„ä»¶æœ€ä½³çš„è®¾è®¡æ¨¡å¼ï¼Œå®˜æ–¹æ›´æ¨å´‡â€œç»„åˆä¼˜äºç»§æ‰¿â€çš„è®¾è®¡æ¦‚å¿µï¼Œæ‰€ä»¥ç±»ç»„ä»¶åœ¨è¿™æ–¹é¢çš„ä¼˜åŠ¿ä¹Ÿåœ¨æ·¡å‡ºã€‚</p><p>æ€§èƒ½ä¼˜åŒ–ä¸Šï¼Œç±»ç»„ä»¶ä¸»è¦ä¾é  shouldComponentUpdateÂ é˜»æ–­æ¸²æŸ“æ¥æå‡æ€§èƒ½ï¼Œè€Œå‡½æ•°ç»„ä»¶ä¾é  React.memo ç¼“å­˜æ¸²æŸ“ç»“æœæ¥æå‡æ€§èƒ½ã€‚</p><p>ä»ä¸Šæ‰‹ç¨‹åº¦è€Œè¨€ï¼Œç±»ç»„ä»¶æ›´å®¹æ˜“ä¸Šæ‰‹ï¼Œä»æœªæ¥è¶‹åŠ¿ä¸Šçœ‹ï¼Œç”±äºReact Hooks çš„æ¨å‡ºï¼Œå‡½æ•°ç»„ä»¶æˆäº†ç¤¾åŒºæœªæ¥ä¸»æ¨çš„æ–¹æ¡ˆã€‚</p><p>ç±»ç»„ä»¶åœ¨æœªæ¥æ—¶é—´åˆ‡ç‰‡ä¸å¹¶å‘æ¨¡å¼ä¸­ï¼Œç”±äºç”Ÿå‘½å‘¨æœŸå¸¦æ¥çš„å¤æ‚åº¦ï¼Œå¹¶ä¸æ˜“äºä¼˜åŒ–ã€‚è€Œå‡½æ•°ç»„ä»¶æœ¬èº«è½»é‡ç®€å•ï¼Œä¸”åœ¨ Hooks çš„åŸºç¡€ä¸Šæä¾›äº†æ¯”åŸå…ˆæ›´ç»†ç²’åº¦çš„é€»è¾‘ç»„ç»‡ä¸å¤ç”¨ï¼Œæ›´èƒ½é€‚åº” React çš„æœªæ¥å‘å±•ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•å®å…¸ä¹‹Reactç¯‡</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>React05-å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶</title>
    <link href="/2020/12/09/React05-%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6%E4%B8%8E%E9%9D%9E%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6/"/>
    <url>/2020/12/09/React05-%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6%E4%B8%8E%E9%9D%9E%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h3 id="Controlled-Components-VS-unControlled-Components"><a href="#Controlled-Components-VS-unControlled-Components" class="headerlink" title="Controlled Components VS unControlled Components"></a>Controlled Components VS unControlled Components</h3><h4 id="ä¸€ã€éå—æ§ç»„ä»¶"><a href="#ä¸€ã€éå—æ§ç»„ä»¶" class="headerlink" title="ä¸€ã€éå—æ§ç»„ä»¶"></a>ä¸€ã€éå—æ§ç»„ä»¶</h4><p>å…ˆçœ‹ä¸€ä¸ªéå—æ§ç»„ä»¶çš„ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>(    &lt;div&gt;        &lt;label&gt;            My uncontrolled Input:            &lt;input type=<span class="hljs-string">&#x27;text&#x27;</span>/&gt;        &lt;/label&gt;    &lt;/div&gt;)</code></pre><p>ä¸Šè¿°ä»£ç ä¸­çš„inputæ˜¯ä¸å—æ§åˆ¶çš„HTMLå…ƒç´ ï¼Œé€šå¸¸æˆ‘ä»¬ä¹Ÿå°†å°è£…äº†è¿™ç§å…ƒç´ çš„APPç»„ä»¶ç§°ä¸ºæ˜¯ â€œéå—æ§ç»„ä»¶â€ã€‚</p><p>ğŸ–ï¼šåˆ¤æ–­ä¸€ä¸ªç»„ä»¶å—æ§ä¸å¦ï¼Œè·Ÿå®ƒæ˜¯å‡½æ•°ç»„ä»¶è¿˜æ˜¯ç±»ç»„ä»¶æ²¡æœ‰å…³ç³»ï¼</p><p>è¿™é‡Œçš„inputæ˜¯ä¸å—æ§çš„ï¼Œå› ä¸ºå½“æˆ‘ä»¬å¯åŠ¨è¿™ä¸ªapplicationåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¾“å…¥æ¡†ç§ç¼–è¾‘ä»»ä½•å†…å®¹ï¼Œä½†æ˜¯æˆ‘ä»¬ç¼–è¾‘å‡ºæ¥çš„ä¸œè¥¿æ²¡æœ‰å±•ç¤ºåœ¨å…¶ä»–ä»»ä½•åœ°æ–¹ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•è¡Œä¸ºçœ‹å¯ä»¥å»æ”¹å˜æˆ‘ä»¬æ‰“è¿›å»çš„å€¼ã€‚æ¯•ç«Ÿï¼Œè¿™é‡Œçš„inputå°±æ˜¯ä¸€ä¸ªåŸç”Ÿçš„HTMLå…ƒç´ ï¼Œå®ƒè‡ªå·±ç®¡ç†è‡ªå·±çš„å†…éƒ¨çŠ¶æ€ï¼Œè€Œä¸å—ä»»ä½•å¤–ç•Œçš„æ§åˆ¶ã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹å¦å¤–ä¸€ä¸ªä¾‹å­ï¼Œè¿™ä¸ªä¾‹å­æ›´å®¹æ˜“è®©æˆ‘ä»¬æ··æ·†å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶ï¼š</p><pre><code class="hljs js"><span class="hljs-comment">//æ·»åŠ state management å’Œ React Hooks</span><span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">const</span> [value, setValue] = useState(<span class="hljs-string">&#x27;&#x27;</span>);    <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setValue(event.target.value);    <span class="hljs-keyword">return</span> (        &lt;div&gt;            &lt;label&gt;                My still uncontrolled Input:                &lt;input type=<span class="hljs-string">&#x27;text&#x27;</span> onChange=&#123;handleChange&#125; /&gt;            &lt;/label&gt;            &lt;p&gt;                &lt;strong&gt;Output: &lt;/strong&gt; &#123;value&#125;            &lt;/p&gt;        &lt;/div&gt;    );&#125;;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>æˆ‘ä»¬æŠŠåœ¨è¾“å…¥æ¡†ç¼–è¾‘çš„å†…å®¹å±•ç¤ºåˆ°ä¸€ä¸ªæ®µè½ä¸­ï¼ˆoutputçš„åé¢ï¼‰ï¼Œå½“æˆ‘ä»¬å¯åŠ¨è¿™ä¸ªç¨‹åºåï¼Œinputè¾“å…¥æ¡†ç¼–è¾‘ä»€ä¹ˆï¼Œoutputåé¢ä¹Ÿä¼šå±•ç¤ºä»€ä¹ˆã€‚ä½†æ˜¯ï¼Œå®ƒä¾ç„¶æ˜¯ä¸ªéå—æ§ç»„ä»¶ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬æŠŠinitialStateé‡Œé¢å†™å…¥å†…å®¹ï¼Œæ¥è§£é‡Šè¿™ä¸ªé—®é¢˜ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">const</span> [value, setValue] = useState(<span class="hljs-string">&#x27;Hello React&#x27;</span>);    <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setValue(event.target.value);    <span class="hljs-keyword">return</span> (        &lt;div&gt;            &lt;label&gt;                My still uncontrolled Input:                &lt;input type=<span class="hljs-string">&#x27;text&#x27;</span> onChange=&#123;handleChange&#125; /&gt;            &lt;/label&gt;            &lt;p&gt;                &lt;strong&gt;Output: &lt;/strong&gt; &#123;value&#125;            &lt;/p&gt;        &lt;/div&gt;    );&#125;;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>è¿è¡Œè¿™ä¸ªç¨‹åºåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŒºåˆ«äº†ï¼š<br><img src="https://pic.downk.cc/item/5fd0c0543ffa7d37b335df1a.jpg"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° inputæ¡†é‡Œæ˜¯ç©ºçš„ï¼Œå¯æ˜¯outputåé¢å´æ˜¯æœ‰å†…å®¹çš„ï¼ˆoutputåé¢å±•ç¤ºçš„å°±æ˜¯initial stateï¼‰ã€‚åªæœ‰å½“æˆ‘ä»¬å¾€è¾“å…¥æ¡†ä¸­è¾“å…¥ä¸œè¥¿æ—¶ï¼ŒäºŒè€…æ‰ä¼¼ä¹é‡æ–°å¼€å§‹ä¿æŒâ€œåŒæ­¥â€ã€‚ä½†å…¶å®ï¼Œ<strong>inputæ¡†çš„å†…å®¹ä»ç„¶æ˜¯å®ƒè‡ªå·±çš„å†…éƒ¨çŠ¶æ€ï¼Œè€Œoutputåé¢çš„å†…å®¹å´æ¥è‡ªäºçœŸå®çš„React state</strong>(from handler function)ã€‚æ‰€ä»¥when typing, outputåé¢å±•ç¤ºçš„å†…å®¹è™½ç„¶çœ‹èµ·æ¥ä¼¼ä¹å’Œæˆ‘ä»¬åœ¨è¾“å…¥æ¡†æ‰“è¿›å»çš„ä¸€æ ·ï¼Œä½†å…¶å®å®ƒä»¬ä¿©çš„æ¥æºä¸åŒï¼š</p><ul><li>input filed receives its value from internal DOM node state;</li><li>output paragraph receives its value from Reactâ€™s stateã€‚</li></ul><p>åœ¨æˆ‘ä»¬çš„Reactåº”ç”¨ä¸­ä½¿ç”¨éå—æ§ç»„ä»¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„bugã€‚å¦‚æœæƒ³åˆ©ç”¨ä¸€ç§äº‹å®æ¥æºï¼ˆone source of truth)æ¥é©±åŠ¨UIï¼Œå°±åº”è¯¥ä½¿ç”¨propsæˆ–è€…æ˜¯stateã€‚å¯¹äºä¸€ä¸ªç»„ä»¶æ¥è¯´ï¼Œæœ‰ç›¸åŒçš„propså’Œstateï¼Œå°±åº”è¯¥æ¸²æŸ“å‡ºç›¸åŒçš„UIç•Œé¢ï¼š<strong>ï¼ˆprops, state) =&gt; view</strong></p><h4 id="äºŒã€å—æ§ç»„ä»¶"><a href="#äºŒã€å—æ§ç»„ä»¶" class="headerlink" title="äºŒã€å—æ§ç»„ä»¶"></a>äºŒã€å—æ§ç»„ä»¶</h4><p>æ—¢ç„¶éå—æ§ç»„ä»¶å¯èƒ½å¯¼è‡´bug, é‚£ä¹ˆæˆ‘ä»¬å°±åº”è¯¥æŠŠinputè¿™ç§ä¸å—æ§åˆ¶çš„å…ƒç´ æ”¹ä¸ºå—æ§å…ƒç´ ã€‚äº¦å³ï¼Œæˆ‘ä»¬ä¸ºinputæä¾›ä¸€ä¸ªvalue (å®ƒçš„å€¼æ¥æºäº React state)ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>; <span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> &#123;  <span class="hljs-keyword">const</span> [value, setValue] = useState(<span class="hljs-string">&#x27;Hello React&#x27;</span>);   <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setValue(event.target.value);   <span class="hljs-keyword">return</span> (    &lt;div&gt;      &lt;label&gt;        My controlled Input:        &lt;input type=<span class="hljs-string">&quot;text&quot;</span> value=&#123;value&#125; onChange=&#123;handleChange&#125; /&gt;      &lt;/label&gt;       &lt;p&gt;        &lt;strong&gt;Output:&lt;/strong&gt; &#123;value&#125;      &lt;/p&gt;    &lt;/div&gt;  );&#125;; <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>é€šè¿‡ç»™inputè¾“å…¥æ¡†æä¾›ä¸€ä¸ªæ¥æºäºreact stateçš„valueå€¼ï¼Œå®ƒå°±ä¸å†ä½¿ç”¨è‡ªå·±æœ¬èº«çš„å†…éƒ¨çŠ¶æ€äº†ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å†æ¥å¯åŠ¨è¿™ä¸ªç¨‹åºæ—¶ï¼Œinputè¾“å…¥æ¡†é‡Œçš„å€¼å’Œoutputåé¢å±•ç¤ºçš„å†…å®¹å°±å®Œå…¨ä¸€è‡´äº†ï¼ï¼ˆå› ä¸ºå®ƒä»¬éƒ½æ¥è‡ªäºreact stateï¼‰<br><img src="https://pic.downk.cc/item/5fd0c4643ffa7d37b33a6f41.jpg"></p><p>å‚è€ƒï¼š<a href="https://www.robinwieruch.de/react-controlled-components">What are Controlled Components in React?</a></p>]]></content>
    
    
    <categories>
      
      <category>Reactå­¦ä¹ </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>React04-å‡½æ•°ç»„ä»¶</title>
    <link href="/2020/12/09/React04-%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6/"/>
    <url>/2020/12/09/React04-%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h3 id="React-Function-Components"><a href="#React-Function-Components" class="headerlink" title="React Function Components"></a>React Function Components</h3><p>&emsp; Reactå‡½æ•°ç»„ä»¶æ˜¯ç¼–å†™ç°ä»£Reactåº”ç”¨ç¨‹åºçš„å¸¸ç”¨æ–¹å¼ï¼Œè‡ªä»React Hookè¢«å¼•å…¥ä¹‹åï¼Œä½¿å¾—å®Œå…¨ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶æ¥ç¼–å†™ä¸€ä¸ªReactåº”ç”¨ç¨‹åºæˆä¸ºå¯èƒ½ã€‚å‡½æ•°å¼ç»„ä»¶çš„æ ¸å¿ƒï¼šå°±æ˜¯ä¸€ä¸ªè¿”å›JSXçš„JavaScriptå‡½æ•°ã€‚</p><h4 id="ä¸€ã€ä¸€ä¸ªç®€å•çš„å‡½æ•°ç»„ä»¶çš„ä¾‹å­"><a href="#ä¸€ã€ä¸€ä¸ªç®€å•çš„å‡½æ•°ç»„ä»¶çš„ä¾‹å­" class="headerlink" title="ä¸€ã€ä¸€ä¸ªç®€å•çš„å‡½æ•°ç»„ä»¶çš„ä¾‹å­"></a>ä¸€ã€ä¸€ä¸ªç®€å•çš„å‡½æ•°ç»„ä»¶çš„ä¾‹å­</h4><p>å‡½æ•°å¼ç»„ä»¶çš„ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>)</span>&#123;    <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;hello function component!&#x27;</span>;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;greeting&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>&#125;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>ä»ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°å‡½æ•°å¼ç»„ä»¶ä¸­å¹¶æ²¡æœ‰ç±»classç»„ä»¶é‡Œæœ‰çš„render()å‡½æ•°ã€‚å®é™…ä¸Šï¼Œå‡½æ•°ä¸»ä½“é‡Œé¢å®šä¹‰çš„å†…å®¹éƒ½æ˜¯renderå‡½æ•°ï¼Œè¯¥å‡½æ•°æœ€åè¿”JSXã€‚</p><p>å¦‚æœæƒ³åœ¨Reactå‡½æ•°ç»„ä»¶é‡Œé¢ï¼Œå†æ¸²æŸ“ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>)</span>&#123;    <span class="hljs-comment">//å°†Headlineç»„ä»¶ä½œä¸ºHTMLå…ƒç´ ï¼Œä»¥JSXçš„æ–¹å¼æ¸²æŸ“å‡ºæ¥</span>    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headine</span> /&gt;</span></span>&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Headeline</span>(<span class="hljs-params"></span>)</span>&#123;    <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;hello function component!&#x27;</span>;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;greeting&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;&#125;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><h4 id="äºŒã€å‡½æ•°ç»„ä»¶çš„å‚æ•°Props"><a href="#äºŒã€å‡½æ•°ç»„ä»¶çš„å‚æ•°Props" class="headerlink" title="äºŒã€å‡½æ•°ç»„ä»¶çš„å‚æ•°Props"></a>äºŒã€å‡½æ•°ç»„ä»¶çš„å‚æ•°Props</h4><p>&emsp;åœ¨Reactä¸­ï¼Œpropsè¢«ç”¨äºç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´ä¼ é€’ä¿¡æ¯ï¼ˆçˆ¶ç»„ä»¶é€šè¿‡propsä¼ é€’ä¿¡æ¯ç»™å­ç»„ä»¶ï¼‰ã€‚Essentially props in React are always passed down the component tree;</p><p>ä¸€ä¸ªä½¿ç”¨propsçš„ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>)</span>&#123;    <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;hello function component&#x27;</span>;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> <span class="hljs-attr">value</span> = <span class="hljs-string">&#123;greeting&#125;</span> /&gt;</span></span>;&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Headline</span>(<span class="hljs-params">props</span>)</span>&#123;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;props.value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>&#125;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>ç”±äºpropsé€šå¸¸éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨JS å¯¹è±¡è§£æ„çš„æ–¹å¼ä»propsä¸­æŠ½å–æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ã€‚æ¯”å¦‚ä¸Šé¢çš„Headlineç»„ä»¶ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼ï¼š</p><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Headline</span>(<span class="hljs-params">&#123;value&#125;</span>)</span>&#123;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>&#125;<span class="hljs-comment">//éœ€è¦è§£æ„å¤šä¸ªä¿¡æ¯å‡ºæ¥æ—¶ï¼š</span><span class="hljs-comment">//function Headline(&#123;value1,value2&#125;)&#123;...&#125;</span></code></pre><p>å…³äºpropsçš„æ›´å¤šä½¿ç”¨ï¼šå¯ä»¥å‚è€ƒ<a href="https://www.robinwieruch.de/react-pass-props-to-component">How to pass props to components in React</a></p><h4 id="ä¸‰ã€React-ç®­å¤´å‡½æ•°ç»„ä»¶"><a href="#ä¸‰ã€React-ç®­å¤´å‡½æ•°ç»„ä»¶" class="headerlink" title="ä¸‰ã€React ç®­å¤´å‡½æ•°ç»„ä»¶"></a>ä¸‰ã€React ç®­å¤´å‡½æ•°ç»„ä»¶</h4><p>&emsp;ç®­å¤´å‡½æ•°ç»„ä»¶ Arrow Funciton Components(or Lambda Function Component)ï¼Œæ˜¯éšç€ES6ç®­å¤´å‡½æ•°çš„å‡ºç°ï¼Œå¼•å…¥åˆ°Reactä¸­çš„ã€‚</p><p>ç”¨ç®­å¤´å‡½æ•°é‡æ„ä¸Šé¢çš„å‡½æ•°ç»„ä»¶ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App=<span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;hello function components!&#x27;</span>;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;greeting&#125;</span> /&gt;</span></span>&#125;;<span class="hljs-keyword">const</span> Headline=<span class="hljs-function">(<span class="hljs-params">&#123;value&#125;</span>)=&gt;</span>&#123;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>&#125;;<span class="hljs-comment">//æ ¹æ®ç®­å¤´å‡½æ•°çš„ç®€å†™è§„åˆ™ï¼Œä¸Šé¢çš„Headlineå¯ä»¥ç®€å†™ä¸ºï¼š</span><span class="hljs-keyword">const</span> Headline = <span class="hljs-function">(<span class="hljs-params">&#123;value&#125;</span>) =&gt;</span>     &lt;h1&gt;&#123;value&#125;&lt;/h1&gt;;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><h4 id="å››ã€Stateless-Function-Component"><a href="#å››ã€Stateless-Function-Component" class="headerlink" title="å››ã€Stateless Function Component"></a>å››ã€Stateless Function Component</h4><p>&emsp;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å†™çš„ä¾‹å­é‡Œéƒ½æ˜¯æ— çŠ¶æ€çš„å‡½æ•°ç»„ä»¶ã€‚å®ƒä»¬ä»…ä»…æ¥æ”¶ä¸€ä¸ªprops,ç„¶åè¿”å›ä¸€ä¸ªè¾“å‡ºã€ä»¥JSXï¼šï¼ˆprops)=&gt;JSXã€‘ã€‚ è¿™ç§ç±»å‹çš„ç»„ä»¶ä¸éœ€è¦ç®¡ç†stateï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ï¼ˆä¾‹å¦‚ï¼Œæ¥å—æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°ä¸ºâ€œStateless Function Componentâ€ï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ— çŠ¶æ€çš„ä¸”ä»¥ä¸€ä¸ªå‡½æ•°çš„å½¢å¼è¡¨è¾¾å‡ºæ¥ã€‚ç„¶è€Œï¼ŒReact Hooksä½¿å¾—å‡½æ•°å¼ç»„ä»¶æœ‰stateæˆä¸ºå¯èƒ½ã€‚</p><h4 id="äº”ã€æœ‰stateçš„å‡½æ•°ç»„ä»¶"><a href="#äº”ã€æœ‰stateçš„å‡½æ•°ç»„ä»¶" class="headerlink" title="äº”ã€æœ‰stateçš„å‡½æ•°ç»„ä»¶"></a>äº”ã€æœ‰stateçš„å‡½æ•°ç»„ä»¶</h4><p>&emsp;ç°åœ¨æˆ‘ä»¬å…ˆç§»é™¤ä¸Šé¢ä¾‹å­ä¸­å‡½æ•°ç»„ä»¶é‡Œçš„æ‰€æœ‰props:</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>; <span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> &#123;  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> /&gt;</span></span>;&#125;; <span class="hljs-keyword">const</span> Headline = <span class="hljs-function">() =&gt;</span> &#123;  <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;Hello Function Component!&#x27;</span>;   <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;greeting&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;&#125;; <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>è¿™æ ·ï¼Œä½¿ç”¨è¿™ä¸ªapplicationçš„ç”¨æˆ·å°±æ²¡æ³•å’Œå®ƒè¿›è¡Œä»»ä½•äº¤äº’ï¼Œä¹Ÿæ— æ³•æ”¹å˜greetingå˜é‡ã€‚The application is static and not interactive at allã€‚  Stateå°±æ˜¯è®©Reactç»„ä»¶å˜å¾—å¯äº¤äº’ï¼ŒReact Hooks å¸®åŠ©æˆ‘ä»¬å®ç°å‡½æ•°å¼ç»„ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨stateã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App=<span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> /&gt;</span></span>;&#125;<span class="hljs-keyword">const</span> Headline=<span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">const</span> [greeting , setGreeting] = useState(        <span class="hljs-string">&#x27;hello function component!&#x27;</span>    );    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;greeting&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>&#125;;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>useState hookå‡½æ•°å°†åˆå§‹çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ˆå½“å‰çš„stateæ˜¯è¿™ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç”¨äºæ”¹å˜stateçš„å‡½æ•°æ—¶è¿™ä¸ªæ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼‰ã€‚æˆ‘ä»¬ä½¿ç”¨äº†æ•°ç»„è§£æ„çš„æ–¹å¼æ¥è·å–è¿™ä¸ªæ•°ç»„çš„å…ƒç´ ã€‚è€Œä¸”æ•°ç»„è§£æ„å…è®¸æˆ‘ä»¬è‡ªå·±ä¸ºå˜é‡å‘½åã€‚</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªinput field æ¥æ”¹å˜stateï¼ˆä½¿ç”¨setGreeting):</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App=<span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> /&gt;</span></span>;&#125;<span class="hljs-keyword">const</span> Headline=<span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">const</span> [greeting , setGreeting] = useState(        <span class="hljs-string">&#x27;hello function component!&#x27;</span>    );    <span class="hljs-keyword">return</span> (        &lt;div&gt;            &lt;h1&gt;&#123;greeting&#125;&lt;h1&gt;                        &lt;input                type=<span class="hljs-string">&#x27;text&#x27;</span>                value=&#123;greeting&#125;                onChange=&#123;<span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setGreeting(event.target.value)&#125;            /&gt;        &lt;/div&gt;    )&#125;;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨inputä¸­æ·»åŠ ä¸€ä¸ªevent handlerï¼Œè¿™æ ·å½“inputä¸­çš„å€¼å˜åŒ–æ—¶æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨å›è°ƒå‡½æ•°åšä¸€äº›äº‹æƒ…ã€‚å›è°ƒå‡½æ•°çš„å‚æ•°eventæ˜¯ä¸€ä¸ªæ‹¥æœ‰å½“å‰inputåŸŸä¸­valueå€¼çš„<a href="https://reactjs.org/docs/events.html">synthetic React event</a>ï¼Œäº¦å³event.target.valueï¼Œè¢«ç”¨æ¥æ›´æ–°å‡½æ•°ç»„ä»¶çš„stateã€‚åç»­ï¼Œæˆ‘ä»¬ä¼šå°†è¿™ä¸ªonChangeäº‹ä»¶æå–å‡ºæ¥ã€‚</p><p>ğŸ–ï¼šè¿™ä¸ªinput field å¯ä»¥æ¥å—è¿™ä¸ªç»„ä»¶çš„stateå€¼ã€‚å½“æˆ‘ä»¬æƒ³æ§åˆ¶inputçš„valueï¼ˆstateï¼‰è€Œä¸æƒ³è®©åŸç”Ÿçš„HTMLå…ƒç´ çš„å†…éƒ¨çŠ¶æ€æ¥ç®¡inputä¸­çš„å€¼æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»„ä»¶çš„stateå€¼ã€‚è¿™æ—¶ï¼Œè¿™ä¸ªinputå°±æˆä¸ºäº†â€å—æ§ç»„ä»¶â€<a href="https://www.robinwieruch.de/react-controlled-components">controlled component</a>ã€‚</p><h4 id="å…­ã€å‡½æ•°ç»„ä»¶ï¼ševent-handler"><a href="#å…­ã€å‡½æ•°ç»„ä»¶ï¼ševent-handler" class="headerlink" title="å…­ã€å‡½æ•°ç»„ä»¶ï¼ševent handler"></a>å…­ã€å‡½æ•°ç»„ä»¶ï¼ševent handler</h4><p>åœ¨ç¬¬äº”èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç»™inputå…ƒç´ æ·»åŠ äº†ä¸€ä¸ªonChangeäº‹ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬éšæ—¶å¯ä»¥è§‚å¯Ÿåˆ°inputå†…å®¹çš„å˜åŒ–ã€‚ä½†æ˜¯ä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å†…è”çš„ç®­å¤´å‡½æ•°ç»™onChangeäº‹ä»¶èµ‹å€¼ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæŠ½å–å‡ºæ¥ä½œä¸ºä¸€ä¸ªå‘½åå‡½æ•°:</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> /&gt;</span></span>;&#125;<span class="hljs-keyword">const</span> Headline = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-keyword">const</span> [greeting, setGreeting] = useState(<span class="hljs-string">&#x27;hello function component&#x27;</span>)&#125;<span class="hljs-comment">//è¿™é‡Œå°±æ˜¯æå–å‡ºæ¥çš„å‘½åå‡½æ•°</span><span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span>setGreeting(event.target.value);<span class="hljs-keyword">return</span>(    &lt;div&gt;        &lt;h1&gt;&#123;greeting&#125;&lt;/h1&gt;        &lt;input type=<span class="hljs-string">&#x27;text&#x27;</span> value=&#123;greeting&#125; onChange = &#123;handleChange&#125; /&gt;    &lt;/div&gt;)<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><h4 id="ä¸ƒã€çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼-åŒ…æ‹¬callback-function"><a href="#ä¸ƒã€çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼-åŒ…æ‹¬callback-function" class="headerlink" title="ä¸ƒã€çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼(åŒ…æ‹¬callback function)"></a>ä¸ƒã€çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼(åŒ…æ‹¬callback function)</h4><p>åœ¨ç¬¬å…­èŠ‚ä¸­çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰çš„é€»è¾‘ï¼ˆåŒ…æ‹¬å˜é‡å’Œå‡½æ•°ï¼‰éƒ½æ”¾åœ¨äº†å­ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯Headlineä¸­ã€‚çˆ¶ç»„ä»¶æ²¡æœ‰å‘å­ç»„ä»¶ä¼ é€’props,ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†æŠŠgreetingå’ŒonChangeäº‹ä»¶çš„å¤„ç†é€»è¾‘éƒ½æ”¾åœ¨çˆ¶ç»„ä»¶Appä¸­ï¼Œå†é€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶Headlineã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React,&#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-keyword">const</span> [greeting, setGreeting] = useState(<span class="hljs-string">&#x27;hello function component&#x27;</span>);    <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setGreeting(event.target.value);    <span class="hljs-keyword">return</span> (        &lt;Headline headline = &#123;greeting&#125; onChangeHeadline = &#123;handleChange&#125; /&gt;    )&#125;<span class="hljs-keyword">const</span> Headline = <span class="hljs-function">(<span class="hljs-params">&#123;headline,onChangeHeadline&#125;</span>) =&gt;</span> (    &lt;div&gt;        &lt;h1&gt;&#123;headline&#125;&lt;/h1&gt;        &lt;input type=<span class="hljs-string">&#x27;text&#x27;</span> value=&#123;headline&#125; onChange=&#123;onChangeHeadline&#125;/&gt;    &lt;/div&gt;)<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>è¿›ä¸€æ­¥åœ°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠinputæŠ½å–å‡ºæ¥ï¼Œä½¿å…¶åˆ°å•ç‹¬æˆä¸ºä¸€ä¸ªç»„ä»¶ã€‚ä»è€Œï¼Œæˆ‘ä»¬æœ‰ä¸ªä¸€ä¸ªçˆ¶ç»„ä»¶Appï¼Œä¸¤ä¸ªå­ç»„ä»¶Headlineå’ŒInputã€‚çˆ¶ç»„ä»¶å‘ä¸¤ä¸ªå­ç»„ä»¶ä¼ é€’props:</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React,&#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-keyword">const</span> [greeting, setGreeting] = useState(<span class="hljs-string">&#x27;hello function component&#x27;</span>);    <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span>setGreeting(event.target.value);    <span class="hljs-keyword">return</span> (        &lt;div&gt;            &lt;Headline headline=&#123;greeting&#125; /&gt;            &lt;Input value=&#123;greeting&#125; onChangeInput=&#123;handleChange&#125;&gt;<span class="hljs-built_in">Set</span> Greeting: &lt;/Input&gt;        &lt;/div&gt;    )&#125;;<span class="hljs-keyword">const</span> Headline = <span class="hljs-function">(<span class="hljs-params">&#123;headline&#125;</span>) =&gt;</span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;headline&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-keyword">const</span> Input = <span class="hljs-function">(<span class="hljs-params">&#123;value,onChangeInput, children&#125;</span>) =&gt;</span>(    &lt;label&gt;    &#123;children&#125;    &lt;input type=<span class="hljs-string">&#x27;text&#x27;</span> value=&#123;value&#125; onChange = &#123;onChangeInput&#125; /&gt;    &lt;/label&gt;)<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><h4 id="å…«ã€è®¾ç½®propsçš„é»˜è®¤å€¼"><a href="#å…«ã€è®¾ç½®propsçš„é»˜è®¤å€¼" class="headerlink" title="å…«ã€è®¾ç½®propsçš„é»˜è®¤å€¼"></a>å…«ã€è®¾ç½®propsçš„é»˜è®¤å€¼</h4><p>å½“çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’propsçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­ç»„ä»¶ä¸­ä¸ºè¿™äº›propsè®¾ç½®é»˜è®¤å€¼ï¼ˆdefault valueï¼‰å»overrideä¼ é€’çš„å€¼ã€‚äº¦å³ï¼Œå½“çˆ¶ç»„ä»¶ä¼ é€’çš„propsä¸ä¸ºç©ºæ—¶ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨ä¼ é€’è¿‡æ¥çš„ï¼Œå¦åˆ™æˆ‘ä»¬å°±ä½¿ç”¨å­ç»„ä»¶çš„é»˜è®¤å€¼ã€‚</p><p>ç»™å­ç»„ä»¶çš„propsè®¾ç½®é»˜è®¤å€¼,æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š</p><pre><code class="hljs js"><span class="hljs-comment">//ç¬¬ä¸€ç§ï¼š</span><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-keyword">const</span> sayHello = <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;hello&#x27;</span>);    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">handleClick</span>=<span class="hljs-string">&#123;sayHello&#125;</span> /&gt;</span></span>&#125;;<span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">&#123;handleClick&#125;</span>) =&gt;</span>&#123;    <span class="hljs-keyword">const</span> sayDefault = <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;default&#x27;</span>);    <span class="hljs-keyword">const</span> onClick = handleClick || sayDefault;    <span class="hljs-keyword">return</span> (        &lt;button type=<span class="hljs-string">&#x27;button&#x27;</span> onClick=&#123;onClick&#125;&gt;            Button        &lt;/button&gt;    )&#125;;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å­ç»„ä»¶çš„å‡½æ•°ç­¾åï¼ˆå°æ‹¬å·å†…ï¼‰ä¸ºpropsè®¾ç½®é»˜è®¤å€¼ï¼š</p><pre><code class="hljs js"><span class="hljs-comment">//ç¬¬äºŒç§ï¼š</span><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> &#123;    <span class="hljs-keyword">const</span> sayHello = <span class="hljs-function">() =&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Hello&#x27;</span>);    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">handleClick</span> = <span class="hljs-string">&#123;sayHello&#125;</span> /&gt;</span></span>&#125;;<span class="hljs-keyword">const</span> Button = (&#123;handleClick = <span class="hljs-function">()=&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;default&#x27;</span>)&#125;) =&gt; (    &lt;button onClick=&#123;handleClick&#125;&gt;        Button    &lt;/button&gt;)<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>æœ€åä¸€ç§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¸ºå‡½æ•°ç»„ä»¶å¢åŠ defaultPropså±æ€§çš„æ–¹å¼æ¥è®¾ç½®é»˜è®¤å€¼ï¼š</p><pre><code class="hljs js"><span class="hljs-comment">//ç¬¬ä¸‰ç§ï¼š</span><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> &#123;  <span class="hljs-keyword">const</span> sayHello = <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Hello&#x27;</span>);   <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">handleClick</span>=<span class="hljs-string">&#123;sayHello&#125;</span> /&gt;</span></span>;&#125;; <span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">&#123;handleClick&#125;</span>) =&gt;</span>(    &lt;button onClick=&#123;handleClick&#125;&gt;        Button    &lt;/button&gt;);Button.defaultProps = &#123;    handleClick: <span class="hljs-function">()=&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;default&#x27;</span>);&#125;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><h4 id="ä¹ã€Reactç»„ä»¶ä¸­çš„å¼‚æ­¥å‡½æ•°"><a href="#ä¹ã€Reactç»„ä»¶ä¸­çš„å¼‚æ­¥å‡½æ•°" class="headerlink" title="ä¹ã€Reactç»„ä»¶ä¸­çš„å¼‚æ­¥å‡½æ•°"></a>ä¹ã€Reactç»„ä»¶ä¸­çš„å¼‚æ­¥å‡½æ•°</h4><p>è®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªå¼‚æ­¥å‡½æ•°çš„ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-comment">//é€šè¿‡setTimeoutå®ç°ä¸€ä¸ªå¼‚æ­¥å»¶è¿Ÿæ‰§è¡Œ</span>    <span class="hljs-keyword">const</span> sayHello = <span class="hljs-function">() =&gt;</span>        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;hello&#x27;</span>),<span class="hljs-number">1000</span>);    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">handleClick</span> = <span class="hljs-string">&#123;sayHello&#125;</span> /&gt;</span></span>&#125;;<span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">&#123;handleClick&#125;</span>) =&gt;</span>(    &lt;button onClick=&#123;handleClick&#125;&gt;        Button    &lt;/button&gt;)<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;<span class="hljs-string">``</span><span class="hljs-string">` </span><span class="hljs-string"></span><span class="hljs-string">ä¸‹é¢å†çœ‹ä¸€ä¸ªä¾‹å­ï¼Œé€šè¿‡ä½¿ç”¨setTimeouté€ æˆå»¶è¿Ÿæ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•æ›´æ–°stateã€‚</span><span class="hljs-string"></span><span class="hljs-string">`</span><span class="hljs-string">``</span>js<span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> &#123;    <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">() =&gt;</span>            <span class="hljs-built_in">setTimeout</span>(                <span class="hljs-comment">//è¿™é‡Œå¾ˆå®¹æ˜“å†™æˆsetCount(count+1),é”™ï¼</span>                ()=&gt;setCount(<span class="hljs-function"><span class="hljs-params">count</span>=&gt;</span>count+<span class="hljs-number">1</span>),                <span class="hljs-number">1000</span>            );        <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">() =&gt;</span>            <span class="hljs-built_in">setTimeout</span>(                <span class="hljs-comment">//è¿™é‡Œå¾ˆå®¹æ˜“å†™æˆsetCount(count-1),é”™ï¼</span>                ()=&gt;setCount(<span class="hljs-function"><span class="hljs-params">count</span>=&gt;</span>count-<span class="hljs-number">1</span>),                <span class="hljs-number">1000</span>            );    <span class="hljs-keyword">return</span> (        &lt;div&gt;            &lt;h1&gt;&#123;count&#125;&lt;/h1&gt;            &lt;Button handleClick=&#123;handleIncrement&#125;&gt;å¢åŠ <span class="hljs-number">1</span>&lt;/Button&gt;            &lt;Button handleClick=&#123;handleDecrement&#125;&gt;å‡å°‘<span class="hljs-number">1</span>&lt;/Button&gt;        &lt;/div&gt;    );    <span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">&#123;handleClick,children&#125;</span>) =&gt;</span>(        &lt;button onClick=&#123;handleClick&#125;&gt;&#123;children&#125;&lt;/button&gt;    );<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>æ³¨æ„è§‚å¯Ÿä¸Šè¿°ä»£ç æ˜¯å¦‚ä½•æ›´æ–°å½“å‰çš„countå€¼çš„ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨setCount çŠ¶æ€å‡½æ•°æ¥æ›´æ–°stateã€‚ç”±äºæ¥æºäºuseStateçš„setter function æœ¬è´¨ä¸Šæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå› æ­¤å¿…é¡»ç¡®ä¿æ˜¯å¯¹å½“å‰çŠ¶æ€è€Œä¸æ˜¯ä»»ä½•è¿‡æ—¶çŠ¶æ€æ‰§è¡Œæ›´æ–°ã€‚</p><p>äº†è§£æ›´å¤šï¼Œå¯å‚è€ƒ<a href="https://www.robinwieruch.de/react-hooks-fetch-data"> how to fetch data with Function Components with React Hooks.</a></p><h4 id="åã€å‡½æ•°ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå®ç°â€”â€”LifeCyrcle"><a href="#åã€å‡½æ•°ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå®ç°â€”â€”LifeCyrcle" class="headerlink" title="åã€å‡½æ•°ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå®ç°â€”â€”LifeCyrcle"></a>åã€å‡½æ•°ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå®ç°â€”â€”LifeCyrcle</h4><p>å¦‚æœä½ ä¹‹å‰ä½¿ç”¨è¿‡ç±»ç»„ä»¶ï¼Œä¸€å®šç”¨è¿‡componentDidMoutã€componentWillUnmountã€shouldComponentUpdateç­‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚ä½†æ˜¯åœ¨å‡½æ•°ç»„ä»¶ä¸­æ²¡æœ‰è¿™äº›æ–¹æ³•ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å®ç°å®ƒä»¬ã€‚</p><p>é¦–å…ˆï¼Œåœ¨å‡½æ•°ç»„ä»¶ä¸­æ²¡æœ‰constructorã€‚åœ¨ç±»ç»„ä»¶ä¸­ï¼Œconstructoré€šå¸¸è¢«ç”¨æ¥è®¾ç½®initial stateã€‚ä½†æ˜¯åœ¨å‡½æ•°ç»„ä»¶ä¸­æˆ‘ä»¬ä½¿ç”¨useState hookå°±å¯ä»¥è®¾ç½®initial stateï¼Œå¹¶ä¸”å¯ä»¥åŒæ—¶å¾—åˆ°ä¸€ä¸ªsetter function ç”¨äºä¹‹åçš„ä¸šåŠ¡é€»è¾‘ã€‚<br><img src="https://pic.downk.cc/item/5fd185883ffa7d37b3e1c35a.jpg"></p><p><strong>1.Funcitonal Component:  Mount</strong></p><p>reactç»„ä»¶åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€ä¸ªmountingçš„é˜¶æ®µã€‚å¦‚æœä½ æƒ³åœ¨å‡½æ•°å¼ç»„ä»¶é‡Œï¼Œå½“ç»„ä»¶<strong>did mount</strong>çš„æ—¶å€™æ‰§è¡Œä¸€äº›é€»è¾‘ï¼Œå¯ä»¥ä½¿ç”¨<strong>useEffect</strong> hook:</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React ,&#123; useState, useEffect&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">() =&gt;</span>        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currntCount+<span class="hljs-number">1</span>);        <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">() =&gt;</span>        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currntCount-<span class="hljs-number">1</span>);    useEffect(<span class="hljs-function">()=&gt;</span>setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount + <span class="hljs-number">1</span>),[]);    <span class="hljs-keyword">return</span> (        &lt;div&gt;            &lt;h1&gt;&#123;count&#125;&lt;/h1&gt;            &lt;button onClick=&#123;handleIncrement&#125;&gt;Increment&lt;/button&gt;            &lt;button onClick=&#123;handleDecrement&#125;&gt;Decrement&lt;/button&gt;        &lt;/div&gt;    )&#125;;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>å½“æˆ‘ä»¬è¿è¡Œè¿™æ®µä»£ç çš„æ—¶å€™ï¼Œè¿™ä¸ªç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ä¼šæ˜¾ç¤ºcountçš„åˆå§‹çŠ¶æ€å€¼0ï¼Œç„¶åå½“component did mountåï¼ŒEffect hook ä¼šå°†countè®¾ç½®ä¸º1ã€‚</p><p>ğŸ–ï¼šEffect hookä¸­çš„ç¬¬äºŒä¸ªå‚æ•°ï¼ˆ1ä¸ªç©ºæ•°ç»„ï¼‰æ˜¯éå¸¸é‡è¦çš„ï¼Œå®ƒç¡®ä¿äº†åªæœ‰åœ¨è¿™ä¸ªç»„ä»¶åŠ è½½ï¼ˆmount)æˆ–è€…ç»„ä»¶å¸è½½ï¼ˆunmount)æ—¶æ‰è§¦å‘äº‹ä»¶ã€‚å¦‚æœä¸å°å¿ƒæ¼æ‰äº†è¿™ä¸ªç©ºæ•°ç»„ï¼Œæˆ‘ä»¬ä¼šé™·å…¥countä¸æ–­åŠ 1çš„æ­»å¾ªç¯ï¼Œå› ä¸ºå½“stateæ›´æ–°äº†Effect hookæ€»æ˜¯ä¼šæ‰§è¡Œã€‚ç„¶åEffectæ‰§è¡Œåˆä¼šè§¦å‘stateæ›´æ–°ï¼Œè¿™æ ·å°±ä¼šä¸åœåœ°å¯¹count+1<br><font color=green>todo: è¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨ç©ºæ•°ç»„è€Œä¸æ˜¯åˆ«çš„å‘¢ï¼Ÿï¼Ÿ</font></p><p><strong>2.Funcitonal Component:  Update</strong></p><p>æ¯æ¬¡å½“å…¥å‚propsæˆ–è€…æ˜¯ç»„ä»¶æœ¬èº«çš„stateå˜åŒ–æ—¶ï¼Œreactç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“ä»¥å±•ç¤ºæœ€æ–°çš„status(from props and state)ã€‚åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œä¸€æ¬¡renderä¼šæ‰§è¡Œå‡½æ•°ä½“çš„æ‰€æœ‰å†…å®¹ã€‚</p><p>å¦‚æœå‡½æ•°ç»„ä»¶æ²¡æœ‰æ­£ç¡®åœ°æŒ‰ç…§é¢„æœŸæ›´æ–°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨console.logæ§åˆ¶å°è¾“å‡ºstateå’Œpropsçš„å€¼æ¥debugã€‚å¦‚æœè¿™ä¸¤è€…çš„å€¼éƒ½æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¸ä¼šæœ‰æ–°çš„renderæ‰§è¡Œã€‚<br><img src="https://pic.downk.cc/item/5fd1ca843ffa7d37b32b3cee.jpg"></p><p>å¦‚æœæˆ‘ä»¬æƒ³å¯¹ç»„ä»¶é‡æ–°æ¸²æŸ“è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å†ä¸€æ¬¡ä½¿ç”¨ Effect Hook (åœ¨ç»„ä»¶did updateä¹‹å)ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123;useEffect, useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;    <span class="hljs-comment">//countçš„åˆå§‹å€¼æ¥æºäºæœ¬åœ°å­˜å‚¨ä¸­çš„å€¼æˆ–0</span>    <span class="hljs-keyword">const</span> initialCount = +<span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&#x27;storageCount&#x27;</span>)||<span class="hljs-number">0</span>;    <span class="hljs-keyword">const</span> [count,setCount]=useState(initialCount);    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">() =&gt;</span>        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount + <span class="hljs-number">1</span>);     <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">() =&gt;</span>        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount - <span class="hljs-number">1</span>);    <span class="hljs-comment">//æ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œcountéƒ½ä¼šè¢«å­˜å…¥æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨</span>    useEffect(<span class="hljs-function">()=&gt;</span><span class="hljs-built_in">localStorage</span>.setItem(<span class="hljs-string">&#x27;storageCount&#x27;</span>,count));    <span class="hljs-keyword">return</span> (        &lt;div&gt;            &lt;h1&gt;&#123;count&#125;&lt;/h1&gt;            &lt;button onClick=&#123;handleIncrement&#125;&gt;+<span class="hljs-number">1</span>&lt;/button&gt;            &lt;button onClick=&#123;handleDecrement&#125;&gt;-<span class="hljs-number">1</span>&lt;/button&gt;        &lt;/div&gt;    )&#125;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>ä½ è¿˜å¯ä»¥é€šè¿‡ç»™Effect Hook ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°ï¼ˆæ˜¯ä¸ªæ•°ç»„ï¼‰çš„æ–¹å¼ï¼Œæ¥æ§åˆ¶å®ƒä»€ä¹ˆæ—¶å€™è¿è¡Œã€‚æ¯å½“ç¬¬äºŒä¸ªå‚æ•°ä¸­çš„å˜é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒEffect Hookå°±ä¼šrunã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œåªæœ‰å½“countå‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰å°†å…¶å­˜å…¥localStorage:<br><img src="https://pic.downk.cc/item/5fd1cdb33ffa7d37b32ef914.jpg"></p><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æ€»ç»“ï¼ŒEffect Hookå‡½æ•°ä¸­ç¬¬äºŒä¸ªå‚æ•°å€¼çš„ç”¨æ³•ï¼šï¼ˆé€šè¿‡ç¬¬äºŒä¸ªå‚æ•°å€¼æ¥æ§åˆ¶å®ƒä½•æ—¶run)</p><ul><li>every time(no argumentï¼Œä¸ä¼ ç¬¬äºŒä¸ªå‚æ•°)</li><li>only on mount or unmount ([]argument, ç©ºæ•°ç»„)</li><li>only when a certain variable changes(ä¾‹å¦‚[count]ï¼Œæ•°ç»„ä¸­æ”¾å…¥æŒ‡å®šå˜é‡)</li></ul><p>ğŸ–ï¼šforceUpdate APIå¯ä»¥å¼ºåˆ¶è®©ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯æˆ‘ä»¬åº”è¯¥è°¨æ…ä½¿ç”¨ ï¼Œå‚è€ƒ<a href="https://zh-hans.reactjs.org/docs/react-component.html#forceupdate">forceUpdate</a>ä»¥åŠ <a href="https://reactjs.org/docs/hooks-faq.html#is-there-something-like-forceupdate">Is there something like forceUpdate</a></p><h4 id="åä¸€ã€çº¯å‡½æ•°ç»„ä»¶â€”â€”Pure-React-Funtion-Component"><a href="#åä¸€ã€çº¯å‡½æ•°ç»„ä»¶â€”â€”Pure-React-Funtion-Component" class="headerlink" title="åä¸€ã€çº¯å‡½æ•°ç»„ä»¶â€”â€”Pure React Funtion Component"></a>åä¸€ã€çº¯å‡½æ•°ç»„ä»¶â€”â€”Pure React Funtion Component</h4><p>ç±»ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨PureComponent æˆ–è€… shouldComponentUpdate æ¥é¿å…é‡æ–°æ¸²æŸ“å¯¼è‡´çš„æ€§èƒ½ç“¶é¢ˆã€<a href="https://www.robinwieruch.de/react-prevent-rerender-component">avoid performance bottlenecks in React by preventing rereders</a>ã€‘ã€‚è®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App =<span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">const</span> [greeting,setGreeting]=useState(<span class="hljs-string">&#x27;hello react&#x27;</span>);    <span class="hljs-keyword">const</span>[count,setCount]=useState(<span class="hljs-number">0</span>);    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">()=&gt;</span>        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span>=&gt;</span>currentCount+<span class="hljs-number">1</span>);    <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">()=&gt;</span>        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span>=&gt;</span>currentCount-<span class="hljs-number">1</span>);        <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setGreeting(event.target.value);    <span class="hljs-keyword">return</span> (        &lt;div&gt;            &lt;input onChange=&#123;handleChange&#125; /&gt;            &lt;Count count=&#123;count&#125; /&gt;            &lt;button onClick=&#123;handleIncrement&#125;&gt;Increment&lt;/button&gt;            &lt;button onClick=&#123;handleDecrement&#125;&gt;Decrement&lt;/button&gt;        &lt;/div&gt;    )&#125;;<span class="hljs-keyword">const</span> Count=<span class="hljs-function">(<span class="hljs-params">&#123;count&#125;</span>)=&gt;</span>&#123;    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Does it (re)render?&#x27;</span>);    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>&#125;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯å½“æˆ‘ä»¬å‘inputè¾“å…¥æ¡†è¾“å…¥å†…å®¹æ—¶ï¼Œè¿™ä¸ªAppç»„ä»¶å°±ä¼šæ›´æ–°å®ƒçš„staterç„¶åé‡æ–°æ¸²æŸ“ã€‚ä¸æ­¤åŒæ—¶ï¼ŒCountç»„ä»¶ä¹Ÿä¼šé‡æ–°æ¸²æŸ“ï¼ˆåœ¨æ§åˆ¶å°ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ¯æ¬¡æˆ‘ä»¬åœ¨è¾“å…¥æ¡†é‡Œæ“ä½œï¼Œå°±ä¼šæ‰“å°â€œDoes it (re)render?â€è¿™å¥ï¼‰ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œreactå‡½æ•°ç»„ä»¶ä½¿ç”¨React Memoã€<a href="https://reactjs.org/docs/react-api.html">Reactâ€™s top level APIs</a>ã€‘æ¥é˜»æ­¢å½“propsæ²¡æœ‰å˜åŒ–æ—¶çš„é‡æ–°æ¸²æŸ“ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React,&#123;useState, memo&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> APP=<span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">const</span> [greeting,setGreeting] = useState(<span class="hljs-string">&#x27;hello react&#x27;</span>);    <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">() =&gt;</span>        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount + <span class="hljs-number">1</span>);     <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">() =&gt;</span>        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount - <span class="hljs-number">1</span>);   <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setGreeting(event.target.value);   <span class="hljs-keyword">return</span> (    &lt;div&gt;      &lt;input type=<span class="hljs-string">&quot;text&quot;</span> onChange=&#123;handleChange&#125; /&gt;       &lt;Count count=&#123;count&#125; /&gt;       &lt;button type=<span class="hljs-string">&quot;button&quot;</span> onClick=&#123;handleIncrement&#125;&gt;        Increment      &lt;/button&gt;      &lt;button type=<span class="hljs-string">&quot;button&quot;</span> onClick=&#123;handleDecrement&#125;&gt;        Decrement      &lt;/button&gt;    &lt;/div&gt;  );&#125;<span class="hljs-comment">//memoæ—¶æŠŠæ•´ä¸ªç®­å¤´å‡½æ•°çš„å†…å®¹åŒ…è£¹èµ·æ¥</span><span class="hljs-keyword">const</span> Count = memo(<span class="hljs-function">(<span class="hljs-params">&#123;count&#125;</span>) =&gt;</span> &#123;    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;does it (re)render?&#x27;</span>);    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>&#125;);<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>ç°åœ¨æˆ‘ä»¬å†æ¥è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œå½“æˆ‘ä»¬å‘inputè¾“å…¥æ¡†è¾“å…¥å†…å®¹æ—¶ï¼Œåªæœ‰Appç»„ä»¶ä¼šrerender, Countç»„ä»¶ä¸å†rerenderäº†ï¼å½“ç„¶ï¼Œè¿™ç§æ€§èƒ½ä¼˜åŒ–ä¸åº”è¯¥ä½œä¸ºé»˜è®¤è®¾ç½®ã€‚å½“é‡æ–°æ¸²æŸ“ç»„ä»¶æ—¶é—´è¿‡é•¿é‡åˆ°é—®é¢˜æ—¶å¯ä»¥è¿›è¡Œç±»ä¼¼çš„æ£€æŸ¥ã€‚ï¼ˆæ¯”å¦‚ï¼Œrenderingå’Œupdating Tableç»„ä»¶ä¸­çš„å¤§é‡å†…å®¹ï¼‰</p><h4 id="åäºŒã€React-Function-Component-Ref"><a href="#åäºŒã€React-Function-Component-Ref" class="headerlink" title="åäºŒã€React Function Component: Ref"></a>åäºŒã€React Function Component: Ref</h4><p>refsä¸€èˆ¬åªåœ¨å°‘æ•°åœºæ™¯ä¸‹ä½¿ç”¨ï¼š</p><ul><li>ç®¡ç†ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©æˆ–è€…æ—¶åª’ä½“æ’­æ”¾</li><li>è§¦å‘å¼ºåˆ¶åŠ¨ç”»</li><li>é›†æˆç¬¬ä¸‰æ–¹DOMåº“</li></ul><p>åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ä½¿ç”¨refsï¼Œè¦å¼•å…¥useRefã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œinputè¾“å…¥æ¡†å°†è·å¾—ç„¦ç‚¹ï¼ˆafter component did mount)</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> React,&#123;useState, useEffect, useRef&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-keyword">const</span> App=<span class="hljs-function">()=&gt;</span>&#123;    <span class="hljs-keyword">const</span> [greeting, setGreeting] = useState(<span class="hljs-string">&#x27;hello Reactï¼&#x27;</span>);    <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span>setGreeting(event.target.value);    <span class="hljs-keyword">return</span>(        &lt;div&gt;            &lt;h1&gt;&#123;greeting&#125;&lt;/h1&gt;            &lt;Input value=&#123;greeting&#125; handleChange=&#123;handleChange&#125; /&gt;        &lt;/div&gt;    )&#125;;<span class="hljs-keyword">const</span> Input=<span class="hljs-function">(<span class="hljs-params">&#123;value,handleChange&#125;</span>)=&gt;</span>&#123;    <span class="hljs-keyword">const</span> ref=useRef();    useEffect(<span class="hljs-function">()=&gt;</span>ref.current.focus(),[]);    <span class="hljs-keyword">return</span> (        &lt;input             type=<span class="hljs-string">&#x27;text&#x27;</span>             value=&#123;value&#125;             onChange=&#123;handleChange&#125;             ref=&#123;ref&#125;        /&gt;    )&#125;;<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><p>ä½†æ˜¯ä¸èƒ½ç»™ä¸€ä¸ªå‡½æ•°ç»„ä»¶æä¾›ä¸€ä¸ªrefä½œä¸ºpropsçš„ä¸€éƒ¨åˆ†ï¼The ref will be assigned to the component but not to the actual DOM node!<br><img src="https://pic.downk.cc/item/5fd1e2873ffa7d37b34ab442.jpg"></p><p>è¿™æ ·å†™ä¼šæŠ¥é”™ï¼å› ä¸ºrefæŒ‡ä»£çš„ä¸æ˜¯ä¸€ä¸ªçœŸå®çš„domèŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¸€ä¸ªç»„ä»¶å®ä¾‹ã€‚</p><p><img src="https://pic.downk.cc/item/5fd1e2e03ffa7d37b34b4e87.jpg"></p><p>ä»ä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å¹¶ä¸æ¨èçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªrefï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¯´â€React function component canâ€™t have  refsâ€ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬ä¸å¾—ä¸å‘ä¸€ä¸ªå‡½æ•°ç»„ä»¶ä¼ é€’ä¸€ä¸ªref(ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³æµ‹é‡ä¸€ä¸ªå‡½æ•°ç»„ä»¶DOMèŠ‚ç‚¹çš„æ•°é‡)ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥<a href="https://reactjs.org/docs/forwarding-refs.html">forward the ref</a></p><p><img src="https://pic.downk.cc/item/5fd1e4643ffa7d37b3519759.jpg" alt="forwardRef"></p><p>æƒ³çŸ¥é“æ›´å¤šå…³äºrefçš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒ<a href="https://www.robinwieruch.de/react-ref-attribute-dom-node">How to use Ref in React</a> ä»¥åŠ <a href="https://reactjs.org/docs/refs-and-the-dom.html">React å®˜æ–¹æ–‡æ¡£â€”â€”Refs and the DOM</a></p><p>å…¨æ–‡å‚è€ƒï¼š<a href="https://www.robinwieruch.de/react-function-component">React Function Components</a></p>]]></content>
    
    
    <categories>
      
      <category>Reactå­¦ä¹ </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>JS01-ç†è§£JavaScriptå‡½æ•°è°ƒç”¨å’Œthis</title>
    <link href="/2020/12/08/JS01-%E7%90%86%E8%A7%A3JavaScript%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%92%8Cthis/"/>
    <url>/2020/12/08/JS01-%E7%90%86%E8%A7%A3JavaScript%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%92%8Cthis/</url>
    
    <content type="html"><![CDATA[<h4 id="ç†è§£JavaScriptå‡½æ•°è°ƒç”¨ä¸thisçš„è¯­ä¹‰"><a href="#ç†è§£JavaScriptå‡½æ•°è°ƒç”¨ä¸thisçš„è¯­ä¹‰" class="headerlink" title="ç†è§£JavaScriptå‡½æ•°è°ƒç”¨ä¸thisçš„è¯­ä¹‰"></a>ç†è§£JavaScriptå‡½æ•°è°ƒç”¨ä¸thisçš„è¯­ä¹‰</h4><p>&emsp;æˆ‘ä»¬ç»å¸¸å¯¹JSçš„å‡½æ•°è°ƒç”¨ï¼Œä»¥åŠthisåœ¨å‡½æ•°è°ƒç”¨ä¸­çš„æŒ‡ä»£æœ‰å¾ˆå¤šçš„å›°æƒ‘ã€‚é€šè¿‡ç†è§£æ ¸å¿ƒå‡½æ•°è°ƒç”¨çš„åŸè¯­å¯èƒ½ä¼šæœ‰åŠ©äºæ¶ˆé™¤å¾ˆå¤šæ­¤ç±»çš„ç–‘æƒ‘ï¼Œä¹Ÿå¯ä»¥æŠŠå…¶ä»–å‡½æ•°è°ƒç”¨æ–¹å¼çœ‹æˆæ˜¯æœ€åŸå§‹å‡½æ•°è°ƒç”¨çš„è¯­æ³•ç³–ã€‚The basic idea is the same.</p><h5 id="ä¸€ã€-The-Core-Primitive-æ ¸å¿ƒåŸè¯­ï¼š"><a href="#ä¸€ã€-The-Core-Primitive-æ ¸å¿ƒåŸè¯­ï¼š" class="headerlink" title="ä¸€ã€ The Core Primitive æ ¸å¿ƒåŸè¯­ï¼š"></a>ä¸€ã€ The Core Primitive æ ¸å¿ƒåŸè¯­ï¼š</h5><p>First, letâ€™s look at the core function invocation primitive, a Functionâ€™s call method[1]. The call method is relatively straight forward.</p><ol><li>Make an argument list (<strong>argList</strong>) out of parameters 1 through the end</li><li>The first parameter is <strong>thisValue</strong></li><li>Invoke the function with <strong>this</strong> set to <strong>thisValue</strong> and the <strong>argList</strong> as its argument list<br>ä¾‹å­ï¼š<pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params">thing</span>)</span>&#123;    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span> + <span class="hljs-string">&#x27;say hello&#x27;</span> + thing);&#125;hello.call(<span class="hljs-string">&#x27;Yehuda&#x27;</span>,<span class="hljs-string">&#x27;world&#x27;</span>);<span class="hljs-comment">//Yehuda says hello world</span></code></pre></li></ol><p>As you can see, we invoked the <strong>hello</strong> method with this set to â€œYehudaâ€ and a single argument â€œworldâ€. This is the core primitive of JavaScript function invocation. You can think of all other function calls as desugaring to this primitive. (to â€œdesugarâ€ is to take a convenient syntax and describe it in terms of a more basic core primitive).</p><h5 id="äºŒã€ç®€å•å‡½æ•°è°ƒç”¨"><a href="#äºŒã€ç®€å•å‡½æ•°è°ƒç”¨" class="headerlink" title="äºŒã€ç®€å•å‡½æ•°è°ƒç”¨"></a>äºŒã€ç®€å•å‡½æ•°è°ƒç”¨</h5><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params">thing</span>)</span>&#123;    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Hello&#x27;</span> + thing);&#125;<span class="hljs-comment">//ç®€å•å‡½æ•°è°ƒç”¨</span>hello(<span class="hljs-string">&#x27;world&#x27;</span>);<span class="hljs-comment">//desugars to:</span>hello.call(<span class="hljs-built_in">window</span>, <span class="hljs-string">&#x27;world&#x27;</span>)<span class="hljs-comment">//åœ¨ES5çš„ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œdesugars to:</span>hello.call(<span class="hljs-literal">undefined</span>, <span class="hljs-string">&#x27;world&#x27;</span>)</code></pre><p>åœ¨å†…è”å£°æ˜çš„å‡½æ•°ä¸­ï¼Œä¹Ÿæœ‰ç›¸åŒçš„â€œè§£ç³–â€ï¼š<br>(function() {})()  = (function() {}).call(windowæˆ–undefined)</p><h5 id="ä¸‰ã€æˆå‘˜å‡½æ•°"><a href="#ä¸‰ã€æˆå‘˜å‡½æ•°" class="headerlink" title="ä¸‰ã€æˆå‘˜å‡½æ•°"></a>ä¸‰ã€æˆå‘˜å‡½æ•°</h5><pre><code class="hljs js"><span class="hljs-keyword">var</span> person = &#123;    name: <span class="hljs-string">&#x27;Eich&#x27;</span>,    hello: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">thing</span>)</span>&#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span> + <span class="hljs-string">&#x27;say hello&#x27;</span> + thing)    &#125;&#125;<span class="hljs-comment">//æˆå‘˜å‡½æ•°è°ƒç”¨</span>person.hello(<span class="hljs-string">&#x27;world&#x27;</span>);<span class="hljs-comment">//desugars to:</span>person.hello.call(person,<span class="hljs-string">&#x27;world&#x27;</span>)</code></pre><p>å¦‚æœä¸ºä¸€ä¸ªå¯¹è±¡åŠ¨æ€çš„æ·»åŠ æˆå‘˜å‡½æ•°ï¼Œä¹Ÿæœ‰ç›¸åŒçš„â€œè§£ç³–â€ï¼š</p><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params">thing</span>)</span>&#123;    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span> + <span class="hljs-string">&#x27;say hello&#x27;</span> + thing);&#125;person = &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Eich&#x27;</span>&#125;;person.hello = hello;person.hello(<span class="hljs-string">&#x27;world&#x27;</span>);<span class="hljs-comment">//still desugars to :</span><span class="hljs-comment">//person.hello.call(person,&#x27;world&#x27;)</span>hello(<span class="hljs-string">&#x27;world&#x27;</span>);<span class="hljs-comment">//&quot;[object DOMwindow] say hello world&quot;</span></code></pre><p>ğŸ–ï¼šNotice that the function doesnâ€™t have a persistent notion of its â€˜thisâ€™. It is always set at call time based upon the way it was invoked by its caller.</p><h5 id="å››ã€ä½¿ç”¨å‡½æ•°åŸå‹ç»‘å®š-Function-prototype-bind"><a href="#å››ã€ä½¿ç”¨å‡½æ•°åŸå‹ç»‘å®š-Function-prototype-bind" class="headerlink" title="å››ã€ä½¿ç”¨å‡½æ•°åŸå‹ç»‘å®š Function.prototype.bind"></a>å››ã€ä½¿ç”¨å‡½æ•°åŸå‹ç»‘å®š Function.prototype.bind</h5><p>&emsp;å› ä¸ºæœ‰æ—¶ä½¿ç”¨æŒä¹…åŒ–thiså€¼å¼•ç”¨å‡½æ•°å¯èƒ½ä¼šå¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥äººä»¬ä¸€ç›´ä»¥æ¥éƒ½ä½¿ç”¨ç®€å•çš„é—­åŒ…æŠ€å·§å°†å‡½æ•°è½¬æ¢æˆä¸å˜çš„thiså€¼ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">var</span> person = &#123;    name: <span class="hljs-string">&#x27;Eich&#x27;</span>,    hello: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-built_in">this</span></span>)</span>&#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name + <span class="hljs-string">&#x27;says hello&#x27;</span> +thing);    &#125;&#125;<span class="hljs-keyword">var</span> boundHello = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">thing</span>)</span>&#123;    <span class="hljs-comment">//ä½¿ç”¨åŸå§‹çš„callæ–¹æ³•æŠŠthisè½¬æ¢ä¸ºæˆ‘ä»¬æƒ³è¦å®ƒæŒ‡ä»£çš„å€¼</span>    <span class="hljs-keyword">return</span> person.hello.call(person,thing)&#125;boundHello(<span class="hljs-string">&#x27;world&#x27;</span>);<span class="hljs-comment">//desugars to: boundHello.call(window, &#x27;world&#x27;)</span></code></pre><p>æˆ‘ä»¬è¿˜å¯ä»¥è¿›ä¸€æ­¥æ”¹è¿›ï¼Œè®©ä¸Šé¢çš„å†™æ³•æ›´åŠ é€šç”¨ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">var</span> bind = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">func,thisValue</span>)</span>&#123;    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> func.apply(thisValue, <span class="hljs-built_in">arguments</span>);    &#125;&#125;<span class="hljs-keyword">var</span> boundHello = bind(person.hello, person);boundHello(<span class="hljs-string">&#x27;world&#x27;</span>)<span class="hljs-comment">//&#x27;Eich says hello world&#x27;</span></code></pre><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œargumentsæ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œä»£è¡¨æ‰€æœ‰è¢«ä¼ å…¥å‡½æ•°çš„å‚æ•°å€¼ã€‚apply() æ–¹æ³•è·Ÿcallç±»ä¼¼ï¼Œé™¤äº†å®ƒæ¥æ”¶çš„æ˜¯ç±»æ•°ç»„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè€Œcallæ¥æ”¶çš„æ˜¯ä¸€ä¸ªä¸€ä¸ªå‚æ•°ç»„æˆçš„åˆ—è¡¨ call(thisArg, arg1,arg2,â€¦)ã€‚<br>å¯¹ä¸Šè¿°ä»£ç çš„è§£é‡Šï¼šOur <strong>bind</strong> method simply returns a new function. When it is invoked, our new function simply invokes the original function that was passed in, setting the original value as <strong>this</strong>. It also passes through the arguments.</p><p>å‚è€ƒæ–‡ç« ï¼š <a href="https://yehudakatz.com/2011/08/11/understanding-javascript-function-invocation-and-this/">Understanding JavaScript Function Invocation and â€œthisâ€</a></p>]]></content>
    
    
    <categories>
      
      <category>JSå­¦ä¹ </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•03-å¦‚ä½•é¿å…ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘ï¼Ÿ</title>
    <link href="/2020/12/07/%E9%9D%A2%E8%AF%9503-%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%AD%E7%9A%84%E5%9D%91%EF%BC%9F/"/>
    <url>/2020/12/07/%E9%9D%A2%E8%AF%9503-%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%AD%E7%9A%84%E5%9D%91%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h4 id="é¢è¯•åœºæ™¯3ï¼šå¦‚ä½•é¿å…ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘ï¼Ÿï¼ˆç»éªŒé¢˜ï¼‰"><a href="#é¢è¯•åœºæ™¯3ï¼šå¦‚ä½•é¿å…ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘ï¼Ÿï¼ˆç»éªŒé¢˜ï¼‰" class="headerlink" title="é¢è¯•åœºæ™¯3ï¼šå¦‚ä½•é¿å…ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘ï¼Ÿï¼ˆç»éªŒé¢˜ï¼‰"></a>é¢è¯•åœºæ™¯3ï¼šå¦‚ä½•é¿å…ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘ï¼Ÿï¼ˆç»éªŒé¢˜ï¼‰</h4><p>å¦‚ä½•é¿å…å‘ï¼Ÿæ¢ç§æ€ç»´ä¹Ÿå°±æ˜¯â€ä¸ºä»€ä¹ˆä¼šæœ‰å‘?â€,åœ¨ä»£ç ç¼–å†™ä¸­ï¼Œé‡åˆ°çš„å‘é€šå¸¸æœ‰ä¸¤ç§ï¼š</p><ul><li>1.åœ¨ä¸æ°å½“çš„æ—¶æœºè°ƒç”¨äº†ä¸åˆé€‚çš„ä»£ç </li><li>2.åœ¨éœ€è¦è°ƒç”¨æ—¶ï¼Œå´å¿˜äº†è°ƒç”¨</li></ul><p>é‚£ä¹ˆé’ˆå¯¹ç”Ÿå‘½å‘¨æœŸçš„å‘ï¼Œå¯ä»¥é€šè¿‡æ¢³ç†ç”Ÿå‘½å‘¨æœŸï¼Œæ˜ç¡®å‘¨æœŸå‡½æ•°èŒè´£ï¼Œç¡®è®¤ä»€ä¹ˆæ—¶å€™è¯¥åšä»€ä¹ˆäº‹ï¼Œä¾æ¬¡æ¥é¿å…å‘ã€‚å› æ­¤ç°åœ¨ä¸»è¦æ€è€ƒä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>1.åŸºäºå‘¨æœŸç±»å‹çš„æ¢³ç†ï¼Œç¡®è®¤ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„<strong>ä½¿ç”¨æ–¹å¼</strong></li><li>2.åŸºäºèŒè´£çš„æ¢³ç†ï¼Œç¡®è®¤ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„<strong>é€‚ç”¨èŒƒå›´</strong></li></ul><p><img src="https://pic.downk.cc/item/5fcdeaf03ffa7d37b3c10890.jpg" alt="ç”Ÿå‘½å‘¨æœŸçš„æ¢³ç†"></p><h5 id="ä¸€ã€ç”Ÿå‘½å‘¨æœŸçš„æ¦‚å¿µ"><a href="#ä¸€ã€ç”Ÿå‘½å‘¨æœŸçš„æ¦‚å¿µ" class="headerlink" title="ä¸€ã€ç”Ÿå‘½å‘¨æœŸçš„æ¦‚å¿µ"></a>ä¸€ã€ç”Ÿå‘½å‘¨æœŸçš„æ¦‚å¿µ</h5><p>å½“æˆ‘ä»¬åœ¨è®¨è®ºReactç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„æ—¶å€™ï¼Œä¸€å®šæ˜¯åœ¨è®¨è®ºç±»ç»„ä»¶ï¼ˆClass Component)ã€‚å‡½æ•°å¼ç»„ä»¶å¹¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸçš„æ¦‚å¿µï¼Œå®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåªä¼šä»å¤´æ‰§è¡Œåˆ°å°¾ã€‚</p><p>ç”Ÿå‘½å‘¨æœŸå…¶å®æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæåˆ°ç”Ÿå‘½å‘¨æœŸæˆ‘ä»¬ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯componentDidMount, componenetWillMountç­‰å‡½æ•°ã€‚ç„¶è€Œè¿™äº›å‡½æ•°å¹¶ä¸ç­‰åŒäºç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œåªæ˜¯åœ¨ç”Ÿå‘½å‘¨æœŸä¸­æŒ‰é¡ºåºè¢«è°ƒç”¨çš„å‡½æ•°ã€‚<strong>æŒ‚è½½ -&gt; æ›´æ–° -&gt;å¸è½½</strong>ï¼Œè¿™ä¸€å®Œæ•´çš„æµç¨‹ï¼Œæ‰æ˜¯Reactç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><h5 id="äºŒã€ç”Ÿå‘½å‘¨æœŸæµç¨‹æ¢³ç†"><a href="#äºŒã€ç”Ÿå‘½å‘¨æœŸæµç¨‹æ¢³ç†" class="headerlink" title="äºŒã€ç”Ÿå‘½å‘¨æœŸæµç¨‹æ¢³ç†"></a>äºŒã€ç”Ÿå‘½å‘¨æœŸæµç¨‹æ¢³ç†</h5><p><strong>1.æŒ‚è½½é˜¶æ®µ</strong><br>&emsp;æŒ‚è½½é˜¶æ®µæ˜¯æŒ‡ç»„ä»¶ä»åˆå§‹åŒ–åˆ°å®ŒæˆåŠ è½½çš„è¿‡ç¨‹ã€‚</p><ul><li>âœ¨<strong>constructorå‡½æ•°</strong>ï¼šconstructoræ˜¯ç±»é€šç”¨çš„æ„é€ å‡½æ•°ï¼Œå¸¸ç”¨äºåˆå§‹åŒ–ï¼ˆé€šå¸¸æ˜¯åˆå§‹åŒ–state,ä»¥åŠç»‘å®šå‡½æ•°ï¼‰<pre><code class="hljs js"><span class="hljs-comment">//è¿‡å»çš„å†™æ³•</span><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Counter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">props</span>)</span>&#123;        <span class="hljs-built_in">super</span>(props);        <span class="hljs-built_in">this</span>.state=&#123;            count:<span class="hljs-number">0</span>        &#125;        <span class="hljs-built_in">this</span>.handleClick=<span class="hljs-built_in">this</span>.handleClick.bind(<span class="hljs-built_in">this</span>);    &#125;    <span class="hljs-function"><span class="hljs-title">handleClick</span>(<span class="hljs-params"></span>)</span>&#123;        ...    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;    &#125;&#125;<span class="hljs-string">``</span><span class="hljs-string">` </span><span class="hljs-string">å½“ç±»å±æ€§å¼€å§‹æµè¡Œåï¼Œç°åœ¨Reactç¤¾åŒºçš„å†™æ³•å‘ç”Ÿäº†å˜åŒ–ï¼Œå»é™¤äº†constructorã€‚</span><span class="hljs-string"></span><span class="hljs-string">`</span><span class="hljs-string">``</span>js<span class="hljs-comment">//ç°åœ¨çš„å†™æ³•</span><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Counter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    state=&#123;        count:<span class="hljs-number">0</span>,    &#125;    <span class="hljs-comment">//ç±»å±æ€§ç¬¬ä¸‰é˜¶æ®µææ¡ˆï¼Œè¿™ç§ä¸å†éœ€è¦é¢å¤–ç»‘å®š</span>    handleClick=<span class="hljs-function">()=&gt;</span>&#123;        ...    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;    &#125;&#125;</code></pre>Reactç¤¾åŒºå»é™¤constructorçš„åŸå› ï¼š</li></ul><ol><li>constructoræœ¬èº«å¹¶ä¸å±äºReactçš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒåªæ˜¯Classç»„ä»¶çš„åˆå§‹åŒ–å‡½æ•°</li><li>constructorä¸­å¹¶ä¸æ¨èå»å¤„ç†åˆå§‹åŒ–ä»¥å¤–çš„é€»è¾‘</li><li>é€šè¿‡å»é™¤constructorï¼Œä»£ç å˜å¾—æ›´åŠ ç®€æ´</li></ol><ul><li>âœ¨<strong>getDerivedStateFromPropså‡½æ•°</strong>ï¼š ä½¿ç»„ä»¶åœ¨propså˜åŒ–æ—¶æ›´æ–°state</li></ul><p>å®ƒçš„è§¦å‘æ—¶æœºæ˜¯ï¼š</p><ol><li>å½“propsè¢«ä¼ å…¥æ—¶</li><li>stateå‘é€å˜åŒ–æ—¶</li><li>forceUpdateè¢«è°ƒç”¨æ—¶</li></ol><p>ğŸ–ï¼šä¸€ä¸ªå¸¸è§é”™è¯¯æ˜¯è®¤ä¸ºåªæœ‰propså‘é€å˜åŒ–æ—¶ï¼ŒgetDerivedStateFromPropsæ‰ä¼šè¢«è°ƒç”¨ï¼Œå®é™…ä¸Šåªè¦çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼ŒgetDerivedStateFromPropså°±ä¼šè¢«è°ƒç”¨ï¼Œå¤–éƒ¨å‚æ•°propsä¼ å…¥æ—¶å°±ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExampleComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;Â  <span class="hljs-comment">// åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ– stateï¼Œ</span>Â  <span class="hljs-comment">// æˆ–è€…ä½¿ç”¨å±æ€§åˆå§‹åŒ–å™¨ã€‚</span>Â  state = &#123;Â  Â  isScrollingDown: <span class="hljs-literal">false</span>,Â  Â  lastRow: <span class="hljs-literal">null</span>,Â  &#125;;Â  <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-title">getDerivedStateFromProps</span>(<span class="hljs-params">props, state</span>)</span> &#123;Â  Â  <span class="hljs-keyword">if</span> (props.currentRow !== state.lastRow) &#123;Â  Â  Â  <span class="hljs-keyword">return</span> &#123;Â  Â  Â  Â  isScrollingDown: props.currentRow &gt; state.lastRow,Â  Â  Â  Â  lastRow: props.currentRow,Â  Â  Â  &#125;;Â  Â  &#125;Â  Â  <span class="hljs-comment">// è¿”å› null è¡¨ç¤ºæ— éœ€æ›´æ–° stateã€‚</span>Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;Â  &#125;&#125;</code></pre><p>æŒ‰ç…§å®˜æ–¹çš„è¯´è¯ï¼Œå®ƒçš„ä½¿ç”¨åœºæ™¯æ˜¯éå¸¸æœ‰é™çš„ã€‚ç”±äºå¤ªå¤šä½¿ç”¨é”™è¯¯çš„æ¡ˆä¾‹ï¼ŒReactå›¢é˜Ÿè¿˜å› æ­¤å†™äº†<a href="https://zh-hans.reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html">ä½ å¯èƒ½ä¸éœ€è¦ä½¿ç”¨æ´¾ç”Ÿstate</a>ï¼Œæ–‡ä¸­åˆ—ä¸¾äº†é”™è¯¯ä½¿ç”¨getDerivedStateFromPropsçš„ä¸¤ä¸ªå…¸å‹åé¢æ¡ˆä¾‹ï¼š</p><ol><li>ç›´æ¥å¤åˆ¶propåˆ°state</li><li>åœ¨propså˜åŒ–åä¿®æ”¹state</li></ol><p>è¿™ä¸¤ç§å†™æ³•é™¤äº†å¢åŠ ä»£ç çš„ç»´æŠ¤æˆæœ¬å¤–ï¼Œæ²¡æœ‰å¸¦æ¥ä»»ä½•å¥½å¤„ã€‚</p><ul><li>âœ¨<strong>UNSAFE_componentWillMountå‡½æ•°</strong>ï¼š ä¹Ÿå°±æ˜¯componentWillMountï¼Œç”¨äºç»„ä»¶åŠ è½½å‰åšæŸäº›æ“ä½œã€‚åœ¨Reactçš„å¼‚æ­¥æ¸²æŸ“æœºåˆ¶ä¸‹ï¼Œè¯¥æ–¹æ³•å¯èƒ½ä¼šè¢«å¤šæ¬¡è°ƒç”¨ï¼Œæ‰€ä»¥ç›®å‰è¢«æ ‡è®°ä¸ºå¼ƒç”¨ã€‚</li></ul><p>ä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯componentWillMountè·ŸæœåŠ¡å™¨ç«¯åŒæ„æ¸²æŸ“æ—¶ï¼Œå¦‚æœåœ¨è¯¥å‡½æ•°é‡Œé¢å‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œæ‹‰å–æ•°æ®ï¼Œé‚£ä¹ˆä¼šåœ¨æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯åˆ†åˆ«æ‰§è¡Œä¸€æ¬¡ã€‚æ‰€ä»¥æ›´æ¨èä½¿ç”¨componentDidMountä¸­å®Œæˆæ‹‰å–æ•°æ®çš„æ“ä½œã€‚</p><ul><li><p>âœ¨<strong>renderå‡½æ•°</strong>ï¼š renderå‡½æ•°è¿”å›çš„JSXç»“æ„ï¼Œç”¨äºæè¿°å…·ä½“çš„æ¸²æŸ“å†…å®¹ã€‚ä½†æ˜¯ï¼Œrenderå‡½æ•°å¹¶æ²¡æœ‰çœŸæ­£çš„å»æ¸²æŸ“ç»„ä»¶ï¼Œæ¸²æŸ“æ˜¯ä¾é Reactæ“ä½œJSXç»“æ„å®Œæˆçš„ã€‚<br>ğŸ–ï¼šrenderå‡½æ•°åº”è¯¥æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¸èƒ½åœ¨é‡Œé¢äº§ç”Ÿå‰¯ä½œç”¨ï¼Œæ¯”å¦‚è°ƒç”¨setStateæˆ–è€…ç»‘å®šäº‹ä»¶ã€‚â‘  ä¸èƒ½setStateæ˜¯å› ä¸ºrenderå‡½æ•°åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¼šè¢«è°ƒç”¨ï¼Œè€ŒsetStateä¼šè§¦å‘æ¸²æŸ“ï¼Œå°±ä¼šé€ æˆæ­»å¾ªç¯ã€‚â‘¡ ä¸èƒ½ç»‘å®šäº‹ä»¶æ˜¯å› ä¸ºå®¹æ˜“è¢«é¢‘ç¹è°ƒç”¨æ³¨å†Œã€‚</p></li><li><p>âœ¨<strong>componentDidMountå‡½æ•°</strong>ï¼š ä¸»è¦ç”¨äºç»„ä»¶åŠ è½½å®Œæˆåè¿›è¡ŒæŸäº›æ“ä½œï¼Œæ¯”å¦‚å‘èµ·ç½‘ç»œè¯·æ±‚æˆ–è€…ç»‘å®šäº‹ä»¶ï¼Œè¯¥å‡½æ•°æ˜¯æ¥ç€renderä¹‹åè°ƒç”¨çš„ã€‚ä½†æ˜¯componentDidMountä¸€å®šæ˜¯åœ¨çœŸå®DOMç»˜åˆ¶å®Œæˆä¹‹åè°ƒç”¨å—ï¼Ÿåœ¨æµè§ˆå™¨ç«¯å¯ä»¥è¿™ä¹ˆè®¤ä¸ºã€‚ä½†æ˜¯åœ¨å…¶ä»–åœºæ™¯ä¸‹ï¼Œå°¤å…¶æ˜¯React Nativeåœºæ™¯ä¸‹ï¼ŒcomponentDidMountå¹¶ä¸æ„å‘³ç€çœŸå®çš„ç•Œé¢å·²ç»ç»˜åˆ¶å®Œæ¯•ã€‚ï¼ˆç”±äºæœºå™¨çš„æ€§èƒ½é™åˆ¶ï¼Œè§†å›¾å¯èƒ½è¿˜åœ¨ç»˜åˆ¶ä¸­ï¼‰</p></li></ul><p><strong>2.æ›´æ–°é˜¶æ®µ</strong><br>&emsp;æ›´æ–°é˜¶æ®µæ˜¯æŒ‡å¤–éƒ¨propsä¼ å…¥ï¼Œæˆ–è€…stateå‘ç”Ÿå˜åŒ–æ—¶çš„é˜¶æ®µã€‚è¿™ä¸ªé˜¶æ®µä¸»è¦æœ‰ä»¥ä¸‹6ä¸ªå‡½æ•°ï¼š</p><ul><li>ğŸ’–<strong>UNSAFE_componentWillReceivePropså‡½æ•°</strong>ï¼š è¯¥å‡½æ•°å·²ç»è¢«æ ‡è®°å¼ƒç”¨ï¼Œå› ä¸ºå…¶åŠŸèƒ½å¯è¢«getDerivedStateFromPropsæ‰€æ›¿ä»£ã€‚å½“getDerivedStateFromPropså­˜åœ¨æ—¶ï¼ŒUNSAFE_componentWillReceivePropsä¸ä¼šè¢«è°ƒç”¨ã€‚</li><li>ğŸ’–<strong>getDerivedStateFromPropså‡½æ•°</strong>: åŒæŒ‚è½½é˜¶æ®µçš„å˜ç°ä¸€è‡´ã€‚</li><li>ğŸ’–<strong>shouldComponentUpdateå‡½æ•°</strong>: è¯¥æ–¹æ³•é€šè¿‡è¿”å›trueæˆ–è€…falseæ¥ç¡®å®šæ˜¯å¦éœ€è¦è§¦å‘æ–°çš„æ¸²æŸ“ï¼Œå› ä¸ºæ¸²æŸ“è§¦å‘æœ€åä¸€é“å…³å¡ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯æ€§èƒ½ä¼˜åŒ–çš„å¿…äº‰ä¹‹åœ°ã€‚é€šè¿‡æ·»åŠ åˆ¤æ–­æ¡ä»¶æ¥é˜»æ­¢ä¸å¿…è¦çš„æ¸²æŸ“ã€‚</li></ul><p>Reactå®˜æ–¹æä¾›äº†ä¸€ä¸ªé€šç”¨çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯PureComponentã€‚PureComponentçš„æ ¸å¿ƒåŸç†æ˜¯é»˜è®¤å®ç°äº†shouldComponentUpdateå‡½æ•°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­å¯¹propså’Œstateè¿›è¡Œæµ…æ¯”è¾ƒï¼Œç”¨æ¥åˆ¤æ–­æ˜¯å¦è§¦å‘æ›´æ–°ã€‚</p><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">shouldComponentUpdate</span>(<span class="hljs-params">nextProps, nextState</span>)</span> &#123;  <span class="hljs-comment">// æµ…æ¯”è¾ƒä»…æ¯”è¾ƒå€¼ä¸å¼•ç”¨ï¼Œå¹¶ä¸ä¼šå¯¹ Object ä¸­çš„æ¯ä¸€é¡¹å€¼è¿›è¡Œæ¯”è¾ƒ</span>  <span class="hljs-keyword">if</span> (shadowEqual(nextProps, <span class="hljs-built_in">this</span>.props) || shadowEqual(nextState, <span class="hljs-built_in">this</span>.state) ) &#123;    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>  &#125;  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>&#125;</code></pre><ul><li><p>ğŸ’–<strong>UNSAFE_componentWillUpdateå‡½æ•°</strong>: åŒæ ·å·²åºŸå¼ƒï¼Œå› ä¸ºåœ¨åç»­çš„Reactå¼‚æ­¥æ¸²æŸ“è®¾è®¡ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°ç»„ä»¶æš‚åœæ›´æ–°æ¸²æŸ“çš„æƒ…å†µã€‚</p></li><li><p>ğŸ’–<strong>renderå‡½æ•°</strong>: è·ŸæŒ‚è½½é˜¶æ®µçš„è¡¨ç°ä¸€è‡´</p></li><li><p>ğŸ’–<strong>getSnapshotBeforeUpdateå‡½æ•°</strong>: getSnapshotBeforeUpdateæ˜¯é…åˆReactæ–°çš„å¼‚æ­¥æ¸²æŸ“æœºåˆ¶ï¼Œåœ¨DOMæ›´æ–°å‘ç”Ÿä¹‹å‰è¢«è°ƒç”¨ï¼Œè¿”å›å€¼ä½œä¸ºå¯¹componentDidUpdateçš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚å®˜æ–¹ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ScrollingList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;Â  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">props</span>)</span> &#123;Â  Â  <span class="hljs-built_in">super</span>(props);Â  Â  <span class="hljs-built_in">this</span>.listRef = React.createRef();Â  &#125;Â  <span class="hljs-function"><span class="hljs-title">getSnapshotBeforeUpdate</span>(<span class="hljs-params">prevProps, prevState</span>)</span> &#123;Â  Â  <span class="hljs-comment">// Are we adding new items to the list?</span>Â  Â  <span class="hljs-comment">// Capture the scroll position so we can adjust scroll later.</span>Â  Â  <span class="hljs-keyword">if</span> (prevProps.list.length &lt; <span class="hljs-built_in">this</span>.props.list.length) &#123;Â  Â  Â  <span class="hljs-keyword">const</span> list = <span class="hljs-built_in">this</span>.listRef.current;Â  Â  Â  <span class="hljs-keyword">return</span> list.scrollHeight - list.scrollTop;Â  Â  &#125;Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;Â  &#125;Â  <span class="hljs-function"><span class="hljs-title">componentDidUpdate</span>(<span class="hljs-params">prevProps, prevState, snapshot</span>)</span> &#123;Â  Â  <span class="hljs-comment">// If we have a snapshot value, we&#x27;ve just added new items.</span>Â  Â  <span class="hljs-comment">// Adjust scroll so these new items don&#x27;t push the old ones out of view.</span>Â  Â  <span class="hljs-comment">// (snapshot here is the value returned from getSnapshotBeforeUpdate)</span>Â  Â  <span class="hljs-keyword">if</span> (snapshot !== <span class="hljs-literal">null</span>) &#123;Â  Â  Â  <span class="hljs-keyword">const</span> list = <span class="hljs-built_in">this</span>.listRef.current;Â  Â  Â  list.scrollTop = list.scrollHeight - snapshot;Â  Â  &#125;Â  &#125;Â  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;Â  Â  <span class="hljs-keyword">return</span> (Â  Â  Â  &lt;div ref=&#123;<span class="hljs-built_in">this</span>.listRef&#125;&gt;&#123;<span class="hljs-comment">/* ...contents... */</span>&#125;&lt;/div&gt;Â  Â  );Â  &#125;</code></pre></li><li><p>ğŸ’–<strong>componentDidUpdateå‡½æ•°</strong>: æ­£å¦‚ä¸Šé¢çš„æ¡ˆä¾‹ï¼ŒgetSnapshotBeforeUpdateçš„è¿”å›å€¼ä¼šä½œä¸ºcomponentDidUpdateçš„ç¬¬ä¸‰ä¸ªå‚æ•°ä½¿ç”¨ã€‚componentDidUpdateå‡½æ•°ä¸­å¯ä»¥ä½¿ç”¨setStateæ¥è§¦å‘é‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯ä¸€å®šè¦å°å¿ƒï¼Œé¿å…æ­»å¾ªç¯ï¼</p></li></ul><p><strong>3.æŒ‚è½½é˜¶æ®µ</strong><br>&emsp;æŒ‚è½½é˜¶æ®µï¼Œåªæœ‰ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p><ul><li>âœŒ<strong>componentWillUnmountå‡½æ•°</strong>ï¼šè¯¥å‡½æ•°ä¸»è¦ç”¨äºæ¸…ç†å·¥ä½œï¼Œä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„bugæ˜¯å¿˜è®°åœ¨componentWillUnmountä¸­å–æ¶ˆå®šæ—¶å™¨ï¼Œå¯¼è‡´å®šæ—¶æ“ä½œä¾ç„¶åœ¨ç»„ä»¶é”€æ¯åä¸åœåœ°æ‰§è¡Œã€‚æ‰€ä»¥åœ¨è¯¥é˜¶æ®µä¸€å®šè¦å®Œæˆäº‹ä»¶è§£ç»‘ï¼Œå–æ¶ˆå®šæ—¶å™¨ã€‚</li></ul><h5 id="å°ç»“ï¼š"><a href="#å°ç»“ï¼š" class="headerlink" title="å°ç»“ï¼š"></a>å°ç»“ï¼š</h5><p> æ ¹æ®ä¸Šé¢çš„å†…å®¹ï¼Œå¯ä»¥åšä¸€ä¸ªæ€ç»´å¯¼å›¾ï¼š<br> <img src="https://pic.downk.cc/item/5fce2a393ffa7d37b3f47cbd.jpg" alt="Reactç”Ÿå‘½å‘¨æœŸæ€ç»´å¯¼å›¾"></p><h5 id="äºŒã€ç”Ÿå‘½å‘¨æœŸèŒè´£æ¢³ç†"><a href="#äºŒã€ç”Ÿå‘½å‘¨æœŸèŒè´£æ¢³ç†" class="headerlink" title="äºŒã€ç”Ÿå‘½å‘¨æœŸèŒè´£æ¢³ç†"></a>äºŒã€ç”Ÿå‘½å‘¨æœŸèŒè´£æ¢³ç†</h5><p> èŒè´£æ¢³ç†ä¸»è¦æ˜¯ææ¸…æ¥šä¸¤ä¸ªäº‹æƒ…ï¼š<br> 1ã€ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼Ÿ<br> 2ã€æ¸²æŸ“ä¸­å‘ç”ŸæŠ¥é”™åä¼šæ€æ ·ï¼Ÿ</p><p> <strong>1.è§¦å‘é‡æ–°æ¸²æŸ“çš„ä¸‰ç§æƒ…å†µ</strong>ï¼š</p><ul><li><p>ğŸ˜Š<strong>å‡½æ•°ç»„ä»¶</strong>ï¼š å‡½æ•°ç»„ä»¶åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½æœ‰å¯èƒ½é‡æ–°æ¸²æŸ“ã€‚å®ƒæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯å®˜æ–¹æä¾›äº†ä¸€ä¸ªä¼˜åŒ–æ‰‹æ®µï¼Œé‚£å°±æ˜¯React.memo:</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> MyComponent = React.memo(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyComponent</span>(<span class="hljs-params">props</span>)</span>&#123;    <span class="hljs-comment">/*ä½¿ç”¨propsæ¸²æŸ“*/</span>&#125;)</code></pre><p>React.memoå¹¶ä¸é˜»æ–­æ¸²æŸ“ï¼Œè€Œæ˜¯è·³è¿‡æ¸²æŸ“ç»„ä»¶çš„æ“ä½œå¹¶ç›´æ¥å¤ç”¨æœ€æ–°ä¸€æ¬¡æ¸²æŸ“çš„ç»“æœï¼Œè¿™ä¸shouldComponentUpdateæ˜¯å®Œå…¨ä¸åŒçš„ã€‚</p></li><li><p>ğŸ˜Š<strong>React.Component</strong>ï¼šå¦‚æœä¸å®ç°shouldComponentUpdateå‡½æ•°ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§æƒ…å†µè§¦å‘æ¸²æŸ“ï¼š<br>1ã€å½“stateå‘ç”Ÿå˜åŒ–æ—¶ã€‚ï¼ˆæœ€å¸¸è§çš„æƒ…å†µï¼‰<br>2ã€å½“çˆ¶ç»„ä»¶çš„Propsä¼ å…¥æ—¶ã€‚ï¼ˆæ— è®ºPropsæœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œåªæœ‰ä¼ å…¥å°±ä¼šå¼•å‘é‡æ–°æ¸²æŸ“ï¼‰</p></li><li><p>ğŸ˜Š<strong>React.PureComponent</strong>: PureComponenté»˜è®¤å®ç°äº†shouldComponentUpdateå‡½æ•°ï¼Œæ‰€ä»¥ä»…åœ¨propsä¸stateè¿›è¡Œæµ…æ¯”è¾ƒåï¼Œç¡®è®¤æœ‰å˜æ›´æ—¶æ‰ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ã€‚</p></li><li><p>*2.é”™è¯¯è¾¹ç•Œ**ï¼š </p></li></ul><p>&emsp;é”™è¯¯è¾¹ç•Œæ˜¯ä¸€ç§Reactç»„ä»¶ï¼Œè¿™ç§ç»„ä»¶å¯ä»¥æ•è·å¹¶æ‰“å°å‘ç”Ÿåœ¨å…¶å­ç»„ä»¶æ ‘ä¸Šä»»ä½•ä½ç½®çš„JavaScripté”™è¯¯ï¼Œå¹¶ä¸”ï¼Œå®ƒä¼šæ¸²æŸ“å‡ºå¤‡ç”¨UIï¼Œå¦‚ä¸‹å®˜æ–¹ç¤ºä¾‹ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ErrorBoundary</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;Â  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">props</span>)</span> &#123;Â  Â  <span class="hljs-built_in">super</span>(props);Â  Â  <span class="hljs-built_in">this</span>.state = &#123; <span class="hljs-attr">hasError</span>: <span class="hljs-literal">false</span> &#125;;Â  &#125;Â  <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-title">getDerivedStateFromError</span>(<span class="hljs-params">error</span>)</span> &#123;Â  Â  <span class="hljs-comment">// æ›´æ–° state ä½¿ä¸‹ä¸€æ¬¡æ¸²æŸ“èƒ½å¤Ÿæ˜¾ç¤ºé™çº§åçš„ UI</span>Â  Â  <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">hasError</span>: <span class="hljs-literal">true</span> &#125;;Â  &#125;Â  <span class="hljs-function"><span class="hljs-title">componentDidCatch</span>(<span class="hljs-params">error, errorInfo</span>)</span> &#123;Â  Â  <span class="hljs-comment">// ä½ åŒæ ·å¯ä»¥å°†é”™è¯¯æ—¥å¿—ä¸ŠæŠ¥ç»™æœåŠ¡å™¨</span>Â  Â  logErrorToMyService(error, errorInfo);Â  &#125;Â  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;Â  Â  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.state.hasError) &#123;Â  Â  Â  <span class="hljs-comment">// ä½ å¯ä»¥è‡ªå®šä¹‰é™çº§åçš„ UI å¹¶æ¸²æŸ“</span>Â  Â  Â  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Something went wrong.<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;Â  Â  &#125;Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.props.children;Â Â  &#125;&#125;</code></pre><p>æ— è®ºæ˜¯React,è¿˜æ˜¯React Native,å¦‚æœæ²¡æœ‰é”™è¯¯è¾¹ç•Œï¼Œåœ¨ç”¨æˆ·ä¾§çœ‹åˆ°çš„ç°è±¡æ˜¯ï¼šåœ¨æ‰§è¡ŒæŸä¸ªé”™è¯¯æ“ä½œæ—¶ï¼Œè§¦å‘äº†bug, å¼•å‘äº†å´©æºƒï¼Œé¡µé¢ä¼šçªç„¶ç™½å±ã€‚</p><p>ğŸ–ï¼šåœ¨æ¸²æŸ“æ—¶çš„æŠ¥é”™ï¼Œåªèƒ½é€šè¿‡componentDidCatchæ•è·ã€‚è¿™æ˜¯åœ¨åšçº¿ä¸Šé¡µé¢æŠ¥é”™ç›‘æ§æ—¶ï¼ŒåŠå…¶å®¹æ˜“å¿½ç•¥çš„ç‚¹ã€‚</p><h5 id="ä¸‰ã€ç­”é¢˜ï¼š"><a href="#ä¸‰ã€ç­”é¢˜ï¼š" class="headerlink" title="ä¸‰ã€ç­”é¢˜ï¼š"></a>ä¸‰ã€ç­”é¢˜ï¼š</h5><p>ç»è¿‡ä¸Šé¢çš„æ¢³ç†,ç°åœ¨å¯ä»¥å›ç­”å¼€å¤´çš„é—®é¢˜äº†ã€‚</p><blockquote><p>é¿å…ç”Ÿå‘½å‘¨æœŸä¸­çš„å‘éœ€è¦åšå¥½ä¸¤ä»¶äº‹ï¼š</p><p>1.ä¸åœ¨æ°å½“çš„æ—¶å€™è°ƒç”¨äº†ä¸è¯¥è°ƒç”¨çš„ä»£ç ï¼›<br>2.åœ¨éœ€è¦è°ƒç”¨æ—¶ï¼Œä¸è¦å¿˜äº†è°ƒç”¨ã€‚</p></blockquote><p>é‚£ä¹ˆï¼Œæœ‰7ç§æƒ…å†µå®¹æ˜“é€ æˆReactç”Ÿå‘½å‘¨æœŸçš„å‘ï¼š</p><blockquote><p>1.getDerivedStateFromProps å®¹æ˜“ç¼–å†™åæ¨¡å¼ä»£ç ï¼Œä½¿å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶åŒºåˆ†æ¨¡ç³Šã€‚</p></blockquote><blockquote><p>2.componentWillMount åœ¨ React ä¸­å·²è¢«æ ‡è®°å¼ƒç”¨ï¼Œä¸æ¨èä½¿ç”¨ï¼Œä¸»è¦åŸå› æ˜¯æ–°çš„å¼‚æ­¥æ¸²æŸ“æ¶æ„ä¼šå¯¼è‡´å®ƒè¢«å¤šæ¬¡è°ƒç”¨ã€‚æ‰€ä»¥ç½‘ç»œè¯·æ±‚åŠäº‹ä»¶ç»‘å®šä»£ç åº”ç§»è‡³ componentDidMountä¸­ã€‚</p></blockquote><blockquote><p>3.componentWillReceiveProps åŒæ ·è¢«æ ‡è®°å¼ƒç”¨ï¼Œè¢« getDerivedStateFromProps æ‰€å–ä»£ï¼Œä¸»è¦åŸå› æ˜¯æ€§èƒ½é—®é¢˜ã€‚</p></blockquote><blockquote><p>4.shouldComponentUpdate é€šè¿‡è¿”å› true æˆ–è€… false æ¥ç¡®å®šæ˜¯å¦éœ€è¦è§¦å‘æ–°çš„æ¸²æŸ“ã€‚ä¸»è¦ç”¨äºæ€§èƒ½ä¼˜åŒ–ã€‚</p></blockquote><blockquote><p>5.componentWillUpdate åŒæ ·æ˜¯ç”±äºæ–°çš„å¼‚æ­¥æ¸²æŸ“æœºåˆ¶ï¼Œè€Œè¢«æ ‡è®°åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨ï¼ŒåŸå…ˆçš„é€»è¾‘å¯ç»“åˆ getSnapshotBeforeUpdate ä¸ componentDidUpdate æ”¹é€ ä½¿ç”¨ã€‚</p></blockquote><blockquote><p>6.å¦‚æœåœ¨ componentWillUnmount å‡½æ•°ä¸­å¿˜è®°è§£é™¤äº‹ä»¶ç»‘å®šï¼Œå–æ¶ˆå®šæ—¶å™¨ç­‰æ¸…ç†æ“ä½œï¼Œå®¹æ˜“å¼•å‘ bugã€‚</p></blockquote><blockquote><p>7.å¦‚æœæ²¡æœ‰æ·»åŠ é”™è¯¯è¾¹ç•Œå¤„ç†ï¼Œå½“æ¸²æŸ“å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œç”¨æˆ·å°†ä¼šçœ‹åˆ°ä¸€ä¸ªæ— æ³•æ“ä½œçš„ç™½å±ï¼Œæ‰€ä»¥ä¸€å®šè¦æ·»åŠ ã€‚</p></blockquote><h5 id="å››ã€è¿›é˜¶æé—®ï¼šReact-çš„è¯·æ±‚åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Œä¸ºä»€ä¹ˆ"><a href="#å››ã€è¿›é˜¶æé—®ï¼šReact-çš„è¯·æ±‚åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Œä¸ºä»€ä¹ˆ" class="headerlink" title="å››ã€è¿›é˜¶æé—®ï¼šReact çš„è¯·æ±‚åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Œä¸ºä»€ä¹ˆ?"></a>å››ã€è¿›é˜¶æé—®ï¼šReact çš„è¯·æ±‚åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Œä¸ºä»€ä¹ˆ?</h5><p> å¯¹äºå¼‚æ­¥è¯·æ±‚ï¼Œåº”è¯¥æ”¾åœ¨componentDidUpdateä¸­æ“ä½œã€‚ä»æ—¶é—´é¡ºåºä¸Šçœ‹ï¼Œä¼¼ä¹è¿˜æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æœ‰å„è‡ªçš„å¼Šç«¯ï¼š</p><ul><li><p>constructorï¼šå¯ä»¥æ”¾ï¼Œä½†æ˜¯ä»è®¾è®¡ä¸Šçœ‹ä¸æ¨èï¼Œconstructorä¸»è¦ç”¨äºåˆå§‹åŒ–stateå’Œå‡½æ•°ç»‘å®šï¼Œå¹¶ä¸åº”è¯¥æ‰¿è½½ä¸šåŠ¡é€»è¾‘ã€‚è€Œä¸”éšç€ç±»å±æ€§çš„æµè¡Œï¼Œconstructorå·²ç»å¾ˆå°‘ä½¿ç”¨äº†ã€‚</p></li><li><p>componentWillMout: å·²ç»è¢«æ ‡åºŸå¼ƒï¼Œåœ¨æ–°çš„å¼‚æ­¥æ¸²æŸ“æœºåˆ¶ä¸‹å›è§¦å‘å¤šæ¬¡æ¸²æŸ“ï¼Œå®¹æ˜“å¼•å‘bug,ä¸åˆ©äºReactå‡çº§åçš„ä»£ç ç»´æŠ¤ã€‚</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•å®å…¸ä¹‹Reactç¯‡</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>npm01--dependenciesä¸devDependenciesçš„åŒºåˆ«</title>
    <link href="/2020/12/06/npm01-dependencies%E4%B8%8EdevDependencies%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <url>/2020/12/06/npm01-dependencies%E4%B8%8EdevDependencies%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h4 id="dependencies-ä¸-devDependencies"><a href="#dependencies-ä¸-devDependencies" class="headerlink" title="dependencies ä¸ devDependencies"></a>dependencies ä¸ devDependencies</h4><p>&emsp;å½“æˆ‘ä»¬åœ¨ä½¿ç”¨npm install å®‰è£…nodeæ¨¡å—æ—¶ï¼Œæœ‰ä¸¤ç§å‘½ä»¤å‚æ•°å°†è¿™äº›nodeæ¨¡å—çš„ä¿¡æ¯å†™å…¥åˆ°package.jsonæ–‡ä»¶ä¸­ï¼š</p><ul><li>npm install *** â€“saveï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯å°†ä¾èµ–åŒ…çš„ä¿¡æ¯æ·»åŠ åˆ°package.jsonæ–‡ä»¶çš„dependenciesé”®ä¸‹ã€‚</li><li>npm install *** â€“save-devï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯å°†ä¾èµ–åŒ…çš„ä¿¡æ¯æ·»åŠ åˆ°devDependenciesé”®ä¸‹ã€‚</li></ul><h4 id="1-ä¸åŒç‚¹ï¼š"><a href="#1-ä¸åŒç‚¹ï¼š" class="headerlink" title="1.ä¸åŒç‚¹ï¼š"></a>1.ä¸åŒç‚¹ï¼š</h4><p><strong>devDependenciesæ˜¯å¼€å‘ç¯å¢ƒ</strong>ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„ä¸€äº›æ„å»ºå·¥å…·å¦‚webpackã€glupç­‰åªæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ç”¨çš„åŒ…ï¼Œä¸Šçº¿åå°±å’Œå®ƒä»¬æ²¡æœ‰å…³ç³»äº†ï¼Œæ‰€ä»¥è¿™ç§éƒ½å†™å…¥devDependenciesï¼ˆè¿˜æœ‰ä¸€äº›å•å…ƒæµ‹è¯•å·¥å…·ä¹Ÿå¸è½½è¿™é‡Œï¼‰</p><p><strong>dependenciesæ˜¯ç”Ÿäº§ç¯å¢ƒ</strong>ï¼Œæ¯”å¦‚æˆ‘ä»¬å†™ä¸€ä¸ªé¡¹ç›®éœ€è¦ä¾èµ–React/Vue/jQueryæ‰èƒ½æ‰§è¡Œï¼Œæ²¡æœ‰è¿™ä¸ªåŒ…çš„ä¾èµ–è¿è¡Œå°±ä¼šå‡ºé”™ï¼Œè¿™æ—¶å€™å°±å¿…é¡»æŠŠä¾èµ–å†™å…¥dependenciesé‡Œã€‚</p><h4 id="2-ç›¸åŒç‚¹ï¼š"><a href="#2-ç›¸åŒç‚¹ï¼š" class="headerlink" title="2.ç›¸åŒç‚¹ï¼š"></a>2.ç›¸åŒç‚¹ï¼š</h4><p>dependencieså’Œ devDependenciesç›¸åŒçš„åœ°æ–¹åœ¨äºï¼šå°±æ˜¯å½“æˆ‘ä»¬cloneåˆ«äººçš„åº“è¿›è¡Œå¼€å‘æµ‹è¯•çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡npm install ä¸€é”®å®‰è£…è¿™ä¸¤ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰ä¾èµ–ï¼Œè€Œä¸éœ€è¦ä¸€è¡Œè¡Œåœ°æŸ¥æ‰¾åˆ«äººåˆ°åº•åœ¨æ–‡ä»¶ä¸­å¼•ç”¨äº†å“ªäº›ä¾èµ–ã€‚</p><p>å‚è€ƒï¼š<a href="https://docs.npmjs.com/cli/v6/configuring-npm/package-json#dependencies">npmå®˜æ–¹æ–‡æ¡£â€“dependencies</a></p>]]></content>
    
    
    <categories>
      
      <category>npmå­¦ä¹ </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•02-ä¸ºä»€ä¹ˆReactè¦ç”¨JSXï¼Ÿ</title>
    <link href="/2020/12/02/%E9%9D%A2%E8%AF%9502-%E4%B8%BA%E4%BB%80%E4%B9%88React%E8%A6%81%E7%94%A8JSX%EF%BC%9F/"/>
    <url>/2020/12/02/%E9%9D%A2%E8%AF%9502-%E4%B8%BA%E4%BB%80%E4%B9%88React%E8%A6%81%E7%94%A8JSX%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h4 id="é¢è¯•åœºæ™¯2ï¼šä¸ºä»€ä¹ˆReactè¦ç”¨JSXï¼Ÿï¼ˆè®ºè¯é¢˜ï¼‰"><a href="#é¢è¯•åœºæ™¯2ï¼šä¸ºä»€ä¹ˆReactè¦ç”¨JSXï¼Ÿï¼ˆè®ºè¯é¢˜ï¼‰" class="headerlink" title="é¢è¯•åœºæ™¯2ï¼šä¸ºä»€ä¹ˆReactè¦ç”¨JSXï¼Ÿï¼ˆè®ºè¯é¢˜ï¼‰"></a>é¢è¯•åœºæ™¯2ï¼šä¸ºä»€ä¹ˆReactè¦ç”¨JSXï¼Ÿï¼ˆè®ºè¯é¢˜ï¼‰</h4><p>&emsp;é’ˆå¯¹â€ä¸ºä»€ä¹ˆé‡‡ç”¨æ”¹æŠ€æœ¯æ–¹æ¡ˆï¼Ÿâ€ç±»å‹çš„é¢˜ï¼Œå…¶å®ä¸»è¦åœ¨è€ƒå¯Ÿä¸¤ä¸ªæ–¹é¢ï¼š</p><ul><li>æŠ€æœ¯å¹¿åº¦ï¼Œæ·±æŒ–çŸ¥è¯†é¢æ¶‰çŒå¹¿åº¦ï¼Œå¯¹æµè¡Œæ¡†æ¶çš„æ¨¡æ¿æ–¹æ¡ˆæ˜¯å¦çŸ¥æ‚‰äº†è§£ã€‚</li><li>æŠ€æœ¯æ–¹æ¡ˆè°ƒç ”èƒ½åŠ›</li></ul><p>æ‰€ä»¥ï¼Œé’ˆå¯¹è¿™ç±»é—®é¢˜ï¼Œå¯ä»¥é‡‡ç”¨ â€œä¸€å¥è¯è§£é‡Šï¼Œæ ¸å¿ƒæ¦‚å¿µï¼Œæ–¹æ¡ˆå¯¹æ¯”â€ ä¸‰æ­¥èµ°çš„æŠ€å·§æ¥ä½œç­”ï¼š</p><p>1ã€ä¸€å¥è¯è§£æJSXã€‚ç”¨ä¸€å¥è¯è¯´æ¸…æ¥šJSXåˆ°åº•æ˜¯ä»€ä¹ˆã€‚<br>2ã€æ ¸å¿ƒæ¦‚å¿µã€‚JSXç”¨äºè§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿ<br>3ã€æ–¹æ¡ˆå¯¹æ¯”ã€‚ä¸å…¶ä»–æ–¹æ¡ˆè¿›è¡Œå¯¹æ¯”ï¼Œè¯´æ˜Reacté€‰ç”¨JSXçš„å¿…è¦æ€§ã€‚</p><h5 id="ä¸€ã€ä¸€å¥è¯è§£é‡Š"><a href="#ä¸€ã€ä¸€å¥è¯è§£é‡Š" class="headerlink" title="ä¸€ã€ä¸€å¥è¯è§£é‡Š"></a>ä¸€ã€ä¸€å¥è¯è§£é‡Š</h5><p>&emsp;æŒ‰ç…§Reactå®˜æ–¹è§£é‡Šï¼Œ<strong>JSXæ˜¯ä¸€ä¸ªJavaScriptçš„è¯­æ³•æ‰©å±•ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªç±»ä¼¼äºXMLçš„ECMAScriptè¯­æ³•æ‰©å±•</strong>ï¼Œå®ƒæœ¬èº«æ²¡æœ‰å¤ªå¤šçš„è¯­æ³•å®šä¹‰ï¼Œä¹Ÿä¸æœŸæœ›å¼•å…¥æ›´å¤šçš„æ ‡å‡†ã€‚</p><h5 id="äºŒã€æ ¸å¿ƒæ¦‚å¿µ"><a href="#äºŒã€æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="äºŒã€æ ¸å¿ƒæ¦‚å¿µ"></a>äºŒã€æ ¸å¿ƒæ¦‚å¿µ</h5><p>&emsp;å…¶å®Reactæœ¬èº«å¹¶ä¸å¼ºåˆ¶ä½¿ç”¨JSXï¼Œåœ¨æ²¡æœ‰JSXçš„æ—¶å€™ï¼ŒReactå®ç°ä¸€ä¸ªç»„ä»¶ä¾èµ–äºä½¿ç”¨React.createElementå‡½æ•°ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hello</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> React.createElment(            <span class="hljs-string">&#x27;div&#x27;</span>,            <span class="hljs-literal">null</span>,            <span class="hljs-string">`Hello <span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.props.toWhat&#125;</span>`</span>        );    &#125;&#125;ReactDOM.render(    React.createElement(<span class="hljs-string">&#x27;Hello,&#123;toWhat:&#x27;</span>World<span class="hljs-string">&#x27;&#125;),</span><span class="hljs-string">    document.getElementById(&#x27;</span>root<span class="hljs-string">&#x27;)</span><span class="hljs-string">)</span></code></pre><p>è€ŒJSXæ›´åƒæ˜¯è¯­æ³•ç³–ï¼Œé€šè¿‡ç±»ä¼¼XMLçš„æè¿°æ–¹å¼ï¼Œæå†™å‡½æ•°å¯¹è±¡ã€‚é‡‡ç”¨JSXä¹‹åï¼Œä¸Šè¿°ä»£ç ä¼šå˜æˆå¦‚ä¸‹ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hello</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>&#123;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Hello,&#123;this.props.toWhat&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>    &#125;&#125;ReactDOM.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Hello</span> <span class="hljs-attr">toWhat</span>=<span class="hljs-string">&#x27;world&#x27;</span>/&gt;</span></span>,<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;root&#x27;</span>))</code></pre><p>é€šè¿‡è¿™æ ·å¯¹æ¯”ï¼Œæ˜¾ç„¶å¯ä»¥çœ‹å‡ºï¼Œ<strong>JSXä½¿å¾—ä»£ç å˜å¾—æ›´ä¸ºç®€æ´ï¼Œè€Œä¸”ä»£ç ç»“æ„å±‚æ¬¡æ›´ä¸ºæ¸…æ™°ã€‚</strong></p><p>å› ä¸ºReactéœ€è¦å°†ç»„ä»¶è½¬åŒ–ä¸ºè™šæ‹ŸDOMæ ‘ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰‹å†™ä»£ç æ—¶ï¼Œå…¶å®æ˜¯åœ¨æ‰‹å†™ä¸€é¢—ç»“æ„æ ‘ã€‚è€ŒXMLåœ¨æ ‘ç»“æ„çš„æè¿°ä¸Šå¤©ç„¶å…·æœ‰å¯è¯»æ€§å¼ºä¼˜åŠ¿ã€‚<br>ğŸ–ï¼šå®é™…åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œä¼šä½¿ç”¨Babelæ’ä»¶å°†JSXè¯­æ³•çš„ä»£ç è¿˜åŸä¸ºReact.createElementçš„ä»£ç ã€‚</p><h5 id="ä¸‰ã€æ–¹æ¡ˆå¯¹æ¯”"><a href="#ä¸‰ã€æ–¹æ¡ˆå¯¹æ¯”" class="headerlink" title="ä¸‰ã€æ–¹æ¡ˆå¯¹æ¯”"></a>ä¸‰ã€æ–¹æ¡ˆå¯¹æ¯”</h5><p><strong>1.Reactè®¾è®¡åˆè¡·</strong></p><p>Reactçš„è®¾è®¡åˆè¡·æ˜¯ï¼šå…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation of concerns)ã€‚åœ¨Reactç§ï¼Œå…³æ³¨ç‚¹çš„åŸºæœ¬å•ä½æ˜¯ç»„ä»¶ã€‚Reactå•ä¸ªç»„ä»¶æ—¶é«˜å†…èšçš„ï¼Œè€Œç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´æ—¶ä½è€¦åˆçš„ã€‚</p><blockquote><p>å…³æ³¨ç‚¹åˆ†ç¦»ï¼šæ˜¯è®¡ç®—æœºç§‘å­¦é‡Œé¢çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚ä¸»è¦æ€æƒ³æ˜¯å°†ä»£ç åˆ†éš”ä¸ºä¸åŒéƒ¨åˆ†ï¼Œæ¯ä¸€éƒ¨åˆ†éƒ½æœ‰å„è‡ªçš„å…³æ³¨ç‚¹ã€‚ä¼˜ç‚¹ï¼š å½“å…³æ³¨ç‚¹åˆ†å¼€æ—¶ï¼Œå„éƒ¨åˆ†å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œç‹¬ç«‹å¼€å‘å’Œæ›´æ–°ã€‚å…·æœ‰ç‰¹æ®Šä»·å€¼çš„éƒ¨åˆ†èƒ½å¤Ÿç¨åæ”¹è¿›æˆ–ä¿®æ”¹ä¸€æ®µä»£ç ï¼Œè€Œæ— é¡»çŸ¥é“å…¶ä»–éƒ¨åˆ†çš„ç»†èŠ‚åšå‡ºçš„ç›¸åº”æ›´æ”¹ã€‚</p></blockquote><p><strong>2.Reactä¸ºä»€ä¹ˆä¸ä½¿ç”¨æ¨¡æ¿å‘¢ï¼Ÿ</strong></p><p>Reactå›¢é˜Ÿè®¤ä¸ºå¼•å…¥æ¨¡æ¿æ˜¯ä¸€ç§ä¸ä½³çš„å®ç°ã€‚å› ä¸ºæ¨¡æ¿åˆ†ç¦»äº†æŠ€æœ¯æ ˆï¼Œè€Œéå…³æ³¨ç‚¹çš„æ¨¡æ¿åŒæ—¶åˆå¼•å…¥äº†å¾ˆå¤šçš„æ¦‚å¿µï¼Œæ¯”å¦‚æ–°çš„æ¨¡æ¿è¯­æ³•ã€æ¨¡æ¿æŒ‡ä»¤ç­‰ã€‚ä»¥AngularJSä¸ºä¾‹ï¼Œå¯ä»¥çœ‹ä¸‹æœ‰å¤šå°‘æ–°æ¦‚å¿µï¼š</p><pre><code class="hljs js">&lt;!doctype html&gt;&lt;html ng-app=<span class="hljs-string">&quot;docsBindExample&quot;</span>&gt;  &lt;head&gt;    &lt;script src=<span class="hljs-string">&quot;http://code.angularjs.org/1.2.25/angular.min.js&quot;</span>&gt;&lt;/script&gt;    &lt;script src=<span class="hljs-string">&quot;script.js&quot;</span>&gt;&lt;/script&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;div ng-controller=<span class="hljs-string">&quot;Ctrl1&quot;</span>&gt;      Hello &lt;input ng-model=<span class="hljs-string">&#x27;name&#x27;</span>&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span>/&gt;</span></span>      &lt;span ng-bind=<span class="hljs-string">&quot;name&quot;</span>&gt;&lt;<span class="hljs-regexp">/span&gt; &lt;br/</span>&gt;      &lt;span ng:bind=<span class="hljs-string">&quot;name&quot;</span>&gt;&lt;<span class="hljs-regexp">/span&gt; &lt;br/</span>&gt;      &lt;span ng_bind=<span class="hljs-string">&quot;name&quot;</span>&gt;&lt;<span class="hljs-regexp">/span&gt; &lt;br/</span>&gt;      &lt;span data-ng-bind=<span class="hljs-string">&quot;name&quot;</span>&gt;&lt;<span class="hljs-regexp">/span&gt; &lt;br/</span>&gt;      &lt;span x-ng-bind=<span class="hljs-string">&quot;name&quot;</span>&gt;&lt;<span class="hljs-regexp">/span&gt; &lt;br/</span>&gt;    &lt;/div&gt;  &lt;/body&gt;&lt;/html&gt;angular.module(<span class="hljs-string">&#x27;docsBindExample&#x27;</span>, [])  .controller(<span class="hljs-string">&#x27;Ctrl1&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ctrl1</span>(<span class="hljs-params">$scope</span>) </span>&#123;    $scope.name = <span class="hljs-string">&#x27;Max Karl Ernst Ludwig Planck (April 23, 1858 â€“ October 4, 1947)&#x27;</span>;  &#125;);</code></pre><p>çœ‹å®Œä¼šå‘ç°è¿™æ®µä»£ç å¾ˆéš¾æ‡‚ï¼Œå› ä¸ºå®ƒå¼•å…¥äº†éå¸¸å¤šçš„AngularJSç‹¬æœ‰çš„æ¦‚å¿µï¼Œä½†æ˜¯JSXå´ä¸ä¼šæœ‰å¾ˆå¤šæ–°æ¦‚å¿µï¼Œå®ƒä¾ç„¶æ˜¯JavaScriptï¼Œå°±è¿æ¡ä»¶è¡¨è¾¾å¼å’Œå¾ªç¯éƒ½ä»ç„¶æ˜¯JavaScriptçš„æ–¹å¼ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> App=<span class="hljs-function">(<span class="hljs-params">props</span>)=&gt;</span>&#123;    <span class="hljs-keyword">return</span>(        &lt;div&gt;            &#123;props.isShow?<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>show<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>:<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>hidden<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>&#125;            &#123;props.names.map(<span class="hljs-function"><span class="hljs-params">name</span>=&gt;</span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>)&#125;        &lt;/div&gt;    )&#125;</code></pre><p>è¿™æ ·æ¯”è¾ƒä¸‹æ¥ï¼Œå¯ä»¥çœ‹å‡ºReactä»£ç æ›´ç®€æ´ï¼Œæ›´å…·æœ‰å¯è¯»æ€§ï¼Œæ›´è´´è¿‘HTMLã€‚</p><p>é‚£æ¨¡æ¿å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥å¥—ç”¨HTMLï¼Œä¸ºä»€ä¹ˆä¸ç”¨æ¨¡æ¿å­—ç¬¦ä¸²å‘¢ï¼Ÿ</p><p><strong>3.Reactä¸ºä»€ä¹ˆä¸ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²å‘¢ï¼Ÿ</strong></p><p>æ¥çœ‹ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">var</span> box = jsx<span class="hljs-string">`</span><span class="hljs-string"></span><span class="hljs-string">  &lt;<span class="hljs-subst">$&#123;Box&#125;</span>&gt;</span><span class="hljs-string"></span><span class="hljs-string">    <span class="hljs-subst">$&#123;</span></span><span class="hljs-string"><span class="hljs-subst"></span></span><span class="hljs-string"><span class="hljs-subst">      shouldShowAnswer(user) ?</span></span><span class="hljs-string"><span class="hljs-subst"></span></span><span class="hljs-string"><span class="hljs-subst">      jsx<span class="hljs-string">`&lt;<span class="hljs-subst">$&#123;Answer&#125;</span> value=<span class="hljs-subst">$&#123;<span class="hljs-literal">false</span>&#125;</span>&gt;no&lt;/<span class="hljs-subst">$&#123;Answer&#125;</span>&gt;`</span> :</span></span><span class="hljs-string"><span class="hljs-subst"></span></span><span class="hljs-string"><span class="hljs-subst">      jsx<span class="hljs-string">`</span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">        &lt;<span class="hljs-subst">$&#123;Box.Comment&#125;</span>&gt;</span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">         Text Content</span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">        &lt;/<span class="hljs-subst">$&#123;Box.Comment&#125;</span>&gt;</span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">      `</span></span></span><span class="hljs-string"><span class="hljs-subst"></span></span><span class="hljs-string"><span class="hljs-subst">    &#125;</span></span><span class="hljs-string"></span><span class="hljs-string">  &lt;/<span class="hljs-subst">$&#123;Box&#125;</span>&gt;</span><span class="hljs-string"></span><span class="hljs-string">`</span>;</code></pre><p>æ˜¾ç„¶ä»£ç ç»“æ„è¿˜æ˜¯éå¸¸å¤æ‚ï¼ˆå­˜åœ¨å¤šæ¬¡å†…éƒ¨åµŒå¥—ï¼‰ï¼Œä¹Ÿä¸åˆ©äºå¼€å‘å·¥å…·çš„ä»£ç æç¤ºã€‚</p><p><strong>4.Reactä¸ºä»€ä¹ˆä¸ä½¿ç”¨JXONå‘¢ï¼Ÿ</strong></p><p>JXONå¾ˆåƒç›®å‰ä½¿ç”¨çš„JSXï¼Œå®ƒçš„ç»“æ„å¦‚ä¸‹ï¼š</p><pre><code class="hljs js">&lt;catalog&gt;  &lt;product description=<span class="hljs-string">&quot;Cardigan Sweater&quot;</span>&gt;   &lt;catalog_item gender=<span class="hljs-string">&quot;Men&#x27;s&quot;</span>&gt;     &lt;item_number&gt;QWZ5671&lt;/item_number&gt;     &lt;price&gt;<span class="hljs-number">39.95</span>&lt;/price&gt;     &lt;size description=<span class="hljs-string">&quot;Medium&quot;</span>&gt;       &lt;color_swatch image=<span class="hljs-string">&quot;red_cardigan.jpg&quot;</span>&gt;Red&lt;/color_swatch&gt;       &lt;color_swatch image=<span class="hljs-string">&quot;burgundy_cardigan.jpg&quot;</span>&gt;Burgundy&lt;/color_swatch&gt;     &lt;/size&gt;     &lt;size description=<span class="hljs-string">&quot;Large&quot;</span>&gt;       &lt;color_swatch image=<span class="hljs-string">&quot;red_cardigan.jpg&quot;</span>&gt;Red&lt;/color_swatch&gt;       &lt;color_swatch image=<span class="hljs-string">&quot;burgundy_cardigan.jpg&quot;</span>&gt;Burgundy&lt;/color_swatch&gt;     &lt;/size&gt;   &lt;/catalog_item&gt;   &lt;catalog_item gender=<span class="hljs-string">&quot;Women&#x27;s&quot;</span>&gt;     &lt;item_number&gt;RRX9856&lt;/item_number&gt;     &lt;discount_until&gt;Dec <span class="hljs-number">25</span>, <span class="hljs-number">1995</span>&lt;/discount_until&gt;     &lt;price&gt;<span class="hljs-number">42.50</span>&lt;/price&gt;     &lt;size description=<span class="hljs-string">&quot;Medium&quot;</span>&gt;       &lt;color_swatch image=<span class="hljs-string">&quot;black_cardigan.jpg&quot;</span>&gt;Black&lt;/color_swatch&gt;     &lt;/size&gt;   &lt;/catalog_item&gt;  &lt;/product&gt;  &lt;script type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;&lt;![CDATA[<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matchwo</span>(<span class="hljs-params">a,b</span>) </span>&#123;    <span class="hljs-keyword">if</span> (a &lt; b &amp;&amp; a &lt; <span class="hljs-number">0</span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; &#125;    <span class="hljs-keyword">else</span> &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; &#125;&#125;]]&gt;&lt;/script&gt;&lt;/catalog&gt;</code></pre><p>æœ€åæ”¾å¼ƒJXONè¿™ä¸€æ–¹æ¡ˆçš„åŸå› æ˜¯ï¼Œå¤§æ‹¬å·ä¸èƒ½ä½œä¸ºå…ƒç´ åœ¨æ ‘ç§å¼€å§‹å’Œç»“æŸçš„ä½ç½®ï¼Œæ— æ³•æä¾›å¾ˆå¥½çš„è¯­æ³•æç¤ºã€‚</p><p>æœ€åæ€»ç»“ä¸‹ï¼ŒReactä¸ºä»€ä¹ˆä½¿ç”¨JSX?</p><p><img src="https://pic.downk.cc/item/5fc752d5394ac523789ece3c.jpg" alt="reactä½¿ç”¨JSXåŸå› "></p><p>==ç­”é¢˜==ï¼š </p><blockquote><p>é¦–å…ˆï¼ŒJSX æ˜¯ä¸€ä¸ª JavaScript çš„è¯­æ³•æ‰©å±•ï¼Œç»“æ„ç±»ä¼¼ XMLã€‚<br>ï¼ˆJSX ä¸»è¦ç”¨äºå£°æ˜ React å…ƒç´ ï¼Œä½† React ä¸­å¹¶ä¸å¼ºåˆ¶ä½¿ç”¨ JSXã€‚å³ä½¿ä½¿ç”¨äº† JSXï¼Œä¹Ÿä¼šåœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ Babel æ’ä»¶ç¼–è¯‘ä¸º React.createElementã€‚æ‰€ä»¥ JSX æ›´åƒæ˜¯ React.createElement çš„ä¸€ç§è¯­æ³•ç³–ã€‚<br>Reactå›¢é˜Ÿå¹¶ä¸æƒ³å¼•å…¥JavaScriptæœ¬èº«ä»¥å¤–çš„å¼€å‘ä½“ç³»ï¼Œè€Œæ˜¯å¸Œæœ›é€šè¿‡åˆç†çš„å…³æ³¨ç‚¹åˆ†ç¦»ä¿æŒç»„ä»¶å¼€å‘çš„çº¯ç²¹æ€§ã€‚ï¼‰</p></blockquote><blockquote><p>ç„¶åï¼Œæ˜¯JSXä¸å…¶ä»–ä¸‰ç§æŠ€æœ¯æ–¹æ¡ˆçš„å¯¹æ¯”ï¼š<br>1.æ¨¡æ¿ã€‚ React å›¢é˜Ÿè®¤ä¸ºæ¨¡æ¿ä¸åº”è¯¥æ˜¯å¼€å‘è¿‡ç¨‹ä¸­çš„å…³æ³¨ç‚¹ï¼Œå› ä¸ºå¼•å…¥äº†æ¨¡æ¿è¯­æ³•ã€æ¨¡æ¿æŒ‡ä»¤ç­‰æ¦‚å¿µï¼Œæ˜¯ä¸€ç§ä¸ä½³çš„å®ç°æ–¹æ¡ˆã€‚<br>2.æ¨¡æ¿å­—ç¬¦ä¸²ã€‚ æ¨¡æ¿å­—ç¬¦ä¸²ç¼–å†™çš„ç»“æ„ä¼šé€ æˆå¤šæ¬¡å†…éƒ¨åµŒå¥—ï¼Œä½¿æ•´ä¸ªç»“æ„å˜å¾—å¤æ‚ï¼Œå¹¶ä¸”ä¼˜åŒ–ä»£ç æç¤ºä¹Ÿä¼šå˜å¾—å›°éš¾é‡é‡ã€‚<br>3.JXONã€‚ åŒæ ·å› ä¸ºä»£ç æç¤ºå›°éš¾çš„åŸå› è€Œè¢«æ”¾å¼ƒ</p></blockquote><p>âœ¨æ‰€ä»¥ï¼ŒReacté€‰æ‹©äº†JSXï¼Œå› ä¸ºJSXä¸å…¶è®¾è®¡æ€æƒ³æœ€ä¸ºå»åˆï¼Œä¸éœ€è¦å¼•å…¥è¿‡å¤šçš„æ–°æ¦‚å¿µï¼Œå¯¹ç¼–è¾‘å™¨ä»£ç æç¤ºä¹Ÿå¾ˆå‹å¥½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•å®å…¸ä¹‹Reactç¯‡</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>React03-React.cloneElementå‡½æ•°</title>
    <link href="/2020/12/01/React03-React-cloneElement%E5%87%BD%E6%95%B0/"/>
    <url>/2020/12/01/React03-React-cloneElement%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h4 id="React-cloneElement-element-props-â€¦children"><a href="#React-cloneElement-element-props-â€¦children" class="headerlink" title="React.cloneElement(element,[props],[â€¦children])"></a>React.cloneElement(element,[props],[â€¦children])</h4><p>&emsp;è¿™ä¸ªAPIä»¥elementå…ƒç´ ä¸ºæ ·æ¿å…‹éš†å¹¶è¿”å›æ–°çš„Reactå…ƒç´ ã€‚</p><ul><li>è¿”å›å…ƒç´ çš„propsæ˜¯å°†æ–°çš„propsä¸åŸå§‹å…ƒç´ çš„propsæµ…å±‚åˆå¹¶åçš„ç»“æœã€‚</li><li>æ–°çš„å­å…ƒç´ å°†å–ä»£ç°æœ‰çš„å­å…ƒç´ ï¼Œè€Œæ¥è‡ªåŸå§‹å…ƒç´ çš„keyå’Œrefå°†è¢«ä¿ç•™ã€‚</li></ul><p>React.cloneElement() åŸºæœ¬ç­‰åŒäºï¼š</p><pre><code class="hljs js">&lt;element.type &#123;...element.props&#125;&#123;...props&#125;&gt;&#123;children&#125;&lt;/element.type&gt;</code></pre><p>å‚è€ƒï¼š<a href="https://zh-hans.reactjs.org/docs/react-api.html#cloneelement">React.cloneElementå®˜æ–¹æ–‡æ¡£</a></p>]]></content>
    
    
    <categories>
      
      <category>Reactå­¦ä¹ </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•01-ä½ çœŸçš„äº†è§£Reactå—ï¼Ÿ</title>
    <link href="/2020/11/30/%E9%9D%A2%E8%AF%9501-%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3React%E5%90%97%EF%BC%9F/"/>
    <url>/2020/11/30/%E9%9D%A2%E8%AF%9501-%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3React%E5%90%97%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h4 id="é¢è¯•åœºæ™¯1ï¼šè°ˆè°ˆä½ å¯¹Reactçš„ç†è§£ï¼Ÿï¼ˆæ¦‚å¿µé¢˜ï¼‰"><a href="#é¢è¯•åœºæ™¯1ï¼šè°ˆè°ˆä½ å¯¹Reactçš„ç†è§£ï¼Ÿï¼ˆæ¦‚å¿µé¢˜ï¼‰" class="headerlink" title="é¢è¯•åœºæ™¯1ï¼šè°ˆè°ˆä½ å¯¹Reactçš„ç†è§£ï¼Ÿï¼ˆæ¦‚å¿µé¢˜ï¼‰"></a>é¢è¯•åœºæ™¯1ï¼šè°ˆè°ˆä½ å¯¹Reactçš„ç†è§£ï¼Ÿï¼ˆæ¦‚å¿µé¢˜ï¼‰</h4><p>é’ˆå¯¹è¿™ç§æ¦‚å¿µé¢˜ï¼Œä¸€èˆ¬é‡‡ç”¨å››å­—å£è¯€ï¼šâ€œè®²è¯´ç†åˆ—â€</p><ul><li>è®²æ¦‚å¿µ: ä¸€å¥è¯è®²æ¸…æ¥šè¯¥æŠ€æœ¯æ˜¯ä»€ä¹ˆã€‚  </li><li>è¯´ç”¨é€”ï¼šæè¿°è¯¥æŠ€æœ¯çš„ç”¨é€”ï¼ˆç»“åˆå…·ä½“åœºæ™¯ï¼Œæ‹“å±•æ€§çš„æè¿°)</li><li>ç†æ€è·¯ï¼šæ¢³ç†è¯¥æŠ€æœ¯çš„æ ¸å¿ƒæ€è·¯æˆ–è¿ä½œæµç¨‹ã€‚</li><li>åˆ—ä¼˜ç¼ºï¼šå¯¹è¯¥æŠ€æœ¯çš„ä¼˜ç‚¹ç¼ºç‚¹è¿›è¡Œåˆ—ä¸¾ï¼ˆä¸å…¶ä»–æŠ€æœ¯æ–¹æ¡ˆè¿›è¡Œæ¨ªå‘å¯¹æ¯”ï¼Œä½†åˆ‡å¿Œè¸©ä¸€æ§ä¸€ï¼ï¼‰</li></ul><h5 id="1ã€è®²Reactæ¦‚å¿µ"><a href="#1ã€è®²Reactæ¦‚å¿µ" class="headerlink" title="1ã€è®²Reactæ¦‚å¿µ"></a>1ã€è®²Reactæ¦‚å¿µ</h5><p><strong>Reactæ˜¯é€šè¿‡ç»„ä»¶åŒ–çš„æ–¹å¼è§£å†³è§†å›¾å±‚å¼€å‘å¤ç”¨çš„é—®é¢˜ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–æ¡†æ¶ã€‚</strong></p><p>ç®€å•æ¦‚æ‹¬ä¸ºï¼š View = fn(props)ï¼Œ ç»™å®šç›¸åŒçš„è¾“å…¥çŠ¶æ€ï¼Œå‡½æ•°æ€»ä¼šç”Ÿæˆä¸€è‡´çš„ç»„ä»¶ã€‚å¦‚æœå˜é‡å¤šä¸€äº›ï¼Œä¹Ÿå¯ä»¥æ‰©å±•ä¸º View = fn(props,state,context)</p><h5 id="2ã€è¯´Reactç”¨é€”"><a href="#2ã€è¯´Reactç”¨é€”" class="headerlink" title="2ã€è¯´Reactç”¨é€”"></a>2ã€è¯´Reactç”¨é€”</h5><p><strong>Reactçš„ç”¨é€”å°±æ˜¯ï¼šæ„å»ºè§†å›¾ã€‚</strong> Reactçš„ç”Ÿæ€ä¸°å¯Œäº†å®ƒçš„ä½¿ç”¨åœºæ™¯ï¼š</p><ul><li>é¦–å…ˆï¼ŒPCç½‘é¡µå’Œç§»åŠ¨ç«¯ç½‘é¡µï¼ŒReactéƒ½æ”¯æŒ</li><li>å…¶æ¬¡ï¼ŒReact Native å¯ç”¨äºå¼€å‘iosä¸Androidåº”ç”¨</li><li>React 360å¯ä»¥å¼€å‘VRåº”ç”¨</li><li>å†·é—¨çš„ink,å¯ä»¥ä½¿ç”¨Reactå¼€å‘å‘½ä»¤è¡Œåº”ç”¨ã€‚</li></ul><h5 id="3ã€ç†Reactæ€è·¯"><a href="#3ã€ç†Reactæ€è·¯" class="headerlink" title="3ã€ç†Reactæ€è·¯"></a>3ã€ç†Reactæ€è·¯</h5><p><strong>Reactçš„æ ¸å¿ƒæ€è·¯ï¼šå£°æ˜å¼ã€ç»„ä»¶åŒ–ã€é€šç”¨æ€§</strong>ï¼ˆå®˜æ–¹ç§°ï¼Œä¸€æ¬¡å­¦ä¹ ï¼Œéšå¤„ç¼–å†™ï¼‰</p><ul><li><strong>å£°æ˜å¼</strong>ï¼šä¼˜åŠ¿åœ¨äºç›´è§‚ï¼Œå¯ä»¥åšåˆ°ä¸€ç›®äº†ç„¶ï¼Œä¹Ÿä¾¿äºç»„åˆã€‚</li></ul><p>å‘½ä»¤å¼ç¼–ç¨‹ï¼š</p><pre><code class="hljs js"><span class="hljs-comment">//HTML</span>&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&#x27;block&#x27;</span>&gt;&lt;/div&gt;<span class="hljs-comment">//JS</span><span class="hljs-keyword">const</span> block=$(<span class="hljs-string">&#x27;.block&#x27;</span>)block.css(<span class="hljs-string">&#x27;color&#x27;</span>,<span class="hljs-string">&#x27;red&#x27;</span>)</code></pre><p>å£°æ˜å¼ç¼–ç¨‹ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> Block=<span class="hljs-function">(<span class="hljs-params">props</span>)=&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;color:</span>&#x27;<span class="hljs-attr">red</span>&#x27;&#125;&#125;&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></code></pre><p>å¯ä»¥å‘ç°ï¼Œå£°æ˜å¼ç¼–ç¨‹æ›´å®¹æ˜“é˜…è¯»ï¼Œè€Œä¸”æ›´å®¹æ˜“ä¸å…¶ä»–ç»„ä»¶ä»£ç ç»„åˆã€‚</p><ul><li><p><strong>ç»„ä»¶åŒ–</strong>ï¼šç»„ä»¶åŒ–ä¼˜åŠ¿åœ¨äºå¯ä»¥é™ä½ç³»ç»Ÿé—´åŠŸèƒ½çš„è€¦åˆæ€§ï¼Œæé«˜åŠŸèƒ½å†…éƒ¨çš„èšåˆæ€§ã€‚è¿™æ ·ä¾¿äºä»£ç å¤ç”¨ã€‚</p></li><li><p><strong>é€šç”¨æ€§</strong>ï¼šReactå°†DOMæŠ½è±¡ä¸ºè™šæ‹ŸDOMï¼Œå¼€å‘è€…å¹¶ä¸æ˜¯ç›´æ¥æ“ä½œDOMã€‚æ­£å› ä¸ºè¿™ä¸€å±‚å°è£…çš„å­˜åœ¨ï¼Œä½¿å¾—Reactä¸å†å±€é™äºwebå¼€å‘ï¼Œè€Œæ˜¯å‡ºç°æ›´ç¹è£çš„ç”Ÿæ€ã€‚ä¸è®ºVRï¼ŒNative,è¿˜æ˜¯shellå‘½ä»¤ï¼Œåªæœ‰å…¼å®¹è™šæ‹ŸDOMå±‚ï¼Œéƒ½å¯ä»¥ç›´æ¥è¿è¡ŒReactã€‚</p></li></ul><h5 id="4ã€åˆ—Reactä¼˜ç¼º"><a href="#4ã€åˆ—Reactä¼˜ç¼º" class="headerlink" title="4ã€åˆ—Reactä¼˜ç¼º"></a>4ã€åˆ—Reactä¼˜ç¼º</h5><ul><li><p>ä¼˜ç‚¹ï¼šå…¶å®å°±æ˜¯Reactçš„æ ¸å¿ƒè®¾è®¡æ€è·¯ï¼šå£°æ˜å¼ï¼Œç»„ä»¶åŒ–ï¼Œé€šç”¨æ€§ã€‚</p></li><li><p>ç¼ºç‚¹ï¼šReactä¸æ˜¯ä¸€ä¸ªä¸€æ½å­æ¡†æ¶ï¼Œæ¯”å¦‚è·¯ç”±ä¸€ç±»çš„åŠŸèƒ½ï¼ŒReactå›¢é˜Ÿå¸Œæœ›äº¤ç»™ç¤¾åŒºè§£å†³ã€‚å¯¼è‡´æŠ€æœ¯é€‰å‹å’Œå­¦ä¹ ä½¿ç”¨ä¸Šæœ‰è¾ƒé«˜çš„æˆæœ¬ï¼Œåœ¨å¼€å‘å¤§å‹å‰ç«¯åº”ç”¨æ—¶éœ€è¦å‘ç¤¾åŒºå¯»æ‰¾å¹¶æ•´åˆè§£å†³æ–¹æ¡ˆã€‚ï¼ˆéå®˜æ–¹çš„ä¸€æ½å­è§£å†³æ–¹æ¡ˆæ˜¯æœ‰çš„ï¼Œæ¯”å¦‚DvaJSã€React-coatç­‰ï¼‰</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•å®å…¸ä¹‹Reactç¯‡</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>React02-setStateçš„ä½¿ç”¨</title>
    <link href="/2020/11/27/React02-setState%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2020/11/27/React02-setState%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="setState-updater-callback"><a href="#setState-updater-callback" class="headerlink" title="setState(updater, [callback])"></a>setState(updater, [callback])</h3><h4 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h4><p>1ã€setState()å°†å¯¹ç»„ä»¶stateçš„æ›´æ–°æ’å…¥é˜Ÿåˆ—ï¼Œå¹¶é€šçŸ¥Reactéœ€è¦ä½¿ç”¨æ›´æ–°åçš„stateé‡æ–°æ¸²æŸ“æ­¤ç»„ä»¶åŠå…¶å­ç»„ä»¶ã€‚è¿™æ˜¯ç”¨äºæ›´æ–°ç”¨æˆ·ç•Œé¢ä»¥å“åº”äº‹ä»¶å¤„ç†å™¨å’Œå¤„ç†æœåŠ¡å™¨æ•°æ®çš„ä¸»è¦æ–¹å¼ã€‚</p><p>2ã€<strong>å°†setState()è§†ä¸ºè¯·æ±‚è€Œä¸æ˜¯ç«‹å³æ›´æ–°ç»„ä»¶çš„å‘½ä»¤</strong>ã€‚ä¸ºäº†æ›´å¥½çš„æ„ŸçŸ¥æ€§èƒ½ï¼ŒReactä¼šå»¶è¿Ÿè°ƒç”¨å®ƒï¼Œç„¶åé€šè¿‡ä¸€æ¬¡ä¼ é€’æ›´æ–°å¤šä¸ªç»„ä»¶ã€‚Reactå¹¶ä¸ä¼šä¿è¯stateçš„å˜æ›´ä¼šç«‹å³ç”Ÿæ•ˆã€‚</p><p>3ã€<strong>setState()å¹¶ä¸æ€»æ˜¯ç«‹å³æ›´æ–°ç»„ä»¶ï¼Œå®ƒä¼šæ‰¹é‡æ¨è¿Ÿæ›´æ–°</strong>ã€‚è¿™ä½¿å¾—åœ¨è°ƒç”¨setState()åç«‹å³è¯»å–this.stateæˆä¸ºäº†éšæ‚£ã€‚ä¸ºäº†æ¶ˆé™¤éšæ‚£ï¼Œåº”å½“ä½¿ç”¨componentDidUpdateæˆ–è€…setStateçš„å›è°ƒå‡½æ•°ï¼Œè¿™ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ä¿è¯åœ¨åº”ç”¨æ›´æ–°åè§¦å‘ã€‚å¦‚æœéœ€è¦åŸºäºä¹‹å‰çš„stateæ¥è®¾ç½®å½“å‰çš„stateï¼ŒæŸ¥çœ‹å…³äºupdateréƒ¨åˆ†çš„æè¿°ã€‚</p><p>4ã€é™¤éshouldComponentUpate()è¿”å›false,å¦åˆ™setState()å°†å§‹ç»ˆæ‰§è¡Œé‡æ–°æ¸²æŸ“æ“ä½œã€‚</p><h4 id="äºŒã€å‚æ•°1ï¼šupdaterå‡½æ•°"><a href="#äºŒã€å‚æ•°1ï¼šupdaterå‡½æ•°" class="headerlink" title="äºŒã€å‚æ•°1ï¼šupdaterå‡½æ•°"></a>äºŒã€å‚æ•°1ï¼šupdaterå‡½æ•°</h4><pre><code class="hljs js">(state,props) =&gt; stateChange</code></pre><p>å…¶ä¸­ï¼Œstateæ˜¯å¯¹åº”ç”¨å˜åŒ–æ—¶ç»„ä»¶çŠ¶æ€çš„å¼•ç”¨ï¼Œå®ƒä¸åº”è¯¥ç›´æ¥è¢«ä¿®æ”¹ã€‚åº”å½“ä½¿ç”¨åŸºäºstateå’Œpropsæ„å»ºçš„æ–°å¯¹è±¡æ¥è¡¨ç¤ºå˜åŒ–ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨props.stepæ¥å¢åŠ stateï¼š</p><pre><code class="hljs js"><span class="hljs-built_in">this</span>.setState(<span class="hljs-function">(<span class="hljs-params">state, props</span>)=&gt;</span>&#123;    <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">counter</span>: state.counter + props.step&#125;&#125;)</code></pre><p>updaterå‡½æ•°ä¸­æ¥æ”¶çš„stateå’Œpropséƒ½ä¿è¯ä¸ºæœ€æ–°ã€‚updaterçš„è¿”å›å€¼ä¼šä¸stateè¿›è¡Œæµ…åˆå¹¶ã€‚</p><p>ğŸ–ï¼šsetState()çš„ç¬¬ä¸€ä¸ªå‚æ•°é™¤äº†æ¥å—å‡½æ•°å¤–ï¼Œè¿˜æ¥å—å¯¹è±¡ç±»å‹ï¼š</p><pre><code class="hljs js">setState(stateChange[,callback])</code></pre><p>stateChangeä¼šå°†ä¼ å…¥çš„å¯¹è±¡æµ…åˆå¹¶åˆ°æ–°çš„stateä¸­ï¼Œä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-built_in">this</span>.setState(&#123;<span class="hljs-attr">counter</span>: <span class="hljs-number">2</span>&#125;)</code></pre><p>è¿™ç§å½¢å¼çš„setState()ä¹Ÿæ˜¯å¼‚æ­¥çš„ï¼å¹¶ä¸”åœ¨åŒä¸€ä¸ªå‘¨æœŸå†…å¯¹å¤šä¸ªsetStateè¿›è¡Œæ‰¹å¤„ç†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªæ—¶æœŸå¤šæ¬¡è®¾ç½®å•†å“æ•°é‡å¢åŠ ,åˆ™ç›¸å½“äºï¼š</p><pre><code class="hljs js"><span class="hljs-built_in">Object</span>.assign(    previousState,    &#123;<span class="hljs-attr">quantiity</span>: state.quantity + <span class="hljs-number">1</span>&#125;,    &#123;<span class="hljs-attr">quantiity</span>: state.quantity + <span class="hljs-number">1</span>&#125;)</code></pre><p>æ­¤æ—¶ï¼Œåè°ƒç”¨çš„setState()å°†è¦†ç›–åŒä¸€å‘¨æœŸå†…å…ˆè°ƒç”¨setStateçš„å€¼ï¼Œå› æ­¤å•†å“æ•°ä»…å¢åŠ 1æ¬¡ã€‚å¦‚æœåç»­çŠ¶æ€å–å†³äºå½“å‰çš„çŠ¶æ€ï¼Œå»ºè®®ä½¿ç”¨updaterå‡½æ•°çš„å½¢å¼ä»£æ›¿ï¼š</p><pre><code class="hljs js"><span class="hljs-built_in">this</span>.setState(<span class="hljs-function">(<span class="hljs-params">state</span>)=&gt;</span>&#123;    <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">quantity</span>: state.quantity + <span class="hljs-number">1</span>&#125;;&#125;)</code></pre><h4 id="ä¸‰ã€å‚æ•°2ï¼šå›è°ƒå‡½æ•°callback-ï¼ˆå¯é€‰ï¼‰"><a href="#ä¸‰ã€å‚æ•°2ï¼šå›è°ƒå‡½æ•°callback-ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="ä¸‰ã€å‚æ•°2ï¼šå›è°ƒå‡½æ•°callback ï¼ˆå¯é€‰ï¼‰"></a>ä¸‰ã€å‚æ•°2ï¼šå›è°ƒå‡½æ•°callback ï¼ˆå¯é€‰ï¼‰</h4><p>è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œ<strong>å°†åœ¨setStateå®Œæˆåˆå¹¶å¹¶é‡æ–°æ¸²æŸ“ç»„ä»¶åæ‰§è¡Œ</strong>ã€‚é€šå¸¸ï¼Œå»ºè®®ä½¿ç”¨componentDidUpdate()æ–¹å¼æ¥ä»£æ›¿è¿™ä¸ªå›è°ƒå‡½æ•°çš„ä½¿ç”¨ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Reactå­¦ä¹ </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>React01--refçš„ä½¿ç”¨</title>
    <link href="/2020/11/24/React01-ref%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2020/11/24/React01-ref%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="refçš„è¯¦ç»†ç”¨æ³•"><a href="#refçš„è¯¦ç»†ç”¨æ³•" class="headerlink" title="refçš„è¯¦ç»†ç”¨æ³•"></a>refçš„è¯¦ç»†ç”¨æ³•</h2><p>åœ¨reactå…¸å‹çš„æ•°æ®æµä¸­ï¼Œpropsä¼ é€’æ—¶çˆ¶å­ç»„ä»¶äº¤äº’çš„å”¯ä¸€æ–¹å¼ï¼šé€šè¿‡ä¼ é€’ä¸€ä¸ªæ–°çš„propså€¼æ¥ä½¿å­ç»„ä»¶é‡æ–°renderï¼Œä»è€Œè¾¾åˆ°çˆ¶å­ç»„ä»¶é€šä¿¡ã€‚ä½†æ˜¯ï¼ŒæŸäº›æƒ…å†µä¸‹ï¼Œä½ éœ€è¦åœ¨å…¸å‹æ•°æ®æµä¹‹å¤–å¼ºåˆ¶ä¿®æ”¹å­ç»„ä»¶ã€‚æ¯”å¦‚ï¼š</p><ul><li>ç®¡ç†ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©æˆ–è€…åª’ä½“æ’­æ”¾</li><li>è§¦å‘å¼ºåˆ¶åŠ¨ç”»</li><li>é›†æˆç¬¬ä¸‰æ–¹DOMåº“</li></ul><p>è¿™äº›æƒ…å†µä¸‹ï¼Œreactæä¾›äº†æ–°çš„æ–¹æ¡ˆï¼šref</p><h4 id="ä¸€ã€refç®€ä»‹"><a href="#ä¸€ã€refç®€ä»‹" class="headerlink" title="ä¸€ã€refç®€ä»‹"></a>ä¸€ã€refç®€ä»‹</h4><p>Reactæä¾›çš„refå±æ€§ï¼Œ<strong>è¡¨ç¤ºå¯¹ç»„ä»¶çœŸæ­£å®ä¾‹çš„å¼•ç”¨</strong>ï¼Œå…¶å®å°±æ˜¯ReactDOM.render()è¿”å›çš„ç»„ä»¶å®ä¾‹ã€‚éœ€è¦åŒºåˆ†ä¸€ä¸‹ï¼šReactDOM.render()æ¸²æŸ“ç»„ä»¶æ—¶è¿”å›çš„æ˜¯ç»„ä»¶å®ä¾‹ï¼›è€Œæ¸²æŸ“domå…ƒç´ æ—¶ï¼Œè¿”å›çš„æ˜¯å…·ä½“çš„domèŠ‚ç‚¹ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> domCom = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;<span class="hljs-keyword">const</span> refDom = ReactDOM.render(domCom,container);<span class="hljs-keyword">const</span> refCom = ReactDOM.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">myComponent</span> /&gt;</span></span>,container);<span class="hljs-built_in">console</span>.log(refDom);<span class="hljs-built_in">console</span>.log(refCom);</code></pre><p>ä¸Šè¿°ä»£ç è¿è¡Œå¦‚ä¸‹ï¼š<br><img src="https://pic.downk.cc/item/5fbcde31b18d6271133f9065.jpg"></p><p>refå¯ä»¥æŒ‚åœ¨ä»»ä½•ç»„ä»¶ä¸Šï¼Œå¯ä»¥æŒ‚åœ¨ç»„ä»¶ä¸Šä¹Ÿå¯ä»¥æ˜¯domå…ƒç´ ä¸Šï¼š</p><ul><li><font face='é»‘ä½“' size=4 color=red>æŒ‚åœ¨ç»„ä»¶ä¸Šï¼ˆæŒ‡æœ‰çŠ¶æ€ç»„ä»¶ï¼‰çš„refè¡¨ç¤ºå¯¹ç»„ä»¶å®ä¾‹çš„å¼•ç”¨</li><li>æŒ‚è½½åˆ°domå…ƒç´ ä¸Šæ—¶è¡¨ç¤ºå…·ä½“çš„domèŠ‚ç‚¹ </font></li></ul><h4 id="äºŒã€refå¯ä»¥è®¾ç½®å›è°ƒå‡½æ•°"><a href="#äºŒã€refå¯ä»¥è®¾ç½®å›è°ƒå‡½æ•°" class="headerlink" title="äºŒã€refå¯ä»¥è®¾ç½®å›è°ƒå‡½æ•°"></a>äºŒã€refå¯ä»¥è®¾ç½®å›è°ƒå‡½æ•°</h4><p>refå±æ€§å¯ä»¥è®¾ç½®ä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿™ä¹Ÿæ˜¯å®˜æ–¹æ¨èçš„åšæ³•ã€‚è¿™ä¸ªå‡½æ•°çš„æ‰§è¡Œæ—¶æœºä¸ºï¼š</p><ul><li><font color=blue>ç»„ä»¶è¢«æŒ‚è½½å</font>ï¼Œå›è°ƒå‡½æ•°ç«‹å³æ‰§è¡Œï¼Œå›è°ƒå‡½æ•°çš„å‚æ•°ä¸ºè¯¥ç»„ä»¶çš„å…·ä½“å®ä¾‹ã€‚</li><li><font color=blue>ç»„ä»¶è¢«å¸è½½æˆ–è€…åŸæœ‰çš„refå±æ€§æœ¬èº«å‘ç”Ÿå˜åŒ–æ—¶</font>ï¼Œå›è°ƒä¹Ÿä¼šè¢«ç«‹å³æ‰§è¡Œï¼Œæ­¤æ—¶å›è°ƒå‡½æ•°å‚æ•°ä¸ºnullï¼Œä»¥é¿å…å†…å­˜æ³„æ¼ã€‚</li></ul><p>ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-comment">//ä½¿ç”¨refå­˜å‚¨DOMèŠ‚ç‚¹çš„å¼•ç”¨ï¼š</span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomTextInput</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;  <span class="hljs-function"><span class="hljs-title">construtor</span>(<span class="hljs-params">props</span>)</span> &#123;    <span class="hljs-built_in">super</span>(props);    <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªrefæ¥å­˜å‚¨ textInput çš„DOMå…ƒç´ </span>    <span class="hljs-built_in">this</span>.textInput = React.createRef();    <span class="hljs-built_in">this</span>.focusTextInput = <span class="hljs-built_in">this</span>.focusTextInput.bind(<span class="hljs-built_in">this</span>);  &#125;  <span class="hljs-function"><span class="hljs-title">focusTextInput</span>(<span class="hljs-params"></span>)</span> &#123;    <span class="hljs-comment">//ç›´æ¥ä½¿ç”¨åŸç”Ÿçš„APIæ¥ä½¿å¾— textè¾“å…¥æ¡†è·å¾—ç„¦ç‚¹</span>    <span class="hljs-comment">//æ³¨æ„ï¼šæˆ‘ä»¬é€šè¿‡â€œcurrentâ€ æ¥è®¿é—®DOMèŠ‚ç‚¹</span>    <span class="hljs-built_in">this</span>.textInput.current.focus();  &#125;  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;    <span class="hljs-comment">//å‘Šè¯‰Reacts æˆ‘ä»¬æƒ³æŠŠ&lt;input&gt; ref</span>    <span class="hljs-comment">//å…³è”åˆ°constructoré‡Œé¢çš„&#x27;textInput&#x27;ä¸Š</span>    <span class="hljs-keyword">return</span> (      &lt;div&gt;        &lt;input  type=<span class="hljs-string">&#x27;text&#x27;</span> ref=&#123;<span class="hljs-built_in">this</span>.textInput&#125;/&gt;        &lt;input type=<span class="hljs-string">&#x27;button&#x27;</span> value=<span class="hljs-string">&#x27;focus the text input&#x27;</span> onClick=&#123;<span class="hljs-built_in">this</span>.focusTextInput&#125; /&gt;      &lt;/div&gt;    )  &#125;&#125;</code></pre><p>ä¸Šè¿°ä»£ç ä¸­ï¼ŒReactå°†åœ¨ç»„ä»¶æŒ‚è½½æ—¶ï¼Œä¼šè°ƒç”¨refå›è°ƒå‡½æ•°å¹¶ä¼ å…¥DOMå…ƒç´ ï¼Œå½“å¸è½½æ—¶ä¹Ÿè°ƒç”¨å®ƒå¹¶ä¼ å…¥nullã€‚åœ¨componentDidMount æˆ– componentDidUpdateè§¦å‘å‰ï¼ŒReactä¼šä¿è¯refsä¸€å®šæ˜¯æœ€æ–°çš„ã€‚</p><h4 id="ä¸‰ã€refå¯ä»¥è®¾ç½®å­—ç¬¦ä¸²-äº†è§£"><a href="#ä¸‰ã€refå¯ä»¥è®¾ç½®å­—ç¬¦ä¸²-äº†è§£" class="headerlink" title="ä¸‰ã€refå¯ä»¥è®¾ç½®å­—ç¬¦ä¸² (äº†è§£)"></a>ä¸‰ã€refå¯ä»¥è®¾ç½®å­—ç¬¦ä¸² (äº†è§£)</h4><p>&emsp;refè¿˜å¯ä»¥è®¾ç½®ä¸ºå­—ç¬¦ä¸²å€¼ï¼Œä¸è¿‡è¿™ç§æ–¹å¼åŸºæœ¬ä¸å†æ¨èä½¿ç”¨ã€‚</p><pre><code class="hljs js">&lt;input ref=<span class="hljs-string">&#x27;title&#x27;</span> /&gt;</code></pre><p>&emsp;ç„¶åå†å…¶ä»–åœ°æ–¹å¦‚äº‹ä»¶å›è°ƒä¸­é€šè¿‡<strong>this.refs</strong>å¯ä»¥è®¿é—®è¯¥ç»„ä»¶å®ä¾‹ï¼Œå…¶å®å°±æ˜¯domèŠ‚ç‚¹</p><pre><code class="hljs js"><span class="hljs-keyword">let</span> element = <span class="hljs-built_in">this</span>.refs.title;</code></pre><p>æˆ‘çš„githubé‡Œreact-demosé¡¹ç›®ä¸‹ï¼Œquestionåˆ†æ”¯æ¨¡ä»¿çŸ¥ä¹é—®ç­”çš„ä¾‹å­ï¼Œå°±ä½¿ç”¨äº†refçš„è¿™ä¸ªç”¨æ³•ã€‚<a href="https://github.com/DENGCPU/React-demos/blob/question/README.md">ç®€å•çŸ¥ä¹é—®ç­”demo</a></p><h4 id="å››ã€åˆ›å»ºä¸è®¿é—®Refs"><a href="#å››ã€åˆ›å»ºä¸è®¿é—®Refs" class="headerlink" title="å››ã€åˆ›å»ºä¸è®¿é—®Refs"></a>å››ã€åˆ›å»ºä¸è®¿é—®Refs</h4><p><strong>1.åˆ›å»ºrefs:</strong></p><p>&emsp;refsæ˜¯ä½¿ç”¨<font color=green>React.createRef()</font>åˆ›å»ºçš„ï¼Œå¹¶é€šè¿‡refå±æ€§é™„åŠ åˆ°Reactå…ƒç´ ã€‚åœ¨æ„å»ºç»„ä»¶æ—¶ï¼Œé€šå¸¸å°†refsåˆ†é…ç»™ç»„ä»¶å®ä¾‹å±æ€§ï¼Œä»¥ä¾¿åœ¨æ•´ä¸ªç»„ä»¶ä¸­éƒ½å¼•ç”¨å®ƒä»¬ã€‚</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">props</span>)</span> &#123;    <span class="hljs-built_in">super</span>(props);    <span class="hljs-built_in">this</span>.myRef = React.createRef();  &#125;  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.myRef&#125;</span> /&gt;</span></span>;  &#125;&#125;</code></pre><p><strong>2.è®¿é—®refs:</strong></p><p>&emsp;å½“refè¢«ä¼ é€’ç»™renderä¸­çš„å…ƒç´ æ—¶ï¼Œå¯¹è¯¥èŠ‚ç‚¹çš„å¼•ç”¨å¯ä»¥åœ¨refçš„<font color=red>current</font>å±æ€§ä¸­è¢«è®¿é—®ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> node = <span class="hljs-built_in">this</span>.myRef.current;</code></pre><p>refçš„å€¼æ ¹æ®èŠ‚ç‚¹ç±»å‹ä¸åŒè€Œæœ‰æ‰€ä¸åŒï¼š</p><ul><li>å½“refå±æ€§ç”¨äºHTMLå…ƒç´ æ—¶ï¼Œæ„é€ å‡½æ•°ä¸­ä½¿ç”¨ React.createRef() åˆ›å»ºçš„ ref æ¥æ”¶åº•å±‚ DOM å…ƒç´ ä½œä¸ºå…¶ current å±æ€§ã€‚</li><li>å½“refå±æ€§ç”¨äºè‡ªå®šä¹‰classç»„ä»¶æ—¶ï¼Œrefå¯¹è±¡æ¥æ”¶ç»„ä»¶çš„æŒ‚è½½å®ä¾‹ä½œä¸ºå…¶currentå±æ€§ã€‚</li></ul><p>ğŸ–ï¼šä¸èƒ½åœ¨å‡½æ•°ç»„ä»¶ä¸Šä½¿ç”¨refå±æ€§ï¼Œå› ä¸ºä»–ä»¬æ²¡æœ‰å®ä¾‹ï¼</p><p>å‚è€ƒï¼š<a href="https://juejin.cn/post/6844903749211652104">React refçš„åŸºæœ¬ä½¿ç”¨</a> ä»¥åŠ <a href="https://zh-hans.reactjs.org/docs/refs-and-the-dom.html">Reactå®˜æ–¹æ–‡æ¡£â€“Refs and The Dom</a></p>]]></content>
    
    
    <categories>
      
      <category>Reactå­¦ä¹ </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>28-æ—¶åˆ»è€ƒè™‘æ€§èƒ½é—®é¢˜</title>
    <link href="/2020/11/21/28-%E6%97%B6%E5%88%BB%E8%80%83%E8%99%91%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98/"/>
    <url>/2020/11/21/28-%E6%97%B6%E5%88%BB%E8%80%83%E8%99%91%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h4 id="ä¸€ã€å¦‚ä½•é¿å…æ€§èƒ½é—®é¢˜ï¼š"><a href="#ä¸€ã€å¦‚ä½•é¿å…æ€§èƒ½é—®é¢˜ï¼š" class="headerlink" title="ä¸€ã€å¦‚ä½•é¿å…æ€§èƒ½é—®é¢˜ï¼š"></a>ä¸€ã€å¦‚ä½•é¿å…æ€§èƒ½é—®é¢˜ï¼š</h4><p>1ã€äº†è§£å¸¸è§çš„æ€§èƒ½é—®é¢˜åœºæ™¯ï¼ˆè§£å†³æœ€å¯èƒ½äº§ç”Ÿæ€§èƒ½é—®é¢˜çš„åœºæ™¯ï¼‰</p><ul><li>  é”®ç›˜è¾“å…¥è¿‡ç¨‹å¡é¡¿</li><li>  é¼ æ ‡çš„ç§»åŠ¨è¿‡ç¨‹å¡é¡¿</li></ul><p>2ã€æ—¶åˆ»æ³¨æ„ä»£ç çš„æ½œåœ¨æ€§èƒ½é—®é¢˜</p><ul><li>ä»€ä¹ˆæ—¶å€™æ‹†åˆ†ç»„ä»¶</li><li>ç»„ä»¶ç²’åº¦æ˜¯å¦å¤Ÿç»†</li></ul><p>3ã€æ³¨æ„å¯é‡æ„çš„ä»£ç </p><ul><li>ä»£ç çš„è€¦åˆæ€§å¿…é¡»ä½ï¼ŒåŠŸèƒ½æ¨¡å—éå¸¸ç‹¬ç«‹</li></ul><p>4ã€äº†è§£å¦‚ä½•ä½¿ç”¨å·¥å…·å®šä½æ€§èƒ½é—®é¢˜ï¼š</p><ul><li>React-devTool</li><li>Chrome-devTool</li></ul><h4 id="äºŒã€ç½‘ç»œæ€§èƒ½ä¼˜åŒ–ï¼šè‡ªåŠ¨åŒ–æŒ‰éœ€åŠ è½½"><a href="#äºŒã€ç½‘ç»œæ€§èƒ½ä¼˜åŒ–ï¼šè‡ªåŠ¨åŒ–æŒ‰éœ€åŠ è½½" class="headerlink" title="äºŒã€ç½‘ç»œæ€§èƒ½ä¼˜åŒ–ï¼šè‡ªåŠ¨åŒ–æŒ‰éœ€åŠ è½½"></a>äºŒã€ç½‘ç»œæ€§èƒ½ä¼˜åŒ–ï¼šè‡ªåŠ¨åŒ–æŒ‰éœ€åŠ è½½</h4><p>å¦‚ä½•åœ¨reactä¸­å®ç°æŒ‰éœ€åŠ è½½ï¼š<br>1ã€æŒ‰éœ€åŠ è½½ï¼šç”¨æˆ·å½“å‰éœ€è¦ç”¨ä»€ä¹ˆåŠŸèƒ½å°±åªåŠ è½½è¿™ä¸ªåŠŸèƒ½å¯¹åº”çš„ä»£ç ã€‚<br>2ã€ä½¿ç”¨Webpackçš„import API<br>3ã€ä½¿ç”¨react-loadableåº“å®ç°Reactå¼‚æ­¥åŠ è½½</p><p><img src="https://pic.downk.cc/item/5fb913a4b18d627113603f84.jpg" alt="æŒ‰éœ€åŠ è½½"></p><h4 id="ä¸‰ã€ä½¿ç”¨Reselecté¿å…é‡å¤è®¡ç®—"><a href="#ä¸‰ã€ä½¿ç”¨Reselecté¿å…é‡å¤è®¡ç®—" class="headerlink" title="ä¸‰ã€ä½¿ç”¨Reselecté¿å…é‡å¤è®¡ç®—"></a>ä¸‰ã€ä½¿ç”¨Reselecté¿å…é‡å¤è®¡ç®—</h4><p>Reselect:åˆ›å»ºè‡ªåŠ¨ç¼“å­˜çš„æ•°æ®å¤„ç†æµç¨‹ï¼ˆåªæœ‰æ•°æ®å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—ï¼Œå¦åˆ™ä½¿ç”¨ç¼“å­˜çš„ç»“æœï¼‰</p><p><strong>åŸåˆ™</strong>:æ‰€æœ‰èƒ½å¤Ÿè®¡ç®—å¾—åˆ°çš„æ•°æ®ä¸€å®šæ˜¯é€šè¿‡è®¡ç®—æ‹¿åˆ°</p><p><img src="https://pic.downk.cc/item/5fb91595b18d62711360ba51.jpg" alt="è‡ªåŠ¨ç¼“å­˜"></p><h4 id="å››ã€Reactå¼‚æ­¥æ¸²æŸ“"><a href="#å››ã€Reactå¼‚æ­¥æ¸²æŸ“" class="headerlink" title="å››ã€Reactå¼‚æ­¥æ¸²æŸ“"></a>å››ã€Reactå¼‚æ­¥æ¸²æŸ“</h4><p><img src="https://pic.downk.cc/item/5fb918ffb18d62711361b0b2.jpg"></p><p><strong>æ—¶é—´åˆ†ç‰‡ï¼š</strong><br>1ã€è™šæ‹ŸDOMçš„diffæ“ä½œå¯ä»¥åˆ†ç‰‡è¿›è¡Œ<br>2ã€Reactæ–°APIï¼šunstable_deferredUpdates<br>3ã€Chromeæ–°APIï¼šrequestIdleCallback æµè§ˆå™¨ä»€ä¹ˆæ—¶å€™ç©ºé—²</p><p><strong>æ¸²æŸ“æŒ‚èµ·ï¼š</strong></p><p>1ã€unstable_deferUpdate<br>2ã€Reactçš„æ–°å†…ç½®ç»„ä»¶ï¼šTimeoutç»„ä»¶</p><h4 id="äº”ã€ä½¿ç”¨å·¥å…·å‘ç°æ€§èƒ½é—®é¢˜"><a href="#äº”ã€ä½¿ç”¨å·¥å…·å‘ç°æ€§èƒ½é—®é¢˜" class="headerlink" title="äº”ã€ä½¿ç”¨å·¥å…·å‘ç°æ€§èƒ½é—®é¢˜"></a>äº”ã€ä½¿ç”¨å·¥å…·å‘ç°æ€§èƒ½é—®é¢˜</h4><p>1ã€ä½¿ç”¨React DevToolæ‰¾åˆ°å¤šä½™æ¸²æŸ“<br>2ã€ä½¿ç”¨Chrome DevToolå®šä½æ€§èƒ½ç“¶é¢ˆ</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>27-Reactä¸­æ‹–æ”¾çš„å®ç°</title>
    <link href="/2020/11/21/27-React%E4%B8%AD%E6%8B%96%E6%94%BE%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <url>/2020/11/21/27-React%E4%B8%AD%E6%8B%96%E6%94%BE%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
    
    <content type="html"><![CDATA[<p><strong>ç¬¬ä¸‰æ–¹åº“å®ç°æ‹–æ”¾çš„ç¼ºé™·ï¼š</strong></p><ul><li>ç¬¬ä¸‰æ–¹åº“å®ç°æ‹–æ”¾ä¸å¤Ÿçµæ´»ï¼Œ</li><li>å¾ˆå¤šåœºæ™¯æ¯”è¾ƒç®€å•ï¼Œå¹¶ä¸éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹åº“</li><li>å¢åŠ é¢å¤–çš„ä½“ç§¯ä¼šå½±å“æ€§èƒ½ã€‚</li></ul><p><strong>å®ç°æ‹–æ”¾çš„æŠ€æœ¯è¦ç‚¹ï¼š</strong></p><p>1ã€å¦‚ä½•ä½¿ç”¨Reactçš„é¼ æ ‡äº‹ä»¶ç³»ç»Ÿ<br>2ã€å¦‚ä½•åˆ¤æ–­æ‹–æ”¾å¼€å§‹å’Œç»“æŸ<br>3ã€å¦‚ä½•è®©å®ç°æ‹–æ”¾å…ƒç´ çš„ä½ç½®ç§»åŠ¨<br>4ã€æ‹–æ”¾çŠ¶æ€åœ¨ç»„ä»¶ä¸­å¦‚ä½•ç»´æŠ¤</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>26-Reacté›†æˆç¬¬ä¸‰æ–¹JSåº“ï¼ˆd3.jsä¸ºä¾‹ï¼‰</title>
    <link href="/2020/11/21/26-React%E9%9B%86%E6%88%90%E7%AC%AC%E4%B8%89%E6%96%B9JS%E5%BA%93%EF%BC%88d3-js%E4%B8%BA%E4%BE%8B%EF%BC%89/"/>
    <url>/2020/11/21/26-React%E9%9B%86%E6%88%90%E7%AC%AC%E4%B8%89%E6%96%B9JS%E5%BA%93%EF%BC%88d3-js%E4%B8%BA%E4%BE%8B%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h4 id="é›†æˆç¬¬ä¸‰æ–¹JSåº“çš„æŠ€æœ¯è¦ç‚¹ï¼š"><a href="#é›†æˆç¬¬ä¸‰æ–¹JSåº“çš„æŠ€æœ¯è¦ç‚¹ï¼š" class="headerlink" title="é›†æˆç¬¬ä¸‰æ–¹JSåº“çš„æŠ€æœ¯è¦ç‚¹ï¼š"></a>é›†æˆç¬¬ä¸‰æ–¹JSåº“çš„æŠ€æœ¯è¦ç‚¹ï¼š</h4><p>1ã€ä½¿ç”¨refè·å–åŸç”ŸDOMèŠ‚ç‚¹å¼•ç”¨<br>2ã€æ‰‹åŠ¨å°†ç»„ä»¶çŠ¶æ€æ›´æ–°åˆ°DOMèŠ‚ç‚¹<br>3ã€ç»„ä»¶é”€æ¯æ—¶ç§»é™¤åŸç”ŸèŠ‚ç‚¹DOMäº‹ä»¶</p><p>d3.jsç”¨æ¥ç”»å›¾å½¢çš„ç¬¬ä¸‰æ–¹åº“ï¼Œæ“ä½œåŸç”ŸDOMèŠ‚ç‚¹ï¼Œä¹Ÿæ˜¯ä»¥æ•°æ®é©±åŠ¨ï¼ˆä¸Reactéå¸¸å»åˆï¼‰ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>25-ä½¿ç”¨React-Routerå®ç°åˆ†å¸ƒæ“ä½œ</title>
    <link href="/2020/11/21/25-%E4%BD%BF%E7%94%A8React-Router%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E6%93%8D%E4%BD%9C/"/>
    <url>/2020/11/21/25-%E4%BD%BF%E7%94%A8React-Router%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h4 id="å‘å¯¼é¡µé¢éœ€è¦è€ƒè™‘çš„æŠ€æœ¯è¦ç‚¹ï¼š"><a href="#å‘å¯¼é¡µé¢éœ€è¦è€ƒè™‘çš„æŠ€æœ¯è¦ç‚¹ï¼š" class="headerlink" title="å‘å¯¼é¡µé¢éœ€è¦è€ƒè™‘çš„æŠ€æœ¯è¦ç‚¹ï¼š"></a>å‘å¯¼é¡µé¢éœ€è¦è€ƒè™‘çš„æŠ€æœ¯è¦ç‚¹ï¼š</h4><p>ä¾‹å­ï¼šä¸€ä¸ªå‘å¯¼é¡µé¢<br><img src="https://pic.downk.cc/item/5fb8dbeab18d62711350c62f.jpg"></p><p>1ã€ä½¿ç”¨URLè¿›è¡Œå¯¼èˆª<br>2ã€è¡¨å•æ•°æ®å¦‚ä½•ç®¡ç†<br>3.é¡µé¢çŠ¶æ€å¦‚ä½•åˆ‡æ¢ï¼ˆæ ¹æ®æ•°æ®çš„çŠ¶æ€å†³å®šUIçš„çŠ¶æ€ï¼‰</p><h4 id="åŸºäºè·¯ç”±å®ç°èœå•å¯¼èˆªï¼š"><a href="#åŸºäºè·¯ç”±å®ç°èœå•å¯¼èˆªï¼š" class="headerlink" title="åŸºäºè·¯ç”±å®ç°èœå•å¯¼èˆªï¼š"></a>åŸºäºè·¯ç”±å®ç°èœå•å¯¼èˆªï¼š</h4><p>æŠ€æœ¯è¦ç‚¹ï¼š<br>1.èœå•å¯¼èˆªåªæ”¹å˜URLçŠ¶æ€<br>2.æ ¹æ®å½“å‰URLæ˜¾ç¤ºèœå•çš„å½“å‰çŠ¶æ€ã€‚</p><p>å¯ä»¥ä½¿ç”¨react-routerçš„NavLink,å±•ç¤ºå½“å‰çš„é€‰ä¸­çŠ¶æ€ ï¼ˆNavLinkçš„activeClassNameå±æ€§ï¼‰</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>24-é¡µé¢æ•°æ®æ¥æºäºå¤šä¸ªè¯·æ±‚</title>
    <link href="/2020/11/21/24-%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90%E4%BA%8E%E5%A4%9A%E4%B8%AA%E8%AF%B7%E6%B1%82/"/>
    <url>/2020/11/21/24-%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90%E4%BA%8E%E5%A4%9A%E4%B8%AA%E8%AF%B7%E6%B1%82/</url>
    
    <content type="html"><![CDATA[<h4 id="ä¸€ã€é¡µé¢æ•°æ®æ¥è‡ªå¤šä¸ªè¯·æ±‚ï¼š"><a href="#ä¸€ã€é¡µé¢æ•°æ®æ¥è‡ªå¤šä¸ªè¯·æ±‚ï¼š" class="headerlink" title="ä¸€ã€é¡µé¢æ•°æ®æ¥è‡ªå¤šä¸ªè¯·æ±‚ï¼š"></a>ä¸€ã€é¡µé¢æ•°æ®æ¥è‡ªå¤šä¸ªè¯·æ±‚ï¼š</h4><p>1ã€è¯·æ±‚ä¹‹é—´æ— ä¾èµ–å…³ç³»æ—¶ï¼Œå¤šä¸ªè¯·æ±‚å¯ä»¥å¹¶å‘è¿›è¡Œ</p><p>2ã€è¯·æ±‚ä¹‹é—´æœ‰ä¾èµ–å…³ç³»æ—¶ï¼Œéœ€è¦ä¾æ¬¡è¿›è¡Œ</p><p>3ã€è¯·æ±‚å®Œæˆä¹‹å‰ï¼Œé¡µé¢æ˜¾ç¤ºLodingçŠ¶æ€<br>ï¼ˆLodingå¯èƒ½å¹¶ä¸éœ€è¦ç‰¹åˆ«è®¾ä¸ºä¸€ä¸ªçŠ¶æ€å€¼ï¼Œå¯ä»¥æ ¹æ®æ•°æ®çš„çŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºâ€™Loding..â€™)</p><h4 id="äºŒã€å†…å®¹é¡µçš„åŠ è½½ä¸ç¼“å­˜"><a href="#äºŒã€å†…å®¹é¡µçš„åŠ è½½ä¸ç¼“å­˜" class="headerlink" title="äºŒã€å†…å®¹é¡µçš„åŠ è½½ä¸ç¼“å­˜"></a>äºŒã€å†…å®¹é¡µçš„åŠ è½½ä¸ç¼“å­˜</h4><p><img src="https://pic.downk.cc/item/5fb8da68b18d627113503356.jpg"></p><p><strong>å†…å®¹é¡µå’Œåˆ—è¡¨é¡µçš„æ•°æ®å…³ç³»ï¼š</strong></p><ul><li>ç®€å•ä¸šåŠ¡ï¼šåˆ—è¡¨é¡µæ•°æ®åŒ…å«å†…å®¹é¡µçš„æ•°æ®</li><li>å¤æ‚ä¸šåŠ¡ï¼šå†…å®¹é¡µæ•°æ®éœ€è¦é¢å¤–è·å–</li><li>å†…å®¹é¡µæ•°æ®çš„ç¼“å­˜</li></ul><p>ğŸ–ï¼šå†…å®¹é¡µä¸èƒ½åªä¾é åˆ—è¡¨é¡µè¿›è¡Œï¼Œç”¨æˆ·å¯èƒ½åˆ·æ–°é¡µé¢ï¼Œæ‰€ä»¥å®ƒè‡ªå·±ä¹Ÿéœ€è¦å®šä¹‰ä¸€ä¸ªè®¿é—®æ¥å£çš„actionã€‚</p><p><img src="https://pic.downk.cc/item/5fb8d9d7b18d627113500886.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>23-åœ¨Reactä¸­å®ç°åˆ—è¡¨é¡µ</title>
    <link href="/2020/11/20/23-%E5%9C%A8React%E4%B8%AD%E5%AE%9E%E7%8E%B0%E5%88%97%E8%A1%A8%E9%A1%B5/"/>
    <url>/2020/11/20/23-%E5%9C%A8React%E4%B8%AD%E5%AE%9E%E7%8E%B0%E5%88%97%E8%A1%A8%E9%A1%B5/</url>
    
    <content type="html"><![CDATA[<h4 id="ä¸€ã€åˆ—è¡¨é¡µï¼šæœç´¢ã€æ•°æ®ç¼“å­˜å’Œåˆ†é¡µ"><a href="#ä¸€ã€åˆ—è¡¨é¡µï¼šæœç´¢ã€æ•°æ®ç¼“å­˜å’Œåˆ†é¡µ" class="headerlink" title="ä¸€ã€åˆ—è¡¨é¡µï¼šæœç´¢ã€æ•°æ®ç¼“å­˜å’Œåˆ†é¡µ"></a>ä¸€ã€åˆ—è¡¨é¡µï¼šæœç´¢ã€æ•°æ®ç¼“å­˜å’Œåˆ†é¡µ</h4><p>å¼€å‘åˆ—è¡¨é¡µéœ€è¦è€ƒè™‘çš„æŠ€æœ¯è¦ç‚¹ï¼š</p><ul><li>å¦‚ä½•ç¿»é¡µ</li><li>å¦‚ä½•è¿›è¡Œå†…å®¹æœç´¢</li><li>å¦‚ä½•ç¼“å­˜æ•°æ®</li><li>ä½•æ—¶è¿›è¡Œé¡µé¢åˆ·æ–°</li></ul><p><img src="https://pic.downk.cc/item/5fb76b52b18d627113ee2145.jpg" alt="åˆ—è¡¨é¡µçš„æ•°æ®æ¨¡å‹"></p><p><img src="https://pic.downk.cc/item/5fb76b8eb18d627113ee2fe8.jpg" alt="Storeçš„è®¾è®¡"></p><p><img src="https://pic.downk.cc/item/5fb76ccbb18d627113ee8a4b.jpg" alt="URLè®¾è®¡å’ŒStoreåŒæ­¥"></p><h4 id="äºŒã€åˆ—è¡¨é¡µï¼šç¼“å­˜æ›´æ–°ã€åŠ è½½çŠ¶æ€ä»¥åŠé”™è¯¯å¤„ç†"><a href="#äºŒã€åˆ—è¡¨é¡µï¼šç¼“å­˜æ›´æ–°ã€åŠ è½½çŠ¶æ€ä»¥åŠé”™è¯¯å¤„ç†" class="headerlink" title="äºŒã€åˆ—è¡¨é¡µï¼šç¼“å­˜æ›´æ–°ã€åŠ è½½çŠ¶æ€ä»¥åŠé”™è¯¯å¤„ç†"></a>äºŒã€åˆ—è¡¨é¡µï¼šç¼“å­˜æ›´æ–°ã€åŠ è½½çŠ¶æ€ä»¥åŠé”™è¯¯å¤„ç†</h4><p><img src="https://pic.downk.cc/item/5fb76f47b18d627113ef65f6.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>22-åœ¨Reactä¸­å®ç°è¡¨å•</title>
    <link href="/2020/11/20/22-%E5%9C%A8React%E4%B8%AD%E5%AE%9E%E7%8E%B0%E8%A1%A8%E5%8D%95/"/>
    <url>/2020/11/20/22-%E5%9C%A8React%E4%B8%AD%E5%AE%9E%E7%8E%B0%E8%A1%A8%E5%8D%95/</url>
    
    <content type="html"><![CDATA[<h4 id="ä¸€ã€å®ç°è¡¨å•ï¼šåˆå§‹æ•°æ®ã€æäº¤å’Œè·³è½¬"><a href="#ä¸€ã€å®ç°è¡¨å•ï¼šåˆå§‹æ•°æ®ã€æäº¤å’Œè·³è½¬" class="headerlink" title="ä¸€ã€å®ç°è¡¨å•ï¼šåˆå§‹æ•°æ®ã€æäº¤å’Œè·³è½¬"></a>ä¸€ã€å®ç°è¡¨å•ï¼šåˆå§‹æ•°æ®ã€æäº¤å’Œè·³è½¬</h4><p>1ã€å•çº¯ä½¿ç”¨Reactçš„æ–¹å¼å®ç°è¡¨å•</p><p><img src="https://pic.downk.cc/item/5fb76076b18d627113eb2a31.jpg"></p><p>ğŸ–ï¼šæ˜¯åœ¨formä¸­ç¼–è¾‘onSubmitï¼Œè€Œä¸æ˜¯åœ¨buttonçš„ç‚¹å‡»äº‹ä»¶é‡Œæäº¤ï¼Œè¿™æ ·å³ä½¿ä½ ç‚¹å›è½¦ä¹Ÿä¼šè¿›è¡Œæäº¤ï¼ˆç»™å‡ºé”™è¯¯æç¤ºï¼‰</p><p>å¯ä»¥å‘ç°è¿™æ ·å®ç°è¡¨å•æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼</p><p>2ã€ä½¿ç”¨UI libraryå®ç°è¡¨å•ï¼ˆæ¯”å¦‚Antd)</p><p>å…·ä½“å‚ç…§ï¼š<a href="https://ant.design/components/form-cn/#header">Antd-Formè¡¨å•</a></p><p>3ã€å¯ä»¥å¯¹APIè¿›è¡Œå°è£…</p><h4 id="äºŒã€å®ç°è¡¨å•ï¼šé”™è¯¯å¤„ç†ã€åŠ¨æ€æ“ä½œè¡¨å•å…ƒç´ ï¼Œå†…å®¹åŠ¨æ€åŠ è½½"><a href="#äºŒã€å®ç°è¡¨å•ï¼šé”™è¯¯å¤„ç†ã€åŠ¨æ€æ“ä½œè¡¨å•å…ƒç´ ï¼Œå†…å®¹åŠ¨æ€åŠ è½½" class="headerlink" title="äºŒã€å®ç°è¡¨å•ï¼šé”™è¯¯å¤„ç†ã€åŠ¨æ€æ“ä½œè¡¨å•å…ƒç´ ï¼Œå†…å®¹åŠ¨æ€åŠ è½½"></a>äºŒã€å®ç°è¡¨å•ï¼šé”™è¯¯å¤„ç†ã€åŠ¨æ€æ“ä½œè¡¨å•å…ƒç´ ï¼Œå†…å®¹åŠ¨æ€åŠ è½½</h4><p>ä»¥Antdä¸ºä¾‹ï¼šä¸€ä¸ªdemo<br><a href="https://codesandbox.io/s/6n20nrzlxz?file=/src/c29/FormBuilder.js">https://codesandbox.io/s/6n20nrzlxz?file=/src/c29/FormBuilder.js</a></p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>21-ReactRouterç®¡ç†ç™»å½•å’Œæˆæƒ</title>
    <link href="/2020/11/20/21-ReactRouter%E7%AE%A1%E7%90%86%E7%99%BB%E5%BD%95%E5%92%8C%E6%8E%88%E6%9D%83/"/>
    <url>/2020/11/20/21-ReactRouter%E7%AE%A1%E7%90%86%E7%99%BB%E5%BD%95%E5%92%8C%E6%8E%88%E6%9D%83/</url>
    
    <content type="html"><![CDATA[<h3 id="ä½¿ç”¨React-Router-ç®¡ç†è·¯ç”±æˆæƒ"><a href="#ä½¿ç”¨React-Router-ç®¡ç†è·¯ç”±æˆæƒ" class="headerlink" title="ä½¿ç”¨React-Router ç®¡ç†è·¯ç”±æˆæƒ"></a>ä½¿ç”¨React-Router ç®¡ç†è·¯ç”±æˆæƒ</h3><p>1ã€å®ç°åŸºç¡€ï¼šReact Routerçš„åŠ¨æ€è·¯ç”±æœºåˆ¶<br>2ã€åŒºåˆ†å—ä¿æŠ¤è·¯ç”±å’Œå…¬å¼€è·¯ç”±<br>3ã€è®¿é—®æœªæˆæƒè·¯ç”±æ—¶é‡å®šå‘åˆ°ç™»å½•é¡µé¢æˆ–æ˜¾ç¤ºç¦æ­¢è®¿é—®</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>20-ä½¿ç”¨Rekitå¼€å‘å¯æ‰©å±•çš„Reactåº”ç”¨</title>
    <link href="/2020/11/20/20-%E4%BD%BF%E7%94%A8Rekit%E5%BC%80%E5%8F%91%E5%8F%AF%E6%89%A9%E5%B1%95%E7%9A%84React%E5%BA%94%E7%94%A8/"/>
    <url>/2020/11/20/20-%E4%BD%BF%E7%94%A8Rekit%E5%BC%80%E5%8F%91%E5%8F%AF%E6%89%A9%E5%B1%95%E7%9A%84React%E5%BA%94%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="Rekit-Reactä¸“å±IDEå’Œå·¥å…·é›†"><a href="#Rekit-Reactä¸“å±IDEå’Œå·¥å…·é›†" class="headerlink" title="Rekit: Reactä¸“å±IDEå’Œå·¥å…·é›†"></a>Rekit: Reactä¸“å±IDEå’Œå·¥å…·é›†</h3><p><img src="https://pic.downk.cc/item/5fb7295cb18d627113dc80e8.jpg"></p><h4 id="ä¸€ã€ä½¿ç”¨Rekitåˆ›å»ºé¡¹ç›®ï¼Œä»£ç ç”Ÿæˆå’Œé‡æ„"><a href="#ä¸€ã€ä½¿ç”¨Rekitåˆ›å»ºé¡¹ç›®ï¼Œä»£ç ç”Ÿæˆå’Œé‡æ„" class="headerlink" title="ä¸€ã€ä½¿ç”¨Rekitåˆ›å»ºé¡¹ç›®ï¼Œä»£ç ç”Ÿæˆå’Œé‡æ„"></a>ä¸€ã€ä½¿ç”¨Rekitåˆ›å»ºé¡¹ç›®ï¼Œä»£ç ç”Ÿæˆå’Œé‡æ„</h4><p>åªéœ€è¦å†™åŠŸèƒ½éƒ¨åˆ†çš„ä»£ç ï¼Œä¸ç”¨å†è‡ªå·±æ„å»ºéª¨æ¶ã€‚</p><p><img src="https://pic.downk.cc/item/5fb729deb18d627113dca15a.jpg"></p><p><img src="https://pic.downk.cc/item/5fb72aa5b18d627113dccff5.jpg"></p><p><img src="https://pic.downk.cc/item/5fb72b4cb18d627113dcfc0c.jpg"></p><p><img src="https://pic.downk.cc/item/5fb72c21b18d627113dd4456.jpg"></p><p><img src="https://pic.downk.cc/item/5fb72c51b18d627113dd4ee6.jpg"></p><p><img src="https://pic.downk.cc/item/5fb72ceeb18d627113dd7003.jpg"></p><h4 id="äºŒã€ä½¿ç”¨Rekitéµå¾ªæœ€ä½³å®è·µå’Œä¿æŒä»£ç ä¸€è‡´æ€§"><a href="#äºŒã€ä½¿ç”¨Rekitéµå¾ªæœ€ä½³å®è·µå’Œä¿æŒä»£ç ä¸€è‡´æ€§" class="headerlink" title="äºŒã€ä½¿ç”¨Rekitéµå¾ªæœ€ä½³å®è·µå’Œä¿æŒä»£ç ä¸€è‡´æ€§"></a>äºŒã€ä½¿ç”¨Rekitéµå¾ªæœ€ä½³å®è·µå’Œä¿æŒä»£ç ä¸€è‡´æ€§</h4><p>==æœ€ä½³å®è·µ:==</p><ul><li>1.ä»¥featureæ–¹å¼ç»„ç»‡ä»£ç </li><li>2.æ‹†åˆ†ç»„ä»¶componentï¼Œactionå’Œreducer</li><li>3.æ‹†åˆ†è·¯ç”±é…ç½®</li></ul><p>==é€šè¿‡ä»£ç è‡ªåŠ¨ç”Ÿæˆä¿æŒä¸€è‡´æ€§ï¼š==</p><ul><li>1.æ–‡ä»¶å¤¹ç»“æ„ä¸€è‡´æ€§</li><li>2.æ–‡ä»¶åä¸€è‡´æ€§</li><li>3.å˜é‡åä¸€è‡´æ€§</li><li>4.ä»£ç é€»è¾‘ä¸€è‡´æ€§</li></ul>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>19-æ‹†åˆ†å¤§å‹é¡¹ç›®çš„å¤æ‚åº¦</title>
    <link href="/2020/11/20/19-%E6%8B%86%E5%88%86%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6/"/>
    <url>/2020/11/20/19-%E6%8B%86%E5%88%86%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6/</url>
    
    <content type="html"><![CDATA[<h3 id="æ‹†åˆ†å¤æ‚åº¦"><a href="#æ‹†åˆ†å¤æ‚åº¦" class="headerlink" title="æ‹†åˆ†å¤æ‚åº¦"></a>æ‹†åˆ†å¤æ‚åº¦</h3><h4 id="ä¸€ã€æŒ‰é¢†åŸŸæ¨¡å‹ï¼ˆfeatureï¼‰ç»„ç»‡ä»£ç ï¼Œé™ä½è€¦åˆåº¦"><a href="#ä¸€ã€æŒ‰é¢†åŸŸæ¨¡å‹ï¼ˆfeatureï¼‰ç»„ç»‡ä»£ç ï¼Œé™ä½è€¦åˆåº¦" class="headerlink" title="ä¸€ã€æŒ‰é¢†åŸŸæ¨¡å‹ï¼ˆfeatureï¼‰ç»„ç»‡ä»£ç ï¼Œé™ä½è€¦åˆåº¦"></a>ä¸€ã€æŒ‰é¢†åŸŸæ¨¡å‹ï¼ˆfeatureï¼‰ç»„ç»‡ä»£ç ï¼Œé™ä½è€¦åˆåº¦</h4><p><img src="https://pic.downk.cc/item/5fb71ee0b18d627113d9dabc.jpg"></p><p><img src="https://pic.downk.cc/item/5fb71f0ab18d627113d9e304.jpg"></p><p><img src="https://pic.downk.cc/item/5fb71f24b18d627113d9e849.jpg"></p><p><strong>è§£å†³ï¼šå…ˆä»¥ä¸šåŠ¡é€»è¾‘,ä»¥åŠŸèƒ½è¿›è¡Œåˆ’åˆ†ï¼Œç„¶åæ¯ä¸ªåŠŸèƒ½(feature)å†…éƒ¨æœ‰è‡ªå·±çš„reducerï¼Œcomponentï¼Œaction</strong></p><p><img src="https://pic.downk.cc/item/5fb71f7db18d627113d9fdb5.jpg"></p><p>ä½¿ç”¨ReactæŠ€æœ¯æ ˆå¦‚ä½•å®ç°è¿™ç§æ¶æ„ï¼Ÿ</p><p><img src="https://pic.downk.cc/item/5fb71fe1b18d627113da1548.jpg"></p><p>ä»¥åŠŸèƒ½åŒºåˆ†ï¼Œè·¯ç”±é…ç½®ä¹Ÿå¯ä»¥åˆ†æ•£åœ¨æ¯ä¸ªfeatureä¸­ï¼Œè¿™æ ·å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§æ›´å¥½ï¼</p><h4 id="äºŒã€å¦‚ä½•ç»„ç»‡componentï¼Œaction-å’Œ-reducer"><a href="#äºŒã€å¦‚ä½•ç»„ç»‡componentï¼Œaction-å’Œ-reducer" class="headerlink" title="äºŒã€å¦‚ä½•ç»„ç»‡componentï¼Œaction å’Œ reducer"></a>äºŒã€å¦‚ä½•ç»„ç»‡componentï¼Œaction å’Œ reducer</h4><p><img src="https://pic.downk.cc/item/5fb720bab18d627113da4750.jpg"></p><p>å•å…ƒæµ‹è¯•æ–‡ä»¶å¤¹testsæ˜¯å•ç‹¬ç»´æŠ¤çš„ï¼Œå•ç‹¬æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚</p><p>å¸¸é‡ï¼šé€šå¸¸åœ¨æ¯ä¸ªfeatureä¸‹é¢æœ‰ä¸ªconstant.jsæ–‡ä»¶</p><p><img src="https://pic.downk.cc/item/5fb72191b18d627113da77a0.jpg"></p><p>rootReducerçš„å†™æ³•ï¼š<br><img src="https://pic.downk.cc/item/5fb721e2b18d627113da87fe.jpg"></p><p><strong>æ€»ç»“</strong>ï¼š</p><ul><li>æŒ‰ç…§featureç»„ç»‡ç»„ä»¶componentï¼Œactionå’Œreducer</li><li>ä½¿ç”¨root loaderåŠ è½½featureä¸‹çš„å„ä¸ªèµ„æº</li><li>åšåˆ°é«˜å†…èšã€æ¾è€¦åˆ</li></ul><h4 id="ä¸‰ã€å¦‚ä½•ç»„ç»‡React-Routeçš„è·¯ç”±é…ç½®"><a href="#ä¸‰ã€å¦‚ä½•ç»„ç»‡React-Routeçš„è·¯ç”±é…ç½®" class="headerlink" title="ä¸‰ã€å¦‚ä½•ç»„ç»‡React Routeçš„è·¯ç”±é…ç½®"></a>ä¸‰ã€å¦‚ä½•ç»„ç»‡React Routeçš„è·¯ç”±é…ç½®</h4><p><img src="https://pic.downk.cc/item/5fb72294b18d627113dabdf7.jpg"></p><p>æ¨èJSONæ–¹å¼çš„è·¯ç”±ï¼š</p><p><img src="https://pic.downk.cc/item/5fb722f6b18d627113dae650.jpg"></p><p>è§£æJSONè·¯ç”±ï¼š<br><img src="https://pic.downk.cc/item/5fb72375b18d627113db0340.jpg"></p><p><strong>æ€»ç»“</strong>ï¼š</p><ul><li>æ¯ä¸ªfeatureéƒ½æœ‰è‡ªå·±çš„ä¸“å±è·¯ç”±é…ç½®</li><li>é¡¶å±‚è·¯ç”±ä½¿ç”¨JSONé…ç½®æ›´å®¹æ˜“ç»´æŠ¤</li><li>å¦‚ä½•è§£æJSONé…ç½®åˆ°React Routerè¯­æ³•ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>18-å‰ç«¯é¡¹ç›®çš„ç†æƒ³æ¶æ„</title>
    <link href="/2020/11/20/18-%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%90%86%E6%83%B3%E6%9E%B6%E6%9E%84/"/>
    <url>/2020/11/20/18-%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%90%86%E6%83%B3%E6%9E%B6%E6%9E%84/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰ç«¯é¡¹ç›®çš„ç†æƒ³æ¶æ„"><a href="#å‰ç«¯é¡¹ç›®çš„ç†æƒ³æ¶æ„" class="headerlink" title="å‰ç«¯é¡¹ç›®çš„ç†æƒ³æ¶æ„"></a>å‰ç«¯é¡¹ç›®çš„ç†æƒ³æ¶æ„</h3><p><img src="https://pic.downk.cc/item/5fb71b94b18d627113d91010.jpg"></p><h4 id="1ã€-æ˜“äºå¼€å‘"><a href="#1ã€-æ˜“äºå¼€å‘" class="headerlink" title="1ã€ æ˜“äºå¼€å‘"></a>1ã€ æ˜“äºå¼€å‘</h4><ul><li>å¼€å‘å·¥å…·æ˜¯å¦å®Œå–„</li><li>ç”Ÿæ€åœˆæ˜¯å¦ç¹è£</li><li>ç¤¾åŒºæ˜¯å¦æ´»è·ƒ</li></ul><h4 id="2ã€æ˜“äºæ‰©å±•"><a href="#2ã€æ˜“äºæ‰©å±•" class="headerlink" title="2ã€æ˜“äºæ‰©å±•"></a>2ã€æ˜“äºæ‰©å±•</h4><ul><li>å¢åŠ æ–°åŠ¨èƒ½æ˜¯å¦å®¹æ˜“</li><li>æ–°åŠŸèƒ½æ˜¯å¦ä¼šæ˜¾è‘—å¢åŠ ç³»ç»Ÿå¤æ‚åº¦</li></ul><h4 id="3ã€æ˜“äºç»´æŠ¤"><a href="#3ã€æ˜“äºç»´æŠ¤" class="headerlink" title="3ã€æ˜“äºç»´æŠ¤"></a>3ã€æ˜“äºç»´æŠ¤</h4><ul><li>ä»£ç æ˜¯å¦å®¹æ˜“ç†è§£</li><li>æ–‡æ¡£æ˜¯å¦å¥å…¨</li></ul><h4 id="4ã€æ˜“äºæµ‹è¯•"><a href="#4ã€æ˜“äºæµ‹è¯•" class="headerlink" title="4ã€æ˜“äºæµ‹è¯•"></a>4ã€æ˜“äºæµ‹è¯•</h4><p>ï¼ˆæµ‹è¯•åäºå¼€å‘ï¼Œæ‰€ä»¥å¿…é¡»åœ¨å¼€å‘æ—¶å°±è€ƒè™‘æ¸…æ¥šï¼‰</p><ul><li>åŠŸèƒ½çš„åˆ†å±‚æ˜¯å¦æ¸…æ™°ï¼ˆJqueryé‚£ç§å°±å¾ˆéš¾è¿›è¡Œå•å…ƒæµ‹è¯•ï¼‰</li><li>å‰¯ä½œç”¨å°‘</li><li>å°½é‡ä½¿ç”¨çº¯å‡½æ•°</li></ul><h4 id="5ã€æ˜“äºæ„å»º"><a href="#5ã€æ˜“äºæ„å»º" class="headerlink" title="5ã€æ˜“äºæ„å»º"></a>5ã€æ˜“äºæ„å»º</h4><ul><li>ä½¿ç”¨é€šç”¨æŠ€æœ¯å’Œæ¶æ„</li><li>æ„å»ºå·¥å…·çš„é€‰æ‹©ï¼ˆwebpackç­‰ï¼Œ</li></ul>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>17-å¸¸ç”¨å¼€å‘è°ƒè¯•å·¥å…·</title>
    <link href="/2020/11/20/17-%E5%B8%B8%E7%94%A8%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/"/>
    <url>/2020/11/20/17-%E5%B8%B8%E7%94%A8%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/</url>
    
    <content type="html"><![CDATA[<h3 id="å¸¸ç”¨å¼€å‘è°ƒè¯•å·¥å…·ï¼š"><a href="#å¸¸ç”¨å¼€å‘è°ƒè¯•å·¥å…·ï¼š" class="headerlink" title="å¸¸ç”¨å¼€å‘è°ƒè¯•å·¥å…·ï¼š"></a>å¸¸ç”¨å¼€å‘è°ƒè¯•å·¥å…·ï¼š</h3><h4 id="1-ESLint"><a href="#1-ESLint" class="headerlink" title="1.ESLint"></a>1.ESLint</h4><ul><li>ä½¿ç”¨.eslintrcè¿›è¡Œè§„åˆ™çš„é…ç½®</li><li>å‘Šè¯‰ä½ å“ªé‡Œä¸ç¬¦åˆè§„åˆ™</li><li>å¯ä»¥ä½¿ç”¨airbnbçš„JavaScriptä»£ç é£æ ¼</li></ul><h4 id="2-Prettier"><a href="#2-Prettier" class="headerlink" title="2.Prettier"></a>2.Prettier</h4><ul><li>ä»£ç æ ¼å¼åŒ–çš„ç¥å™¨ï¼ˆå¯ä»¥è‡ªåŠ¨ä¿®æ”¹ä¸ç¬¦åˆè§„åˆ™çš„ï¼‰</li><li>åŒ…è£…æ›´å®¹æ˜“å†™å‡ºé£æ ¼ä¸€è‡´çš„ä»£ç </li></ul><h4 id="3-React-Dev-Tools"><a href="#3-React-Dev-Tools" class="headerlink" title="3.React Dev Tools"></a>3.React Dev Tools</h4><p><img src="https://pic.downk.cc/item/5fb71930b18d627113d88a26.jpg"></p><ul><li>å¯ä»¥è§‚å¯ŸReactç»„ä»¶æ ‘çš„DOMç»“æ„</li><li>å¯ä»¥çœ‹åˆ°å“ªäº›ç»„ä»¶render</li></ul><h4 id="4-Redux-Dev-Tools"><a href="#4-Redux-Dev-Tools" class="headerlink" title="4.Redux Dev Tools"></a>4.Redux Dev Tools</h4><p><img src="https://pic.downk.cc/item/5fb7197bb18d627113d898dd.jpg"></p><ul><li>å¯ä»¥è§‚å¯Ÿå½“å‰Storeçš„çŠ¶æ€</li><li>ç”¨æˆ·å‘å‡ºåŠ¨ä½œåï¼Œä¼šçœ‹åˆ°action</li><li>æ—¶é—´çº¿ï¼šå¯ä»¥æ¢å¤åˆ°actionå˜åŒ–ä¹‹å‰çš„æ—¶é—´çº¿</li><li>å¯ä»¥è‡ªåŠ¨ç”Ÿæˆä¸€äº›æµ‹è¯•çš„ä»£ç ï¼Œç›´æ¥copyåˆ°å•å…ƒæµ‹è¯•æ–‡ä»¶ä¸­</li></ul>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>16-ä½¿ç”¨Jestå’ŒEnzymeç­‰å·¥å…·è¿›è¡Œå•å…ƒæµ‹è¯•</title>
    <link href="/2020/11/18/16-%E4%BD%BF%E7%94%A8Jest%E5%92%8CEnzyme%E7%AD%89%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"/>
    <url>/2020/11/18/16-%E4%BD%BF%E7%94%A8Jest%E5%92%8CEnzyme%E7%AD%89%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€Reactè®©å‰ç«¯å•å…ƒæµ‹è¯•å˜å¾—å®¹æ˜“ï¼š"><a href="#ä¸€ã€Reactè®©å‰ç«¯å•å…ƒæµ‹è¯•å˜å¾—å®¹æ˜“ï¼š" class="headerlink" title="ä¸€ã€Reactè®©å‰ç«¯å•å…ƒæµ‹è¯•å˜å¾—å®¹æ˜“ï¼š"></a>ä¸€ã€Reactè®©å‰ç«¯å•å…ƒæµ‹è¯•å˜å¾—å®¹æ˜“ï¼š</h3><p>1ã€Reactåº”ç”¨å¾ˆå°‘éœ€è¦è®¿é—®æµè§ˆå™¨API<br>2ã€è™šæ‹ŸDOMå¯ä»¥åœ¨NodeJSç¯å¢ƒè¿è¡Œå’Œæµ‹è¯•<br>3ã€Reduxéš”ç¦»äº†çŠ¶æ€ç®¡ç†ï¼Œçº¯æ•°æ®å±‚å•å…ƒæµ‹è¯•</p><h3 id="äºŒã€å•å…ƒæµ‹è¯•æ¶‰åŠçš„å·¥å…·"><a href="#äºŒã€å•å…ƒæµ‹è¯•æ¶‰åŠçš„å·¥å…·" class="headerlink" title="äºŒã€å•å…ƒæµ‹è¯•æ¶‰åŠçš„å·¥å…·"></a>äºŒã€å•å…ƒæµ‹è¯•æ¶‰åŠçš„å·¥å…·</h3><p>1ã€Jest: FaceBookå¼€æºçš„JSå•å…ƒæµ‹è¯•æ¡†æ¶<br>2ã€JS DOMï¼š æµè§ˆå™¨ç¯å¢ƒçš„NodeJSæ¨¡æ‹Ÿ<br>3ã€Enzymeï¼š reactç»„ä»¶æ¸²æŸ“å’Œæµ‹è¯•<br>4ã€nockï¼š æ¨¡æ‹ŸHTTPè¯·æ±‚<br>5ã€sinonï¼š å‡½æ•°æ¨¡æ‹Ÿå’Œè°ƒç”¨è·Ÿè¸ª<br>6ã€istanbul: å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼ˆå¯¹å·²æœ‰æ–¹æ³•ä¿®æ”¹å’ŒåŸ‹ç‚¹ï¼‰</p><p><img src="https://pic.downk.cc/item/5fb4bc4cb18d62711351ecbc.jpg"></p><p><img src="https://pic.downk.cc/item/5fb4bc5fb18d62711351f09e.jpg"></p><p><img src="https://pic.downk.cc/item/5fb4bc9db18d62711351fc16.jpg"></p><p><img src="https://pic.downk.cc/item/5fb4bdf1b18d6271135241c2.jpg"></p><p><img src="https://pic.downk.cc/item/5fb4be5eb18d627113525540.jpg"></p><p><img src="https://pic.downk.cc/item/5fb4bef6b18d627113527125.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å•å…ƒæµ‹è¯•å·¥å…·</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>15-ä½¿ç”¨Next.js</title>
    <link href="/2020/11/18/15-%E4%BD%BF%E7%94%A8Next-js/"/>
    <url>/2020/11/18/15-%E4%BD%BF%E7%94%A8Next-js/</url>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨next.jså¼€å‘Reacté¡¹ç›®çš„åŒæ„åº”ç”¨ã€‚</p><h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯åŒæ„åº”ç”¨ï¼Ÿ"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯åŒæ„åº”ç”¨ï¼Ÿ" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯åŒæ„åº”ç”¨ï¼Ÿ"></a>ä¸€ã€ä»€ä¹ˆæ˜¯åŒæ„åº”ç”¨ï¼Ÿ</h3><p><img src="https://pic.downk.cc/item/5fb4b6adb18d62711350daf9.jpg"></p><p>next.jså¯ä»¥è‡ªåŠ¨é…ç½®å¥½åŒæ„åº”ç”¨çš„webpacké…ç½®ç­‰ç»†èŠ‚ã€‚</p><h3 id="äºŒã€nextçš„åŸºæœ¬ç”¨æ³•"><a href="#äºŒã€nextçš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="äºŒã€nextçš„åŸºæœ¬ç”¨æ³•"></a>äºŒã€nextçš„åŸºæœ¬ç”¨æ³•</h3><p><img src="https://pic.downk.cc/item/5fb4b787b18d62711350fce5.jpg"></p><p><strong>åœ¨é¡µé¢ä¸­ä½¿ç”¨å…¶ä»–çš„Reactç»„ä»¶ï¼š</strong></p><p>1ã€é¡µé¢ä¹Ÿæ˜¯æ ‡å‡†çš„nodeæ¨¡å—ï¼Œå¯ä½¿ç”¨å…¶ä»–çš„Reactç»„ä»¶ ï¼ˆæ”¾åœ¨componentsç›®å½•ä¸‹é¢ï¼‰<br>2ã€é¡µé¢ä¼šé’ˆå¯¹æ€§æ‰“åŒ…ï¼Œ ä»…åŒ…å«èµ·å¼•å…¥çš„ç»„ä»¶ã€‚</p><p><img src="https://pic.downk.cc/item/5fb4b95bb18d627113515a13.jpg"></p><p>ğŸ–ï¼šprefetchå¹¶ä¸ä¼šé¢„åŠ è½½æœåŠ¡å™¨ç«¯çš„æ•°æ®</p><p><strong>å…³äºlazy load:</strong><br><img src="https://pic.downk.cc/item/5fb4ba11b18d627113517eef.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>14-UIç»„ä»¶åº“çš„å¯¹æ¯”</title>
    <link href="/2020/11/18/14-UI%E7%BB%84%E4%BB%B6%E5%BA%93%E7%9A%84%E5%AF%B9%E6%AF%94/"/>
    <url>/2020/11/18/14-UI%E7%BB%84%E4%BB%B6%E5%BA%93%E7%9A%84%E5%AF%B9%E6%AF%94/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€Ant-Design"><a href="#ä¸€ã€Ant-Design" class="headerlink" title="ä¸€ã€Ant Design"></a>ä¸€ã€Ant Design</h3><p>æœåŠ¡äºä¼ä¸šçº§äº§å“çš„è®¾è®¡ä½“ç³»ï¼Œæœ‰å®Œå–„çš„æ–‡æ¡£</p><h3 id="äºŒã€Marterial-UI"><a href="#äºŒã€Marterial-UI" class="headerlink" title="äºŒã€Marterial-UI"></a>äºŒã€Marterial-UI</h3><p>é£æ ¼æ›´æ—¶å°šï¼Œæ›´èŠ±å“¨ï¼Œé¢å‘æ¶ˆè´¹è€…</p><h3 id="ä¸‰ã€Semantic-UI"><a href="#ä¸‰ã€Semantic-UI" class="headerlink" title="ä¸‰ã€Semantic UI"></a>ä¸‰ã€Semantic UI</h3><p>æŠŠUIä½œä¸ºlanguageæè¿°ï¼Œæä¾›äº†ä¸åŒlibraryçš„å®ç°ã€‚</p><p><strong>é€‰æ‹©UIåº“çš„è€ƒè™‘å› ç´ ï¼š</strong></p><ul><li>1ã€ç»„ä»¶åº“æ˜¯å¦é½å…¨</li><li>2ã€æ ·å¼é£æ ¼æ˜¯å¦ç¬¦åˆä¸šåŠ¡éœ€æ±‚</li><li>3ã€APIçš„è®¾è®¡æ˜¯å¦ä¾¿æ·çµæ´»</li><li>4ã€æŠ€æœ¯æ”¯æŒæ˜¯å¦å®Œå–„ï¼ˆæ–‡æ¡£ï¼Œissueï¼‰</li><li>5ã€å¼€å‘æ˜¯å¦æ´»è·ƒï¼ˆç»´æŠ¤ï¼Œè¿­ä»£ï¼‰</li></ul>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>bugè®°å½•</title>
    <link href="/2020/11/18/bug%E8%AE%B0%E5%BD%95/"/>
    <url>/2020/11/18/bug%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h3 id="1ã€-Error-â€œObjects-are-not-valid-as-a-React-childâ€"><a href="#1ã€-Error-â€œObjects-are-not-valid-as-a-React-childâ€" class="headerlink" title="1ã€ Error: â€œObjects are not valid as a React childâ€"></a>1ã€ Error: â€œObjects are not valid as a React childâ€</h3><p>åœ¨reduxçš„ç»ƒä¹ ä¸­ï¼Œblogè¿™ä¸ªdemoæŠ¥äº†è¿™ä¸ªé”™ï¼š</p><p><img src="https://pic.downk.cc/item/5fb48937b18d62711347d6df.jpg"></p><p>åŸä»£ç ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> jsonPlaceholder.get(<span class="hljs-string">`/users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>);dispatch(&#123; <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;FETCH_USER&quot;</span>, <span class="hljs-attr">payload</span>: response.data &#125;);</code></pre><p>æ‰“å¼€è®¿é—®çš„APIåå‘ç°ï¼Œresponse.dataæ˜¯ä¸ªobjectç±»å‹ï¼Œä¸èƒ½ç›´æ¥èµ‹å€¼ç»™payload<br>åº”è¯¥å…ˆé€šè¿‡JSON.stringify()å°†å…¶è½¬æ¢ä¸ºJSONæ ¼å¼ï¼Œå†è¿›è¡Œèµ‹å€¼ã€‚</p><p>ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> jsonPlaceholder.get(<span class="hljs-string">`/users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>);<span class="hljs-keyword">const</span> data = <span class="hljs-built_in">JSON</span>.stringify(response.data);dispatch(&#123; <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;FETCH_USER&quot;</span>, <span class="hljs-attr">payload</span>: data &#125;);</code></pre>]]></content>
    
    
    <categories>
      
      <category>bugæ±‡æ€»</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>13-React-Router:è·¯ç”±ä¸åªæ˜¯é¡µé¢åˆ‡æ¢ï¼Œæ›´æ˜¯ä»£ç ç»„ç»‡æ–¹å¼</title>
    <link href="/2020/11/17/13-React-Router-%E8%B7%AF%E7%94%B1%E4%B8%8D%E5%8F%AA%E6%98%AF%E9%A1%B5%E9%9D%A2%E5%88%87%E6%8D%A2%EF%BC%8C%E6%9B%B4%E6%98%AF%E4%BB%A3%E7%A0%81%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F/"/>
    <url>/2020/11/17/13-React-Router-%E8%B7%AF%E7%94%B1%E4%B8%8D%E5%8F%AA%E6%98%AF%E9%A1%B5%E9%9D%A2%E5%88%87%E6%8D%A2%EF%BC%8C%E6%9B%B4%E6%98%AF%E4%BB%A3%E7%A0%81%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦è·¯ç”±ï¼Ÿ"><a href="#ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦è·¯ç”±ï¼Ÿ" class="headerlink" title="ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦è·¯ç”±ï¼Ÿ"></a>ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦è·¯ç”±ï¼Ÿ</h3><ul><li>1.å•é¡µåº”ç”¨éœ€è¦è¿›è¡Œé¡µé¢åˆ‡æ¢</li><li>2.é€šè¿‡URLå¯ä»¥å®šä½åˆ°é¡µé¢</li><li>3.æ›´æœ‰è¯­ä¹‰çš„ç»„ç»‡èµ„æº</li></ul><p><img src="https://pic.downk.cc/item/5fb37daab18d62711306e930.jpg"></p><p><img src="https://pic.downk.cc/item/5fb37e3cb18d6271130703a8.jpg"></p><h3 id="äºŒã€React-Routerçš„ç‰¹æ€§ï¼š"><a href="#äºŒã€React-Routerçš„ç‰¹æ€§ï¼š" class="headerlink" title="äºŒã€React-Routerçš„ç‰¹æ€§ï¼š"></a>äºŒã€React-Routerçš„ç‰¹æ€§ï¼š</h3><p>1ã€å£°æ˜å¼è·¯ç”±å®šä¹‰<br>2ã€åŠ¨æ€è·¯ç”±ï¼šé¡µé¢renderæ—¶ï¼Œpathæ‰ä¼šè¢«è§£æ</p><h3 id="ä¸‰ã€å®ç°è·¯ç”±çš„ä¸‰ç§æ–¹å¼"><a href="#ä¸‰ã€å®ç°è·¯ç”±çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="ä¸‰ã€å®ç°è·¯ç”±çš„ä¸‰ç§æ–¹å¼"></a>ä¸‰ã€å®ç°è·¯ç”±çš„ä¸‰ç§æ–¹å¼</h3><p>1ã€URLè·¯ç”±<br>2ã€Hashè·¯ç”±ï¼š #+ è·¯å¾„ï¼Œæ”¯æŒä½ç‰ˆæœ¬<br>3ã€å†…å­˜è·¯ç”±ï¼šMemoryRouterï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“</p><h3 id="å››ã€åŸºäºè·¯ç”±é…ç½®è¿›è¡Œèµ„æºç»„ç»‡"><a href="#å››ã€åŸºäºè·¯ç”±é…ç½®è¿›è¡Œèµ„æºç»„ç»‡" class="headerlink" title="å››ã€åŸºäºè·¯ç”±é…ç½®è¿›è¡Œèµ„æºç»„ç»‡"></a>å››ã€åŸºäºè·¯ç”±é…ç½®è¿›è¡Œèµ„æºç»„ç»‡</h3><p>1ã€å®ç°ä¸šåŠ¡é€»è¾‘çš„æ¾è€¦åˆ<br>2ã€æ˜“äºæ‰©å±•ï¼Œé‡æ„å’Œç»´æŠ¤<br>3ã€è·¯ç”±å±‚é¢å®ç°Lazy Load</p><h3 id="äº”ã€React-Router-çš„å‡ ä¸ªAPI"><a href="#äº”ã€React-Router-çš„å‡ ä¸ªAPI" class="headerlink" title="äº”ã€React-Router çš„å‡ ä¸ªAPI"></a>äº”ã€React-Router çš„å‡ ä¸ªAPI</h3><p><img src="https://pic.downk.cc/item/5fb37fdab18d627113075987.jpg"></p><p><img src="https://pic.downk.cc/item/5fb37feeb18d627113075f96.jpg"></p><p><img src="https://pic.downk.cc/item/5fb38003b18d627113076520.jpg"></p><p><img src="https://pic.downk.cc/item/5fb38032b18d627113076f40.jpg"></p><p><img src="https://pic.downk.cc/item/5fb38056b18d627113077657.jpg"></p><p><img src="https://pic.downk.cc/item/5fb380a8b18d627113078667.jpg"></p><h3 id="å…­ã€é€šè¿‡URLä¼ é€’å‚æ•°"><a href="#å…­ã€é€šè¿‡URLä¼ é€’å‚æ•°" class="headerlink" title="å…­ã€é€šè¿‡URLä¼ é€’å‚æ•°"></a>å…­ã€é€šè¿‡URLä¼ é€’å‚æ•°</h3><p><img src="https://pic.downk.cc/item/5fb3827bb18d62711307e56e.jpg"></p><p><img src="https://pic.downk.cc/item/5fb3834eb18d627113081472.jpg"></p><p><img src="https://pic.downk.cc/item/5fb3842ab18d627113084eaf.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>12-Reduxåœ¨Rectä¸­çš„ç”¨æ³•</title>
    <link href="/2020/11/17/12-Redux%E5%9C%A8Rect%E4%B8%AD%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <url>/2020/11/17/12-Redux%E5%9C%A8Rect%E4%B8%AD%E7%9A%84%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>&emsp;ä¸ºäº†æ–¹ä¾¿åœ¨reactä¸­ä½¿ç”¨redux, Reduxçš„ä½œè€…å°è£…äº†ä¸€ä¸ªReactä¸“ç”¨çš„åº“<strong>React-Redux</strong>.</p><p>&emsp;è¿™ä¸ªåº“æ˜¯å¯é€‰çš„ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­åº”è¯¥æƒè¡¡ä¸‹æ˜¯ç›´æ¥ä½¿ç”¨reduxè¿˜æ˜¯ä½¿ç”¨React-Reduxã€‚åè€…è™½ç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯è¦æŒæ¡é¢å¤–çš„APIï¼Œå¹¶ä¸”è¦éµå®ˆå®ƒçš„ç»„ä»¶æ‹†åˆ†è§„åˆ™ã€‚</p><h3 id="ä¸€ã€UIç»„ä»¶"><a href="#ä¸€ã€UIç»„ä»¶" class="headerlink" title="ä¸€ã€UIç»„ä»¶"></a>ä¸€ã€UIç»„ä»¶</h3><p>&emsp;React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><ul><li>UIç»„ä»¶ï¼ˆpresentational componentï¼‰</li><li>å®¹å™¨ç»„ä»¶ï¼ˆcontainer componentï¼‰</li></ul><p>&emsp;UIç»„ä»¶æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>1ã€åªè´Ÿè´£UIçš„å‘ˆç°ï¼Œä¸å¸¦ä»»ä½•ä¸šåŠ¡é€»è¾‘</li><li>2ã€æ²¡æœ‰çŠ¶æ€ï¼ˆå³ä¸é€‚ç”¨this.stateè¿™ä¸ªå˜é‡ï¼‰</li><li>3ã€æ‰€æœ‰æ•°æ®éƒ½ç”±å‚æ•°ï¼ˆthis.props)æä¾›</li><li>4ã€ä¸ä½¿ç”¨ä»»ä½•Reduxçš„API</li></ul><p>ä¸€ä¸ªUIç»„ä»¶çš„ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> Title = <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></code></pre><p>&emsp;å› ä¸ºä¸å«æœ‰çŠ¶æ€ï¼ŒUIç»„ä»¶åˆç§°ä¸ºâ€˜çº¯ç»„ä»¶â€™ï¼Œå³å®ƒå’Œçº¯å‡½æ•°ä¸€æ ·ï¼Œçº¯ç²¹ç”±å‚æ•°å†³å®šå®ƒçš„å€¼ã€‚</p><h3 id="äºŒã€å®¹å™¨ç»„ä»¶"><a href="#äºŒã€å®¹å™¨ç»„ä»¶" class="headerlink" title="äºŒã€å®¹å™¨ç»„ä»¶"></a>äºŒã€å®¹å™¨ç»„ä»¶</h3><p>&emsp; å®¹å™¨ç»„ä»¶çš„ç‰¹å¾æ°æ°ç›¸åï¼š</p><ul><li>è´Ÿè´£ç®¡ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œä¸è´Ÿè´£UIçš„å‘ˆç°</li><li>å¸¦æœ‰å†…éƒ¨çŠ¶æ€</li><li>ä½¿ç”¨Reduxçš„API</li></ul><p>&emsp;æ€»ä¹‹ï¼ŒUIç»„ä»¶è´Ÿè´£UIçš„å‘ˆç°ï¼Œå®¹å™¨ç»„ä»¶è´Ÿè´£ç®¡ç†æ•°æ®å’Œé€»è¾‘ã€‚</p><p>&emsp;å¦‚æœä¸€ä¸ªç»„ä»¶æ—¢æœ‰UIåˆæœ‰ä¸šåŠ¡é€»è¾‘ï¼Œé‚£ä¹ˆåº”è¯¥å°†å®ƒæ‹†åˆ†ä¸ºä¸‹é¢çš„ç»“æ„ï¼šå¤–é¢æ˜¯ä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œé‡Œé¢åŒ…å«ä¸€ä¸ªUIç»„ä»¶ã€‚å‰è€…è´Ÿè´£ä¸å¤–éƒ¨çš„é€šä¿¡ï¼Œå°†æ•°æ®ä¼ ç»™åè€…ï¼Œç”±åè€…æ¸²æŸ“å‡ºè¯•å›¾ã€‚</p><p>&emsp;React-Reduxè§„å®šï¼Œæ‰€æœ‰çš„UIç»„ä»¶ç”±ç”¨æˆ·æä¾›ï¼Œå®¹å™¨ç»„ä»¶åˆ™ç”±React-Reduxè‡ªåŠ¨ç”Ÿæˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·è´Ÿè´£è§†è§‰å±‚ï¼ŒçŠ¶æ€ç®¡ç†åˆ™æ˜¯å…¨éƒ¨äº¤ç»™å®ƒã€‚</p><h3 id="ä¸‰ã€connect"><a href="#ä¸‰ã€connect" class="headerlink" title="ä¸‰ã€connect()"></a>ä¸‰ã€connect()</h3><p>&emsp;React-Reduxæä¾›connectæ–¹æ³•ï¼Œç”¨äºä»UIç»„ä»¶ç”Ÿæˆå®¹å™¨ç»„ä»¶ã€‚ï¼ˆconnectçš„æ„æ€å°±æ˜¯å°†è¿™ä¸¤ç§ç»„ä»¶è¿èµ·æ¥ï¼‰</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;connect&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-redux&#x27;</span><span class="hljs-keyword">const</span> VisibleTodoList = connect()(TodoList);<span class="hljs-comment">//TodoListæ˜¯UIç»„ä»¶ï¼ŒVisibleTodoListå°±æ˜¯é€šè¿‡connectæ–¹æ³•è‡ªåŠ¨ç”Ÿæˆçš„å®¹å™¨ç»„ä»¶</span></code></pre><p>&emsp;ä½†æ˜¯ç”±äºæ²¡æœ‰å®šä¹‰ä¸šåŠ¡é€»è¾‘ï¼Œä¸Šé¢è¿™ä¸ªå®¹å™¨ç»„ä»¶æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œåªæ˜¯UIç»„ä»¶çš„ä¸€ä¸ªå•çº¯çš„åŒ…è£…å±‚ã€‚ä¸ºäº†å®šä¹‰ä¸šåŠ¡é€»è¾‘ï¼Œéœ€è¦ç»™å‡ºä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li>ï¼ˆ1ï¼‰è¾“å…¥é€»è¾‘ï¼šå¤–éƒ¨çš„æ•°æ®ï¼ˆå³stateå¯¹è±¡ï¼‰å¦‚ä½•è½¬æ¢ä¸ºUIç»„ä»¶çš„å‚æ•°ã€‚</li><li>ï¼ˆ2ï¼‰è¾“å‡ºé€»è¾‘ï¼šç”¨æˆ·å‘å‡ºçš„åŠ¨ä½œå¦‚ä½•å˜ä¸ºActionå¯¹è±¡ï¼Œä»UIç»„ä»¶ä¼ å‡ºå»ã€‚</li></ul><p>&emsp;å› æ­¤ï¼Œconnectæ–¹æ³•çš„å®Œæ•´APIå¦‚ä¸‹ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;connect&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-redux&#x27;</span>;<span class="hljs-keyword">const</span> VisibleTodoList = connect(    mapStateToProps,    mapDispatchToProps)(TodoList)</code></pre><p>&emsp;connectå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šmapStateToProps  å’Œ mapDispatchToPropsã€‚å®ƒä»¬å®šä¹‰äº†UIç»„ä»¶çš„ä¸šåŠ¡é€»è¾‘ï¼šå‰è€…è´Ÿè´£è¾“å…¥é€»è¾‘ï¼Œå³å°†stateæ˜ å°„åˆ°UIç»„ä»¶çš„å‚æ•°ï¼ˆprops),åè€…è´Ÿè´£è¾“å‡ºé€»è¾‘ï¼Œå³å°†ç”¨æˆ·å¯¹UIç»„ä»¶çš„æ“ä½œæ˜ å°„ä¸ºActionå¯¹è±¡ã€‚</p><h3 id="å››ã€mapStateToProps"><a href="#å››ã€mapStateToProps" class="headerlink" title="å››ã€mapStateToProps()"></a>å››ã€mapStateToProps()</h3><p>&emsp; mapStateToPropsæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯åƒå®ƒçš„åå­—é‚£æ ·ï¼Œå»ºç«‹ä¸€ä¸ªä»ï¼ˆå¤–éƒ¨çš„ï¼‰stateå¯¹è±¡åˆ°ï¼ˆUIç»„ä»¶çš„ï¼‰propså¯¹è±¡çš„æ˜ å°„å…³ç³»ã€‚</p><p>&emsp;ä½œä¸ºå‡½æ•°ï¼ŒmapStateToPropsæ‰§è¡Œååº”è¯¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢çš„æ¯ä¸€ä¸ªé”®å€¼å¯¹å°±æ˜¯ä¸€ä¸ªæ˜ å°„ã€‚<br>ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> mapStateToProps=<span class="hljs-function">(<span class="hljs-params">state</span>)=&gt;</span>&#123;    <span class="hljs-keyword">return</span> &#123;        <span class="hljs-comment">//todoså±æ€§ï¼Œä»£è¡¨UIç»„ä»¶çš„åŒåå±æ€§</span>        <span class="hljs-comment">//getVisibleTodoså¯ä»¥ä»stateç®—å‡ºtodosçš„å€¼</span>        todos: getVisibleTodos(state.todos,state.visibilityFilter)    &#125;&#125;<span class="hljs-comment">//getVisibleTodoså¯ä»¥ä»stateç®—å‡ºtodosçš„å€¼</span><span class="hljs-keyword">const</span> getVisibleTodos=<span class="hljs-function">(<span class="hljs-params">todos,filter</span>)=&gt;</span>&#123;    <span class="hljs-function"><span class="hljs-title">switch</span>(<span class="hljs-params">filter</span>)</span>&#123;        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;SHOW_ALL&#x27;</span>:            <span class="hljs-keyword">return</span> todos;        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;SHOW_COMPLETED&#x27;</span>:            <span class="hljs-keyword">return</span> todos.filter(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.completed);        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;SHOW_ACTIVE&#x27;</span>:            <span class="hljs-keyword">return</span> todos.filter(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>!t.completed);        <span class="hljs-keyword">default</span>:            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&#x27;Unknow filter:&#x27;</span>+filter)    &#125;&#125;</code></pre><p>&emsp;mapStateToProps ä¼šè®¢é˜…Store,æ¯å½“stateæ›´æ–°çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œé‡æ–°è®¡ç®—UIç»„ä»¶çš„å‚æ•°ï¼Œä»è€Œè§¦å‘UIç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚</p><p>&emsp;mapStateToProps çš„ç¬¬ä¸€ä¸ªå‚æ•°æ€»æ˜¯stateå¯¹è±¡ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»£è¡¨å®¹å™¨ç»„ä»¶çš„propså¯¹è±¡ã€‚</p><pre><code class="hljs js"><span class="hljs-comment">//å®¹å™¨ç»„ä»¶çš„ä»£ç </span><span class="hljs-comment">// &lt;FilterLink filter=&#x27;SHOW_ALL&#x27;&gt;ALL&lt;/FilterLink&gt;</span><span class="hljs-keyword">const</span> mapStateToProps = <span class="hljs-function">(<span class="hljs-params">state,ownProps</span>) =&gt;</span>&#123;    <span class="hljs-keyword">return</span> &#123;        active:ownProps.filter === state.visibilityFilter    &#125;&#125;</code></pre><p> &emsp;ä½¿ç”¨ownPropsä½œä¸ºå‚æ•°åï¼Œå¦‚æœå®¹å™¨ç»„ä»¶çš„å‚æ•°å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿä¼šå¼•èµ·UIç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚</p><p> &emsp;connectæ–¹æ³•å¯ä»¥çœç•¥mapStateToPropså‚æ•°ï¼Œé‚£æ ·çš„è¯UIç»„ä»¶å°±ä¸ä¼šè®¢é˜…Store, ä¹Ÿå°±æ˜¯è¯´Storeçš„æ›´æ–°ä¸ä¼šå¼•èµ·UIç»„ä»¶æ¸²æŸ“ã€‚</p><h3 id="äº”ã€mapDispatchToProps"><a href="#äº”ã€mapDispatchToProps" class="headerlink" title="äº”ã€mapDispatchToProps()"></a>äº”ã€mapDispatchToProps()</h3><p> &emsp;mapDispatchToProps æ˜¯connectå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥å»ºç«‹UIç»„ä»¶çš„å‚æ•°åˆ°Store.dispatchçš„æ˜ å°„ï¼Œå®ƒå®šä¹‰äº†å“ªäº›ç”¨æˆ·çš„æ“ä½œåº”è¯¥å½“ä½œActionï¼Œä¼ ç»™Storeã€‚å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</p><p> &emsp;1ã€<strong>å¦‚æœmapDispatchToPropsæ˜¯ä¸€ä¸ªå‡½æ•°</strong>ï¼Œä¼šå¾—åˆ°dispatchå’ŒownProps(å®¹å™¨ç»„ä»¶çš„propså¯¹è±¡)ä¸¤ä¸ªå‚æ•°ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> mapDispatchToProps = (    dispatch,    ownProps) =&gt; &#123;    <span class="hljs-keyword">return</span> &#123;        onClick:<span class="hljs-function">()=&gt;</span>&#123;            dispatch(&#123;                type:<span class="hljs-string">&#x27;SET_VISIBILITY_FILTER&#x27;</span>,                filter:ownProps.filter            &#125;)        &#125;    &#125;&#125;</code></pre><p>&emsp;ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼ŒmapispatchToPropsä½œä¸ºå‡½æ•°ï¼Œåº”è¯¥è¿”å›ä»¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„æ¯ä¸ªé”®å€¼å¯¹éƒ½æ˜¯ä¸€ä¸ªæ˜ å°„ï¼Œå®šä¹‰äº†UIç»„ä»¶çš„å‚æ•°æ€æ ·å‘å‡ºactionã€‚</p><p>&emsp;2ã€<strong>å¦‚æœmapDispatchToPropsæ˜¯ä¸€ä¸ªå¯¹è±¡</strong>ï¼Œå®ƒçš„æ¯ä¸ªé”®åä¹Ÿæ˜¯å¯¹åº”UIçš„åŒåå‚æ•°ï¼Œé”®å€¼åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šè¢«å½“ä½œæ˜¯Action Creator,è¿”å›çš„Actionä¼šç”±Reduxè‡ªåŠ¨å‘å‡ºã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> mapDispatchToProps=&#123;    onClick:<span class="hljs-function">(<span class="hljs-params">filter</span>)=&gt;</span>&#123;        type:<span class="hljs-string">&#x27;SET_VISIBILITY_FILTER&#x27;</span>,        filter:filter    &#125;&#125;</code></pre><h3 id="å…­ã€Providerç»„ä»¶"><a href="#å…­ã€Providerç»„ä»¶" class="headerlink" title="å…­ã€Providerç»„ä»¶"></a>å…­ã€Providerç»„ä»¶</h3><p>&emsp;connectæ–¹æ³•ç”Ÿæˆå®¹å™¨ç»„ä»¶ä»¥åï¼Œéœ€è¦è®©å®¹å™¨ç»„ä»¶æ‹¿åˆ°stateå¯¹è±¡ï¼Œæ‰èƒ½ç”ŸæˆUIç»„ä»¶çš„å‚æ•°ã€‚ä¸€ç§è§£å†³æ–¹æ³•æ˜¯å°†stateå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä¼ ç»™å®¹å™¨ç»„ä»¶ã€‚ä½†æ˜¯è¿™æ ·æ¯”è¾ƒéº»çƒ¦ï¼Œå°¤å…¶æ˜¯å®¹å™¨ç»„ä»¶åœ¨å¾ˆæ·±çš„å±‚çº§æ—¶ï¼Œä¸€çº§çº§å°†stateä¼ ä¸‹å»å°±å¾ˆéº»çƒ¦ã€‚</p><p>&emsp;React-Reduxæä¾›Providerç»„ä»¶ï¼Œå¯ä»¥è®©å®¹å™¨ç»„ä»¶æ‹¿åˆ°stateã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;Provider&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-redux&#x27;</span>;<span class="hljs-keyword">import</span> &#123;createStore&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;<span class="hljs-keyword">import</span> todoApp <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./reducers&#x27;</span>;<span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./components/App&#x27;</span>;<span class="hljs-keyword">let</span> store = createStore(todoApp);render(    &lt;Provider store=&#123;store&#125;&gt;        &lt;App /&gt;    &lt;/Provider&gt;,    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;root&#x27;</span>))</code></pre><p>&emsp;Provider åœ¨æ ¹ç»„ä»¶å¤–é¢åŒ…äº†ä¸€å±‚ï¼Œè¿™æ ·ä¸€æ¥ï¼ŒAppçš„æ‰€æœ‰å­ç»„ä»¶é»˜è®¤éƒ½å¯ä»¥æ‹¿åˆ°stateäº†ã€‚Providerçš„åŸç†æ—¶Reactç»„ä»¶çš„contextå±æ€§ã€‚<br>æºç ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Provider</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span></span>&#123;    <span class="hljs-function"><span class="hljs-title">getChildContext</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> &#123;            store:<span class="hljs-built_in">this</span>.props.store        &#125;    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.props.children;    &#125;&#125;Provider.childContextTypes = &#123;    store:React.PropTypes.object&#125;</code></pre><p>&emsp;ä¸Šé¢ä»£ç ä¸­ï¼Œstoreæ”¾åœ¨äº†ä¸Šä¸‹æ–‡å¯¹è±¡contextä¸Šé¢ã€‚ç„¶åï¼Œå­ç»„ä»¶å°±å¯ä»¥ä»contextæ‹¿åˆ°storeã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VisibleTodoList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span></span>&#123;    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">const</span> &#123;store&#125; = <span class="hljs-built_in">this</span>.context;        <span class="hljs-built_in">this</span>.unsubscribe=store.subscribe(<span class="hljs-function">()=&gt;</span>            <span class="hljs-built_in">this</span>.forceUpdate()        );    &#125;    <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">const</span> props=<span class="hljs-built_in">this</span>.props;        <span class="hljs-keyword">const</span> &#123;store&#125;=<span class="hljs-built_in">this</span>.context;        <span class="hljs-keyword">const</span> state=store.getState();        <span class="hljs-comment">//...</span>    &#125;&#125;VisibleTodoList.contextTypes = &#123;    store:React.PropTypes.object&#125;</code></pre><p>React-Redux è‡ªåŠ¨ç”Ÿæˆçš„å®¹å™¨ç»„ä»¶çš„ä»£ç å°±æ˜¯ç±»ä¼¼äºä¸Šé¢è¿™æ ·ï¼Œæ‹¿åˆ°storeã€‚</p><h3 id="ä¸ƒã€React-Router-è·¯ç”±åº“"><a href="#ä¸ƒã€React-Router-è·¯ç”±åº“" class="headerlink" title="ä¸ƒã€React-Router è·¯ç”±åº“"></a>ä¸ƒã€React-Router è·¯ç”±åº“</h3><p>&emsp;ä½¿ç”¨React-Routerçš„é¡¹ç›®ï¼Œä¸å…¶ä»–é¡¹ç›®æ²¡æœ‰ä¸åŒä¹‹å¤„ï¼Œä¹Ÿæ˜¯ä½¿ç”¨Provideråœ¨Routerå¤–é¢åŒ…ä¸€å±‚ã€‚æ¯•ç«ŸProviderçš„å”¯ä¸€åŠŸèƒ½å°±æ˜¯ä¼ å…¥storeå¯¹è±¡ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> Root = <span class="hljs-function">(<span class="hljs-params">&#123;store&#125;</span>) =&gt;</span> (    &lt;Provider store=&#123;store&#125;&gt;        &lt;Router&gt;            &lt;Route path=<span class="hljs-string">&quot;/&quot;</span> component=&#123;App&#125; /&gt;        &lt;/Router&gt;    &lt;/Provider&gt;)</code></pre>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>11-reduxä¹‹ä¸­é—´ä»¶ä¸å¼‚æ­¥æ“ä½œ</title>
    <link href="/2020/11/16/11-redux%E4%B9%8B%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%B8%8E%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C/"/>
    <url>/2020/11/16/11-redux%E4%B9%8B%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%B8%8E%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<p>ç¬¬10ç¯‡æ–‡ç« é‡Œï¼Œä»‹ç»äº†reduxçš„åŸºæœ¬åšæ³•ï¼šç”¨æˆ·å‘å‡ºAction, Reducerå‡½æ•°ç®—å‡ºæ–°çš„Stateï¼ŒViewé‡æ–°æ¸²æŸ“ã€‚<br><img src="https://pic.downk.cc/item/5fb26119b18d627113c52bcf.jpg"><br>ä½†æ˜¯å¼‚æ­¥æ“ä½œåº”è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼ŸActionå‘å‡ºä»¥åï¼ŒReducerç«‹å³ç®—å‡ºæ–°çš„State, è¿™å°±å«åšåŒæ­¥ï¼›Actionå‘å‡ºåï¼Œè¿‡ä¸€æ®µæ—¶é—´å†æ‰§è¡ŒReducer,è¿™å°±å«åšå¼‚æ­¥ã€‚<br>æ€ä¹ˆæ‰èƒ½è®©reduceråœ¨å¼‚æ­¥æ“ä½œç»“æŸåè‡ªåŠ¨æ‰§è¡Œå‘¢ï¼Ÿè¿™å°±è¦ç”¨åˆ°æ–°çš„å·¥å…·ï¼š <strong>ä¸­é—´ä»¶</strong>ï¼ˆmiddlewareï¼‰<br><img src="https://pic.downk.cc/item/5fb27135b18d627113c87d35.jpg"></p><h3 id="ä¸€ã€ä¸­é—´ä»¶çš„æ¦‚å¿µ"><a href="#ä¸€ã€ä¸­é—´ä»¶çš„æ¦‚å¿µ" class="headerlink" title="ä¸€ã€ä¸­é—´ä»¶çš„æ¦‚å¿µ"></a>ä¸€ã€ä¸­é—´ä»¶çš„æ¦‚å¿µ</h3><p>ä¸ºäº†è®©reduxå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œï¼ŒåŠ¿å¿…è¦åœ¨reduxå·¥ä½œæµç¨‹ä¸­æ·»åŠ æ–°çš„åŠŸèƒ½ã€‚é‚£ä¹ˆåœ¨å“ªä¸ªç¯èŠ‚æ·»åŠ åˆé€‚å‘¢ï¼Ÿ</p><p>ï¼ˆ1ï¼‰Reducer: çº¯å‡½æ•°ï¼Œåªèƒ½æ‰¿æ‹…è®¡ç®—Stateçš„åŠŸèƒ½ï¼Œä¸é€‚åˆæ‰¿æ‹…å…¶ä»–åŠŸèƒ½ï¼Œä¹Ÿæ‰¿æ‹…ä¸äº†ã€‚å› ä¸ºç†è®ºä¸Šï¼Œçº¯å‡½æ•°ä¸èƒ½è¿›è¡Œè¯»å†™çš„æ“ä½œã€‚</p><p>ï¼ˆ2ï¼‰View: ä¸Stateä¸€ä¸€å¯¹åº”ï¼Œå¯ä»¥çœ‹ä½œæ˜¯Stateçš„è§†è§‰å±‚ï¼Œä¹Ÿä¸åˆé€‚æ‰¿æ‹…å…¶ä»–åŠŸèƒ½ã€‚</p><p>ï¼ˆ3ï¼‰Action: å­˜æ”¾æ•°æ®çš„å¯¹è±¡ï¼Œå³æ¶ˆæ¯çš„è½½ä½“ï¼Œåªèƒ½è¢«åˆ«äººæ“ä½œï¼Œè‡ªå·±ä¸èƒ½è¿›è¡Œä»»ä½•æ“ä½œã€‚</p><p>æƒ³æ¥æƒ³å»ï¼Œåªæœ‰å‘é€Actionçš„è¿™ä¸ªæ­¥éª¤ï¼Œå³Store.dispatch()è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ·»åŠ åŠŸèƒ½ã€‚<br>ä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯¹store.dispatchæ–¹æ³•è¿›è¡Œäº†æ”¹é€ ï¼Œåœ¨å‘å‡ºActionå’Œæ‰§è¡ŒReducerè¿™ä¸¤æ­¥ä¹‹é—´ï¼Œæ·»åŠ äº†å…¶ä»–åŠŸèƒ½ã€‚</p><h3 id="äºŒã€ä¸­é—´ä»¶çš„ä½¿ç”¨"><a href="#äºŒã€ä¸­é—´ä»¶çš„ä½¿ç”¨" class="headerlink" title="äºŒã€ä¸­é—´ä»¶çš„ä½¿ç”¨"></a>äºŒã€ä¸­é—´ä»¶çš„ä½¿ç”¨</h3><p>å¸¸ç”¨çš„ä¸­é—´ä»¶éƒ½æ˜¯ç°æˆçš„ï¼Œåªæœ‰å¼•ç”¨åˆ«äººå†™å¥½çš„æ¨¡å—å°±è¡Œã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; applyMiddleware,createStore&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;<span class="hljs-keyword">import</span> createLogger <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux-logger&#x27;</span>;<span class="hljs-keyword">const</span> logger = createLogger();<span class="hljs-keyword">const</span> store = createStore(    reducer,    initialState, <span class="hljs-comment">//æ•´ä¸ªåº”ç”¨çš„åˆå§‹çŠ¶æ€</span>    applyMiddleware(logger))</code></pre><p>ğŸ–ï¼šä¸­é—´ä»¶çš„æ¬¡åºæœ‰è®²ç©¶ã€‚æœ‰çš„ä¸­é—´ä»¶æœ‰æ¬¡åºè¦æ±‚ï¼Œæ¯”å¦‚loggerå°±ä¸€å®šæ”¾åœ¨æœ€åï¼Œå¦åˆ™è¾“å‡ºç»“æœä¼šä¸æ­£ç¡®ã€‚ä½¿ç”¨å‰è¦æŸ¥é˜…ç›¸å…³æ–‡æ¡£</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> store = createStore(    reducer,    appltMiddleware(thunk,promise,logger)    <span class="hljs-comment">//è¿™é‡Œæ˜¯ç”¨äº†ä¸‰ä¸ªä¸­é—´ä»¶</span>)</code></pre><p>==applyMiddlewares()ï¼š== applyMiddlewaresæ˜¯Reduxçš„åŸç”Ÿæ–¹æ³•ï¼Œä½œç”¨æ˜¯å°†æ‰€æœ‰ä¸­é—´ä»¶ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¾æ¬¡æ‰§è¡Œã€‚</p><h3 id="ä¸‰ã€å¼‚æ­¥æ“ä½œçš„åŸºæœ¬æ€è·¯"><a href="#ä¸‰ã€å¼‚æ­¥æ“ä½œçš„åŸºæœ¬æ€è·¯" class="headerlink" title="ä¸‰ã€å¼‚æ­¥æ“ä½œçš„åŸºæœ¬æ€è·¯"></a>ä¸‰ã€å¼‚æ­¥æ“ä½œçš„åŸºæœ¬æ€è·¯</h3><p>åŒæ­¥æ“ä½œåªè¦å‘å‡ºä¸€ç§Actionå³å¯ï¼Œå¼‚æ­¥æ“ä½œçš„å·®åˆ«æ˜¯å®ƒè¦å‘å‡ºä¸‰ç§Action:</p><ul><li>æ“ä½œå‘èµ·æ—¶çš„Action</li><li>æ“ä½œæˆåŠŸæ—¶çš„Action</li><li>æ“ä½œå¤±è´¥æ—¶çš„Action</li></ul><p>ä»¥æœåŠ¡å™¨å–å‡ºæ•°æ®ä¸ºä¾‹ï¼Œä¸‰ç§Actionå¯ä»¥æœ‰ä¸¤ç§å†™æ³•ï¼š</p><pre><code class="hljs js"><span class="hljs-comment">//å†™æ³•ä¸€ï¼šåç§°ç›¸åŒï¼Œå‚æ•°ä¸åŒ</span>&#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;FETCH_POSTS&#x27;</span>&#125;&#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;FETCH_POSTS&#x27;</span>,<span class="hljs-attr">status</span>:<span class="hljs-string">&#x27;error&#x27;</span>,<span class="hljs-attr">error</span>:<span class="hljs-string">&#x27;OoPS&#x27;</span>&#125;&#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;FETCH_POSTS&#x27;</span>,<span class="hljs-attr">status</span>:<span class="hljs-string">&#x27;success&#x27;</span>,<span class="hljs-attr">response</span>:&#123;...&#125; &#125;<span class="hljs-comment">//å†™æ³•äºŒï¼šåç§°ä¸åŒ</span>&#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;FETCH_POSTS_REQUEST&#x27;</span>&#125;&#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;FETCH_POSTS_FAILURE&#x27;</span>,<span class="hljs-attr">error</span>:<span class="hljs-string">&#x27;Oops&#x27;</span>&#125;&#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;FETCH_POSTS_SUCCESS&#x27;</span>,<span class="hljs-attr">response</span>:&#123;...&#125;&#125;</code></pre><p>é™¤äº†Actionç§ç±»ä¸åŒï¼Œå¼‚æ­¥æ“ä½œçš„Stateä¹Ÿè¦è¿›è¡Œæ”¹é€ ï¼Œåæ˜ ä¸åŒçš„æ“ä½œçŠ¶æ€ã€‚<br>ä¾‹å­ï¼š</p><pre><code class="hljs js"><span class="hljs-keyword">let</span> state=&#123;    <span class="hljs-comment">//...</span>    isFetching:<span class="hljs-literal">true</span>, <span class="hljs-comment">//æ˜¯å¦æ­£åœ¨æŠ“å–æ•°æ®</span>    didInvalidate:<span class="hljs-literal">true</span>,<span class="hljs-comment">//æ˜¯å¦è¶…æ—¶</span>    lastUpdated:<span class="hljs-string">&#x27;xxxx&#x27;</span><span class="hljs-comment">//ä¸Šä¸€æ¬¡æ›´æ–°æ—¶é—´</span>&#125;</code></pre><p>ç°åœ¨ï¼Œæ•´ä¸ªå¼‚æ­¥æ“ä½œçš„æ€è·¯å°±æ¯”è¾ƒæ¸…æ™°äº†</p><ul><li>1.æ“ä½œå¼€å§‹æ—¶ï¼Œå‘é€ä¸€ä¸ªAction,è§¦å‘State æ›´æ–°ä¸ºâ€œæ­£åœ¨æ“ä½œâ€çŠ¶æ€ï¼ŒViewé‡æ–°æ¸²æŸ“</li><li>2.æ“ä½œç»“æŸåï¼Œå†é€å‡ºä¸€ä¸ªAction,è§¦å‘State æ›´æ–°ä¸ºâ€œæ“ä½œç»“æŸâ€çŠ¶æ€ï¼ŒViewå†æ¬¡é‡æ–°æ¸²æŸ“ã€‚</li></ul><h3 id="å››ã€redux-thunkä¸­é—´ä»¶"><a href="#å››ã€redux-thunkä¸­é—´ä»¶" class="headerlink" title="å››ã€redux-thunkä¸­é—´ä»¶"></a>å››ã€redux-thunkä¸­é—´ä»¶</h3><p>å¼‚æ­¥æ“ä½œè‡³å°‘è¦å‘ä¸¤ä¸ªActionï¼šç”¨æˆ·è§¦å‘ç¬¬ä¸€ä¸ªAction,è¿™ä¸ªè·ŸåŒæ­¥æ“ä½œä¸€æ ·æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ï¼Œå¦‚ä½•æ‰èƒ½å†æ“ä½œç»“æŸæ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨é€å‡ºç¬¬äºŒä¸ªActionå‘¢ï¼Ÿ</p><p>è¿™ä¸ªå¥¥å¦™åœ¨äºAction Creatorä¹‹ä¸­ã€‚</p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span></span>&#123;    <span class="hljs-comment">//åŠ è½½æˆåŠŸåï¼Œ</span>    <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">const</span> &#123;dispatch,selectedPost&#125;=<span class="hljs-built_in">this</span>.props;        <span class="hljs-comment">//å‘é€ä¸€ä¸ªAction,å‘æœåŠ¡å™¨è¦æ•°æ®</span>        <span class="hljs-comment">//è¿™é‡Œçš„fetchPosts()å‡½æ•°å°±æ˜¯Action Creator</span>        dispatch(fetchPosts(selectedPost));    &#125;&#125;</code></pre><p>ä¸‹é¢å°±æ˜¯fetchPostsçš„ä»£ç </p><pre><code class="hljs js"><span class="hljs-keyword">const</span> fetchPosts = <span class="hljs-function"><span class="hljs-params">postTitle</span> =&gt;</span><span class="hljs-function">(<span class="hljs-params">dispatch,getState</span>)=&gt;</span>&#123;    <span class="hljs-comment">//1.å…ˆå‘å‡ºä¸€ä¸ªAction</span>    dispatch(requestPosts(postTitle));    <span class="hljs-comment">//2.è¿›è¡Œå¼‚æ­¥æ“ä½œ</span>    <span class="hljs-keyword">return</span> fetch(<span class="hljs-string">&#x27;/some/API/$&#123;postTitle&#125;.json&#x27;</span>)        <span class="hljs-comment">//3.æ‹¿åˆ°ç»“æœï¼Œå°†ç»“æœè½¬æ¢ä¸ºJSONæ ¼å¼</span>        .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.json())        <span class="hljs-comment">//4.å†å‘å‡ºä¸€ä¸ªAction</span>        .then(<span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> dispatch(receivePosts(postTitle,json)))&#125;</code></pre><p>ğŸ–ï¼š</p><ul><li>fetchPosts è¿”å›äº†ä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ™®é€šçš„Action Creatorè¿”å›ä¸€ä¸ªActionå¯¹è±¡</li><li>fetchPosts è¿”å›çš„å‡½æ•°å…¥å‚æ—¶dispatchå’ŒgetStateè¿™ä¸¤ä¸ªreduxæ–¹æ³•ï¼Œæ™®é€šçš„Action Creatorçš„å‚æ•°æ˜¯Actionçš„å†…å®¹ã€‚</li><li>åœ¨è¿”å›çš„å‡½æ•°ä¸­ï¼Œå…ˆå‘å‡ºä¸€ä¸ªActionï¼ˆrequestPosts(postTitle)ï¼‰ï¼Œè¡¨ç¤ºæ“ä½œå¼€å§‹</li><li>å¼‚æ­¥æ“ä½œç»“æŸä¹‹åï¼Œåˆå‘å‡ºä¸€ä¸ªActionï¼ˆreceivePosts(postTitle,json)ï¼‰ï¼Œè¡¨ç¤ºæ“ä½œç»“æŸã€‚</li></ul><p>è¿™æ ·çš„å¤„ç†ï¼Œè§£å†³äº†å¼‚æ­¥æ“ä½œä¸­éœ€è¦è‡ªåŠ¨å‘å‡ºç¬¬äºŒä¸ªActionçš„é—®é¢˜ï¼Œä½†æ˜¯ï¼ŒActionæ˜¯ç”±store.dispatchæ–¹æ³•å‘å‡ºçš„ï¼Œè€Œè¿™ä¸ªæ–¹æ³•æ­£å¸¸æƒ…å†µä¸‹ï¼Œå…¥å‚åªèƒ½æ˜¯å¯¹è±¡è€Œä¸èƒ½æ˜¯å‡½æ•°ã€‚<br>====&gt; è¿™æ—¶ï¼Œå°±éœ€è¦ä¸­é—´ä»¶redux-think</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;<span class="hljs-keyword">import</span> thunk <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux-thunk&#x27;</span>;<span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./reducers&#x27;</span>;<span class="hljs-comment">// Note: this API requires redux@&gt;=3.1.0</span><span class="hljs-keyword">const</span> store = createStore(  reducer,  applyMiddleware(thunk));</code></pre><p>ä¸Šé¢ä»£ç ä½¿ç”¨redux-thunk,æ”¹é€ store.dispatch,ä½¿å¾—åè€…å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ã€‚</p><p>å› æ­¤ï¼Œå¼‚æ­¥æ“ä½œçš„ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼šå†™ä¸€ä¸ªè¿”å›å‡½æ•°çš„Action Creator,ç„¶åä½¿ç”¨redux-thunk ä¸­é—´ä»¶æ”¹é€ store.dispatch.</p><h3 id="äº”ã€redux-promiseä¸­é—´ä»¶"><a href="#äº”ã€redux-promiseä¸­é—´ä»¶" class="headerlink" title="äº”ã€redux-promiseä¸­é—´ä»¶"></a>äº”ã€redux-promiseä¸­é—´ä»¶</h3><p>&emsp;æ—¢ç„¶Action Creator å¯ä»¥è¿”å›å‡½æ•°ï¼Œå½“ç„¶ä¹Ÿå¯è¿”å›å…¶ä»–å€¼ã€‚æ‰€ä»¥å¦ä¸€ç§å¼‚æ­¥æ“ä½œçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ï¼Œè®©Action Creatorè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡.</p><p>&emsp;è¿™å°±éœ€è¦ä½¿ç”¨redux-promiseä¸­é—´ä»¶ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;createStore,applyMiddleware&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;<span class="hljs-keyword">import</span> promiseMiddleware <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux-promise&#x27;</span>;<span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./reducers&#x27;</span>;<span class="hljs-comment">//è¿™æ—¶Action Creatoræœ‰ä¸¤ç§å†™æ³•ï¼Œ</span><span class="hljs-comment">//1.è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡</span><span class="hljs-keyword">const</span> fetchPosts=<span class="hljs-function">(<span class="hljs-params">dispatch,postTitle</span>)=&gt;</span><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve,reject</span>)</span>&#123;    dispatch(requestPosts(postTitle));    <span class="hljs-keyword">return</span> fetch(<span class="hljs-string">&#x27;/some/API/$&#123;postTitle&#125;.json)</span><span class="hljs-string">        .then(response=&gt;&#123;</span><span class="hljs-string">            type:&#x27;</span>FETCH_POSTS<span class="hljs-string">&#x27;,</span><span class="hljs-string">            payload:response.json()</span><span class="hljs-string">        &#125;)</span><span class="hljs-string">&#125;)</span><span class="hljs-string"></span><span class="hljs-string">//2.Actionå¯¹è±¡çš„payloadå±æ€§æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œ</span><span class="hljs-string">// è¿™æ—¶éœ€è¦ä»redux-actionsæ¨¡å—å¼•å…¥createActionæ–¹æ³•</span></code></pre><p>å‚è€ƒæ–‡ç« ï¼š<a href="http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_two_async_operations.html">é˜®ä¸€å³°reduxæ•™ç¨‹</a></p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>010-çŠ¶æ€ç®¡ç†åº“Redux</title>
    <link href="/2020/11/16/010-%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%BA%93Redux/"/>
    <url>/2020/11/16/010-%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%BA%93Redux/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€Reactä¸ºä½•éœ€è¦çŠ¶æ€ç®¡ç†åº“"><a href="#ä¸€ã€Reactä¸ºä½•éœ€è¦çŠ¶æ€ç®¡ç†åº“" class="headerlink" title="ä¸€ã€Reactä¸ºä½•éœ€è¦çŠ¶æ€ç®¡ç†åº“"></a>ä¸€ã€Reactä¸ºä½•éœ€è¦çŠ¶æ€ç®¡ç†åº“</h3><p><img src="https://i.bmp.ovh/imgs/2020/11/26a4726bd6216f11.png"></p><p><img src="https://i.bmp.ovh/imgs/2020/11/8ed5fe88ed497e9c.png"><br>ç»„ä»¶ä¹‹é—´é€šä¿¡éå¸¸éº»çƒ¦ï¼Œæœ‰äº†reduxæŠŠçŠ¶æ€å•ç‹¬æ‹§å‡ºæ¥ï¼Œç»„ä»¶é€šä¿¡å°±å˜å¾—ç®€å•äº†ã€‚</p><p>Reduxçš„ç‰¹æ€§ï¼š</p><ul><li><strong>1ã€Single Source of Truth</strong></li></ul><p>&emsp;ä¼ ç»Ÿçš„MVCæ¶æ„ï¼šä¸€ä¸ªviewå¯èƒ½å¯¹åº”å¤šä¸ªmodel,ä¸€ä¸ªmodelä¹Ÿå¯èƒ½å¯¹åº”å¤šä¸ªview,å…³ç³»é”™ç»¼å¤æ‚ï¼Œè¿™æ ·ä¸€æ—¦å‡ºç°é”™è¯¯å¾ˆéš¾è¿½è¸ªã€‚<br><img src="https://i.bmp.ovh/imgs/2020/11/5a9cb384b94cc272.png"></p><p>&emsp;Reduxçš„ç»“æ„ï¼šåªæœ‰ä¸€ä¸ªStore,å‡ºç°é”™è¯¯å®¹æ˜“è¿½è¸ªã€‚</p><p><img src="https://i.bmp.ovh/imgs/2020/11/fbb96f01a9c20437.png"></p><ul><li><p><strong>2ã€å¯é¢„æµ‹æ€§</strong> ï¼ˆä¸å¯å˜æ€§immutableï¼‰</p><p><img src="https://i.bmp.ovh/imgs/2020/11/4753506caf528c03.png"></p></li><li><p><strong>3ã€çº¯å‡½æ•°æ›´æ–°State</strong></p></li></ul><p>&emsp;&emsp;reduxæ²¡æœ‰å‰¯ä½œç”¨.<br><img src="https://i.bmp.ovh/imgs/2020/11/17c05a6f634a7eaf.png"></p><h3 id="äºŒã€ç†è§£Reduxçš„æ ¸å¿ƒæ¦‚å¿µï¼šStore-Action-Reducer"><a href="#äºŒã€ç†è§£Reduxçš„æ ¸å¿ƒæ¦‚å¿µï¼šStore-Action-Reducer" class="headerlink" title="äºŒã€ç†è§£Reduxçš„æ ¸å¿ƒæ¦‚å¿µï¼šStore, Action,Reducer"></a>äºŒã€ç†è§£Reduxçš„æ ¸å¿ƒæ¦‚å¿µï¼šStore, Action,Reducer</h3><p><strong>1.ç†è§£Store:</strong><br><img src="https://i.bmp.ovh/imgs/2020/11/bc6be7d1bc1deaf2.png"></p><p>Storeå°±æ˜¯ä¿å­˜æ•°æ®çš„åœ°æ–¹ï¼Œå¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªå®¹å™¨ã€‚æ•´ä¸ªåº”ç”¨åªèƒ½æœ‰ä¸€ä¸ªStoreã€‚<br>Reduxæä¾›<strong>createStore</strong>è¿™ä¸ªå‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆStoreã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;createStore&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;<span class="hljs-comment">//createStoreæ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›æ–°ç”Ÿæˆçš„storeå¯¹è±¡ã€‚</span><span class="hljs-keyword">const</span> store = createStore(fn);</code></pre><p><strong>==State:==</strong> &emsp;Storeå¯¹è±¡åŒ…å«æ‰€æœ‰æ•°æ®ï¼Œå¦‚æœæƒ³å¾—åˆ°æŸä¸ªæ—¶ç‚¹çš„æ•°æ®ï¼Œå°±è¦å¯¹Storeç”Ÿæˆå¿«ç…§ã€‚è¿™ç§æ—¶ç‚¹çš„æ•°æ®é›†åˆï¼Œå°±å«åšStateã€‚<br>å½“å‰æ—¶åˆ»çš„State,å¯ä»¥é€šè¿‡ store.getState() æ‹¿åˆ°ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;createStore&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;<span class="hljs-keyword">const</span> store = createStore(fn);<span class="hljs-keyword">const</span> state = store.getState();</code></pre><p>reduxè§„å®šï¼Œ<strong>ä¸€ä¸ªstateå¯¹åº”ä¸€ä¸ªview</strong>ã€‚åªè¦stateç›¸åŒï¼Œviewå°±ç›¸åŒã€‚çŸ¥é“äº†State,å°±çŸ¥é“äº†Viewæ˜¯ä»€ä¹ˆæ ·ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p><strong>2.ç†è§£Action:</strong></p><p>&emsp;Stateçš„å˜åŒ–ï¼Œä¼šå¯¼è‡´viewçš„å˜åŒ–ã€‚ä½†æ˜¯ï¼Œç”¨æˆ·æ¥è§¦ä¸åˆ°State,åªèƒ½æ¥è§¦åˆ°viewã€‚æ‰€ä»¥ï¼ŒStateçš„å˜åŒ–å¿…é¡»æ˜¯viewå¯¼è‡´çš„ã€‚Actionå°±æ˜¯viewå‘å‡ºçš„é€šçŸ¥ï¼Œæ ‡è¯†Stateåº”è¯¥è¦å˜åŒ–äº†ã€‚</p><p>&emsp;Actionæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­çš„typeå±æ€§æ˜¯å¿…é¡»çš„ï¼Œæ ‡è¯†Actionçš„åç§°ã€‚å…¶ä»–å±æ€§å¯ä»¥è‡ªç”±è®¾ç½®ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> action = &#123;  type:<span class="hljs-string">&#x27;ADD_TODO&#x27;</span>,  payload:<span class="hljs-string">&#x27;learn redux&#x27;</span>&#125;</code></pre><p>ä¸Šè¿°ä»£ç ä¸­ï¼ŒActionçš„åç§°æ˜¯ADD_TODOï¼Œå®ƒæºå¸¦çš„ä¿¡æ¯æ˜¯å­—ç¬¦ä¸² learn redux.</p><p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼ŒActionæè¿°å½“å‰å‘ç”Ÿçš„äº‹æƒ…ã€‚æ”¹å˜Stateçš„å”¯ä¸€æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨Actionã€‚å®ƒä¼šè¿é€æ•°æ®ç»™Storeã€‚</p><p><strong>Action Creator:</strong><br>Viewè¦å‘ç”Ÿå¤šå°‘ç§æ¶ˆæ¯ï¼Œå°±ä¼šæœ‰å¤šå°‘ç§Action.å¦‚æœéƒ½æ‰‹å†™ï¼Œä¼šå¾ˆéº»çƒ¦ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨æ¥ç”ŸæˆAction,è¿™ä¸ªå‡½æ•°å°±å« Action Creator</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> ADD_TODO = <span class="hljs-string">&#x27;æ·»åŠ TODO&#x27;</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addTodo</span>(<span class="hljs-params">text</span>)</span>&#123;  <span class="hljs-keyword">return</span> &#123;    type:ADD_TODO,    text  &#125;&#125;<span class="hljs-keyword">const</span> action=addTodo(<span class="hljs-string">&#x27;learn redux&#x27;</span>)<span class="hljs-string">``</span><span class="hljs-string">` </span><span class="hljs-string">ä¸Šé¢ä»£ç ä¸­ï¼ŒaddTodoå‡½æ•°å°±æ˜¯ä¸€ä¸ªAction Creator</span><span class="hljs-string"></span><span class="hljs-string">**store.dispatch():**</span><span class="hljs-string">store.dispatch()æ˜¯Viewå‘å‡ºActionçš„å”¯ä¸€æ–¹æ³•ã€‚</span><span class="hljs-string">`</span><span class="hljs-string">``</span>js<span class="hljs-keyword">import</span> &#123;createStore&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;<span class="hljs-keyword">const</span> store = createStore(fn);store.dispatch(&#123;  type:<span class="hljs-string">&#x27;ADD_TODO&#x27;</span>,  payload:<span class="hljs-string">&#x27;learn redux&#x27;</span>&#125;)</code></pre><p>ç»“åˆ Action Crreator,è¿™æ®µä»£ç å¯ä»¥æ”¹å†™å¦‚ä¸‹ï¼š</p><pre><code class="hljs js">store.dispatch(addTodo(<span class="hljs-string">&#x27;learn redux&#x27;</span>));</code></pre><p><strong>3.ç†è§£Reducerï¼š</strong></p><p>Storeåœ¨æ”¶åˆ°Actionä¹‹åï¼Œå¿…é¡»ç»™å‡ºä¸€ä¸ªæ–°çš„State,è¿™æ ·Viewæ‰ä¼šå‘ç”Ÿå˜åŒ–ã€‚è¿™ç§Stateçš„è®¡ç®—è¿‡ç¨‹ï¼Œå°±å«åš Reducerã€‚</p><p>Reduceræ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—Actionå’Œå½“å‰çš„State,è¿”å›ä¸€ä¸ªæ–°çš„Stateã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> reducer = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">state,action</span>)</span>&#123;  <span class="hljs-comment">//...</span>  <span class="hljs-keyword">return</span> new_state;&#125;</code></pre><p>æ•´ä¸ªåº”ç”¨çš„åˆå§‹çŠ¶æ€ï¼Œå¯ä»¥ä½œä¸ºStateçš„é»˜è®¤å€¼ï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ªå®é™…çš„ä¾‹å­ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> defaultState=<span class="hljs-number">0</span>;<span class="hljs-keyword">const</span> reducer = <span class="hljs-function">(<span class="hljs-params">state=defaultState,action</span>)=&gt;</span>&#123;  <span class="hljs-function"><span class="hljs-title">switch</span>(<span class="hljs-params">action.type</span>)</span>&#123;    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;ADD&#x27;</span>:      <span class="hljs-keyword">return</span> state + action.payload;    <span class="hljs-keyword">default</span>:      <span class="hljs-keyword">return</span> state;  &#125;&#125;;<span class="hljs-keyword">const</span> state=reducer(<span class="hljs-number">1</span>,&#123;  type:<span class="hljs-string">&#x27;ADD&#x27;</span>,  payload:<span class="hljs-number">2</span>&#125;)</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œreducerå‡½æ•°æ¥æ”¶åˆ°ä¸€ä¸ªåä¸ºADDçš„actionä»¥åï¼Œå°±è¿”å›ä¸€ä¸ªæ–°çš„Stateã€‚<br>å®é™…åº”ç”¨ä¸­ï¼ŒReducerä¸éœ€è¦åƒä¸Šé¢è¿™æ ·æ‰‹åŠ¨è°ƒç”¨ï¼Œstore.dispatchæ–¹æ³•ä¼šè§¦å‘reducerçš„è‡ªåŠ¨æ‰§è¡Œã€‚ä¸ºæ­¤ï¼ŒStoreéœ€è¦çŸ¥é“reducerå‡½æ•°ï¼Œåšæ³•å°±æ˜¯åœ¨ç”ŸæˆStoreçš„æ—¶å€™ï¼Œå°±å°†reducerä¼ å…¥ç»™createStoreæ–¹æ³•ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;createStore&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;<span class="hljs-keyword">const</span> store = createStore(reducer);<span class="hljs-comment">//ä»¥åæ¯å½“store.dispatchå‘é€è¿‡æ¥ä¸€ä¸ªæ–°çš„Action,</span><span class="hljs-comment">//å°±ä¼šè‡ªåŠ¨è°ƒç”¨Reducerï¼Œå¾—åˆ°æ–°çš„State</span></code></pre><p>ğŸ–ä¸ºä»€ä¹ˆè¿™ä¸ªå‡½æ•°è¢«å«åšReducerå‘¢ï¼Ÿ<br>âœ¨å› ä¸ºå®ƒå¯ä»¥ä½œä¸ºæ•°ç»„çš„reduceæ–¹æ³•çš„å‚æ•°ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œä¸€ç³»åˆ—çš„Actionå¯¹è±¡æŒ‰ç…§é¡ºåºä½œä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> actions = [  &#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;ADD&#x27;</span>,<span class="hljs-attr">payload</span>:<span class="hljs-number">0</span>&#125;,  &#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;ADD&#x27;</span>,<span class="hljs-attr">payload</span>:<span class="hljs-number">1</span>&#125;,  &#123;<span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;ADD&#x27;</span>,<span class="hljs-attr">payload</span>:<span class="hljs-number">2</span>&#125;];<span class="hljs-keyword">const</span> total = actions.reduce(reducer,<span class="hljs-number">0</span>)<span class="hljs-comment">//3</span></code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„actionsè¡¨ç¤ºä¾æ¬¡æœ‰ä¸‰ä¸ª Actionï¼Œåˆ†åˆ«æ˜¯åŠ 0ã€åŠ 1å’ŒåŠ 2ã€‚æ•°ç»„çš„reduceæ–¹æ³•æ¥å— Reducer å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°±å¯ä»¥ç›´æ¥å¾—åˆ°æœ€ç»ˆçš„çŠ¶æ€3ã€‚ </p><p><img src="https://i.bmp.ovh/imgs/2020/11/43ed9499a953d590.png"></p><p><strong>Reducerå‡½æ•°æœ€é‡è¦çš„ç‰¹å¾æ˜¯:å®ƒæ˜¯ä¸€ä¸ªçº¯å‡½æ•°ã€‚</strong><br>==çº¯å‡½æ•°==ï¼š çº¯å‡½æ•°æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µï¼Œå¿…é¡»éµå®ˆä»¥ä¸‹ä¸€äº›çº¦æŸã€‚</p><ul><li>ä¸å¾—æ”¹å†™å‚æ•°</li><li>ä¸èƒ½è°ƒç”¨ç³»ç»Ÿ I/Oçš„API</li><li>ä¸èƒ½è°ƒç”¨Date.now()æˆ–è€…Math.randomç­‰ä¸çº¯çš„æ–¹æ³•ï¼Œå› ä¸ºæ¯æ¬¡éƒ½ä¼šå¾—åˆ°ä¸ä¸€æ ·çš„ç»“æœã€‚</li></ul><p>ç”±äºReduceræ˜¯çº¯å‡½æ•°ï¼Œå°±å¯ä»¥ä¿è¯åŒæ ·çš„Stateå¿…å®šå¾—åˆ°åŒæ ·çš„Viewã€‚ä½†ä¹Ÿæ­£å› ä¸ºè¿™ä¸€ç‚¹ï¼ŒReducerå‡½æ•°é‡Œé¢ä¸èƒ½æ”¹å˜Stateï¼Œå¿…é¡»è¿”å›ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬å¸¸é‡‡ç”¨ æ‹“å±•è¿ç®—ç¬¦â€¦å’ŒObject.assign()å¯¹stateè¿›è¡Œæ›´æ–°ã€‚(æœ€å¥½æŠŠStateå¯¹è±¡è®¾ä¸ºåªè¯»)</p><pre><code class="hljs js"><span class="hljs-comment">//1.stateæ˜¯ä¸€ä¸ªå¯¹è±¡</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reducer</span>(<span class="hljs-params">state,action</span>)</span>&#123;  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.assign(&#123;&#125;,state,&#123;thingTochange&#125;);  <span class="hljs-comment">//æˆ–è€…</span>  <span class="hljs-keyword">return</span> &#123;...state,...newState&#125;;&#125;<span class="hljs-comment">//2.stateæ˜¯ä¸€ä¸ªæ•°ç»„</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reducer</span>(<span class="hljs-params">state,action</span>)</span>&#123;  <span class="hljs-keyword">return</span> [...state,newItem]&#125;</code></pre><p>ä¸‹å›¾ç»¼åˆç†è§£è¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œå¯ä»¥çœ‹å‡ºreduxçš„å•å‘æ•°æ®æµåŠ¨ã€‚<br><img src="https://i.bmp.ovh/imgs/2020/11/9fceb4adcb97b639.png"></p><h3 id="ä¸‰ã€reduxçš„å‡ ä¸ªå·¥å…·å‡½æ•°"><a href="#ä¸‰ã€reduxçš„å‡ ä¸ªå·¥å…·å‡½æ•°" class="headerlink" title="ä¸‰ã€reduxçš„å‡ ä¸ªå·¥å…·å‡½æ•°"></a>ä¸‰ã€reduxçš„å‡ ä¸ªå·¥å…·å‡½æ•°</h3><p><strong>1.combineReducers:</strong></p><p>å°†å¤šä¸ªreducerç»“åˆèµ·æ¥å½¢æˆæ–°çš„reducerã€‚</p><p><img src="https://pic.downk.cc/item/5fb1ddf2b18d627113a841a0.jpg"></p><p><strong>2.bindActionCreators:</strong></p><p><img src="https://pic.downk.cc/item/5fb1de1eb18d627113a848fb.jpg"></p><p><img src="https://pic.downk.cc/item/5fb1de6fb18d627113a8563c.jpg"></p><h3 id="å››ã€åœ¨Reactä¸­ä½¿ç”¨Redux"><a href="#å››ã€åœ¨Reactä¸­ä½¿ç”¨Redux" class="headerlink" title="å››ã€åœ¨Reactä¸­ä½¿ç”¨Redux"></a>å››ã€åœ¨Reactä¸­ä½¿ç”¨Redux</h3><p>reduxæä¾›äº†ä¸€ä¸ª<strong>react-redux</strong>çš„packageï¼Œç”¨connectæŠŠä¸€ä¸ªå·²æœ‰çš„ç»„ä»¶è¿æ¥åˆ°storeä¸Šã€‚</p><p><img src="https://pic.downk.cc/item/5fb1e29cb18d627113a9146f.jpg"></p><p><img src="https://pic.downk.cc/item/5fb1e356b18d627113a93618.jpg"></p><h3 id="äº”ã€ç†è§£Reduxçš„å¼‚æ­¥actionä»¥åŠä¸­é—´ä»¶"><a href="#äº”ã€ç†è§£Reduxçš„å¼‚æ­¥actionä»¥åŠä¸­é—´ä»¶" class="headerlink" title="äº”ã€ç†è§£Reduxçš„å¼‚æ­¥actionä»¥åŠä¸­é—´ä»¶"></a>äº”ã€ç†è§£Reduxçš„å¼‚æ­¥actionä»¥åŠä¸­é—´ä»¶</h3><p>ä¸­é—´ä»¶æˆªè·åå»è®¿é—®ä¸€ä¸ªAPIï¼Œæ ¹æ®è®¿é—®çš„ç»“æœå†dispatch.</p><p><img src="https://pic.downk.cc/item/5fb1eab2b18d627113aabab1.jpg"></p><p>å¼‚æ­¥çš„actionå¹¶ä¸æ˜¯ä¸€ä¸ªæ–°çš„actionç±»å‹, è€Œæ˜¯å‡ ä¸ªåŒæ­¥actionçš„ç»„åˆä½¿ç”¨.</p><p><img src="https://pic.downk.cc/item/5fb1eb4eb18d627113aae915.jpg"></p><p><img src="https://pic.downk.cc/item/5fb1ecf0b18d627113ab5f8a.jpg"></p><h3 id="å…­ã€å¦‚ä½•åœ¨reduxä¸­ç»„ç»‡Actionå’ŒReducer"><a href="#å…­ã€å¦‚ä½•åœ¨reduxä¸­ç»„ç»‡Actionå’ŒReducer" class="headerlink" title="å…­ã€å¦‚ä½•åœ¨reduxä¸­ç»„ç»‡Actionå’ŒReducer"></a>å…­ã€å¦‚ä½•åœ¨reduxä¸­ç»„ç»‡Actionå’ŒReducer</h3><p><img src="https://pic.downk.cc/item/5fb1ede4b18d627113ab90f7.jpg"></p><p><img src="https://pic.downk.cc/item/5fb1ee82b18d627113abad69.jpg"></p><p><img src="https://pic.downk.cc/item/5fb1eec1b18d627113abb8da.jpg"></p><h3 id="ä¸ƒã€-Reduxçš„è¿è¡ŒåŸºç¡€-ä¸å¯å˜æ•°æ®-immutability"><a href="#ä¸ƒã€-Reduxçš„è¿è¡ŒåŸºç¡€-ä¸å¯å˜æ•°æ®-immutability" class="headerlink" title="ä¸ƒã€ Reduxçš„è¿è¡ŒåŸºç¡€:ä¸å¯å˜æ•°æ®(immutability)"></a>ä¸ƒã€ Reduxçš„è¿è¡ŒåŸºç¡€:ä¸å¯å˜æ•°æ®(immutability)</h3><p><img src="https://pic.downk.cc/item/5fb1efbcb18d627113abe8a3.jpg"></p><h5 id="1-ä¸ºä»€ä¹ˆéœ€è¦ä¸å¯å˜æ•°æ®"><a href="#1-ä¸ºä»€ä¹ˆéœ€è¦ä¸å¯å˜æ•°æ®" class="headerlink" title="1.ä¸ºä»€ä¹ˆéœ€è¦ä¸å¯å˜æ•°æ®?"></a>1.ä¸ºä»€ä¹ˆéœ€è¦ä¸å¯å˜æ•°æ®?</h5><ul><li><p><strong>1.æ€§èƒ½ä¼˜åŒ–:</strong><br> &emsp;storeå˜åŒ–æ—¶ä¼šé€šçŸ¥ç»„ä»¶æ›´æ–°==&gt; storeçš„å˜åŒ–éƒ½æ˜¯ç”±actionè§¦å‘==&gt;actionè§¦å‘åœ¨æ—§çš„stateä¸Šå½¢æˆæ–°çš„stateã€‚ä¸éœ€è¦æ¯”è¾ƒæ–°æ—§stateå€¼æ˜¯å¦å˜äº†,åªéœ€è¦åˆ¤æ–­<strong>å‰åçŠ¶æ€çš„å¼•ç”¨</strong>æœ‰æ²¡æœ‰å˜åŒ–</p></li><li><p><strong>2.æ˜“äºè°ƒè¯•å’Œè·Ÿè¸ª:</strong><br>ä»»ä½•æ—¶å€™ï¼Œstoreå˜åŒ–æ—¶å¯ä»¥è®°å½•ä¹‹å‰å’Œä¹‹åçš„çŠ¶æ€å€¼ã€‚</p></li><li><p><strong>3.æ˜“äºæ¨æµ‹:</strong><br>ä»»ä½•æ—¶å€™ï¼Œéƒ½å¯ä»¥æ‰¾åˆ°æ˜¯ä»€ä¹ˆå¼•èµ·storeçš„å˜åŒ–</p><h5 id="2-å¦‚ä½•æ“ä½œä¸å¯å˜æ•°æ®"><a href="#2-å¦‚ä½•æ“ä½œä¸å¯å˜æ•°æ®" class="headerlink" title="2.å¦‚ä½•æ“ä½œä¸å¯å˜æ•°æ®?"></a>2.å¦‚ä½•æ“ä½œä¸å¯å˜æ•°æ®?</h5></li></ul><p>==ä¸‰ç§æ–¹å¼:==<br><img src="https://pic.downk.cc/item/5fb1f0f2b18d627113ac3540.jpg"></p><p>ç®€å•åœºæ™¯ï¼šä½¿ç”¨åŸç”Ÿå†™æ³•å°±å¯ä»¥äº†ã€‚</p><p><img src="https://pic.downk.cc/item/5fb1f37cb18d627113acb0d5.jpg"></p><p>å¤æ‚åœºæ™¯ï¼šéœ€è¦å€ŸåŠ©ä¸€äº›ç±»åº“ã€‚</p><p><img src="https://pic.downk.cc/item/5fb1f414b18d627113accfd2.jpg"></p><p>immer: æ€§èƒ½å·®ä¸€ç‚¹ï¼Œé€‚ç”¨åº”ç”¨ç¨‹åºå°ï¼Œåœºæ™¯ç®€å•çš„æƒ…å†µã€‚<br><img src="https://pic.downk.cc/item/5fb1f44fb18d627113acdf4d.jpg"></p><h3 id="å…«ã€æ¢³ç†Reduxçš„å·¥ä½œæµç¨‹"><a href="#å…«ã€æ¢³ç†Reduxçš„å·¥ä½œæµç¨‹" class="headerlink" title="å…«ã€æ¢³ç†Reduxçš„å·¥ä½œæµç¨‹"></a>å…«ã€æ¢³ç†Reduxçš„å·¥ä½œæµç¨‹</h3><p><img src="https://pic.downk.cc/item/5fb26119b18d627113c52bcf.jpg"></p><p>1.é¦–å…ˆï¼Œç”¨æˆ·å‘å‡ºActionã€‚</p><pre><code class="hljs js">store.dispatch(action)</code></pre><p>2.ç„¶åï¼ŒStoreè‡ªåŠ¨è°ƒç”¨Reducer,å¹¶ä¸”ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šå½“å‰Stateå’Œæ”¶åˆ°çš„Actionã€‚Reducerä¼šè¿”å›æ–°çš„State</p><pre><code class="hljs js"><span class="hljs-keyword">let</span> nextState = todoApp(previousState,action);</code></pre><p>Stateä¸€æ—¦æœ‰å˜åŒ–ï¼ŒStoreå°±ä¼šè°ƒç”¨ç›‘å¬å‡½æ•°</p><pre><code class="hljs js"><span class="hljs-comment">//è®¾ç½®ç›‘å¬å‡½æ•°</span>store.subscribe(listener);</code></pre><p>listenerå¯ä»¥é€šè¿‡store.getState()å¾—åˆ°å½“å‰çŠ¶æ€ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯React,è¿™æ—¶å¯ä»¥è§¦å‘é‡æ–°æ¸²æŸ“Viewã€‚</p><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listener</span>(<span class="hljs-params"></span>)</span>&#123;  <span class="hljs-keyword">let</span> newState = store.getState();  component.setState(newState);&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>09-æ‰“åŒ…å’Œéƒ¨ç½²</title>
    <link href="/2020/11/12/09-%E6%89%93%E5%8C%85%E5%92%8C%E9%83%A8%E7%BD%B2/"/>
    <url>/2020/11/12/09-%E6%89%93%E5%8C%85%E5%92%8C%E9%83%A8%E7%BD%B2/</url>
    
    <content type="html"><![CDATA[<h4 id="ä¸€-ä¸ºä»€ä¹ˆéœ€è¦æ‰“åŒ…"><a href="#ä¸€-ä¸ºä»€ä¹ˆéœ€è¦æ‰“åŒ…" class="headerlink" title="ä¸€.ä¸ºä»€ä¹ˆéœ€è¦æ‰“åŒ…?"></a>ä¸€.ä¸ºä»€ä¹ˆéœ€è¦æ‰“åŒ…?</h4><ul><li>1.ç¼–è¯‘ES6è¯­æ³•ç‰¹æ€§ï¼Œç¼–è¯‘JSX</li><li>2.æ•´åˆèµ„æºï¼Œä¾‹å¦‚å›¾ç‰‡svg,Less/Sass</li><li>3.ä¼˜åŒ–ä»£ç ä½“ç§¯</li></ul><p><img src="https://i.bmp.ovh/imgs/2020/11/ef5409f73d9ca563.png"></p><h4 id="äºŒ-æ‰“åŒ…æ³¨æ„äº‹é¡¹"><a href="#äºŒ-æ‰“åŒ…æ³¨æ„äº‹é¡¹" class="headerlink" title="äºŒ.æ‰“åŒ…æ³¨æ„äº‹é¡¹:"></a>äºŒ.æ‰“åŒ…æ³¨æ„äº‹é¡¹:</h4><p>1.è®¾ç½®node.jsç¯å¢ƒä¸ºproduction<br>2.ç¦æ­¢å¼€å‘æ—¶ä¸“ç”¨ä»£ç ï¼Œæ¯”å¦‚logger<br>3.è®¾ç½®åº”ç”¨æ ¹è·¯å¾„</p><p>npm run build æ‰§è¡Œçš„å°±æ˜¯æ‰“åŒ…è¿‡ç¨‹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>08-ä½¿ç”¨è„šæ‰‹æ¶å·¥å…·åˆ›å»ºReacté¡¹ç›®</title>
    <link href="/2020/11/12/08-%E4%BD%BF%E7%94%A8%E8%84%9A%E6%89%8B%E6%9E%B6%E5%B7%A5%E5%85%B7%E5%88%9B%E5%BB%BAReact%E9%A1%B9%E7%9B%AE/"/>
    <url>/2020/11/12/08-%E4%BD%BF%E7%94%A8%E8%84%9A%E6%89%8B%E6%9E%B6%E5%B7%A5%E5%85%B7%E5%88%9B%E5%BB%BAReact%E9%A1%B9%E7%9B%AE/</url>
    
    <content type="html"><![CDATA[<h3 id="1-ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ"><a href="#1-ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ" class="headerlink" title="1.ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ"></a>1.ä¸ºä»€ä¹ˆéœ€è¦è„šæ‰‹æ¶ï¼Ÿ</h3><p><img src="https://i.bmp.ovh/imgs/2020/11/1df974a0ce1a7435.png"><br>é¡¹ç›®è¶Šæ¥è¶Šå¤æ‚ï¼Œéœ€è¦ç”¨ï¼š</p><ul><li><p>react: åšUIï¼Œ</p></li><li><p>redux: åšçŠ¶æ€ç®¡ç†ï¼Œ</p></li><li><p>react-router: åšè·¯ç”±ç®¡ç†</p></li><li><p>babel: æŠŠjsæ–°ç‰¹æ€§ç¿»è¯‘ä¸ºæµè§ˆå™¨å¯ä»¥è¯†åˆ«çš„æ—§è¯­æ³•</p></li><li><p>webpack: æ‰“åŒ…</p></li><li><p>eslint: ç”¨äºè¯­æ³•æ£€æŸ¥<br>â€¦<br><img src="https://i.bmp.ovh/imgs/2020/11/611411d14c00f1a4.png"></p><p>&emsp;è¿™äº›å·¥å…·èƒŒåéœ€è¦å¾ˆå¤šçš„package,æˆ‘ä»¬éœ€è¦äº†è§£æ¯ä¸€ä¸ªpackageçš„é…ç½®å’Œä½¿ç”¨ï¼Œè¿™ä½¿å¾—åˆ›å»ºé¡¹ç›®éå¸¸ç¹çã€‚è€Œåˆ›å»ºä¸€ä¸ªé¡¹ç›®çš„è¿‡ç¨‹å¤§è‡´æ˜¯å·®ä¸å¤šçš„ï¼Œå®Œå…¨å¯ä»¥æŠ½è±¡å‡ºæ¥åšæˆä¸€ä¸ªå·¥å…·<br>&emsp;===&gt;æ‰€ä»¥ï¼Œè„šæ‰‹æ¶åº”è¿è€Œç”Ÿã€‚</p></li></ul><h3 id="2-å¸¸è§çš„ç”¨äºåˆ›å»ºReactåº”ç”¨çš„è„šæ‰‹æ¶å·¥å…·ï¼š"><a href="#2-å¸¸è§çš„ç”¨äºåˆ›å»ºReactåº”ç”¨çš„è„šæ‰‹æ¶å·¥å…·ï¼š" class="headerlink" title="2.å¸¸è§çš„ç”¨äºåˆ›å»ºReactåº”ç”¨çš„è„šæ‰‹æ¶å·¥å…·ï¼š"></a>2.å¸¸è§çš„ç”¨äºåˆ›å»ºReactåº”ç”¨çš„è„šæ‰‹æ¶å·¥å…·ï¼š</h3><ul><li><p><strong>Create React APP</strong><br><img src="https://i.bmp.ovh/imgs/2020/11/6a1c377349d0f209.png"><br>&emsp; facebook å®˜æ–¹æ¨å‡ºçš„ï¼Œä½¿ç”¨äº†æœ€ç®€ç­–ç•¥ï¼Œç”¨äºå­¦ä¹ æˆ–åˆ›å»ºç®€å•çš„reacté¡¹ç›®</p></li><li><p><strong>Rekit</strong><br><img src="https://i.bmp.ovh/imgs/2020/11/57aaa6b41498f44a.png"></p><p>&emsp;åŸºäºcreate-react-app,æä¾›äº†æ›´å¤šçš„åŠŸèƒ½ï¼Œå¯ä»¥å¼€å‘å¤§å‹çš„é¡¹ç›®ã€‚</p></li><li><p><strong>Codesandbox</strong><br><img src="https://i.bmp.ovh/imgs/2020/11/c18cd49b5e89621e.png"><br>&emsp; Online,åœ¨çº¿çš„åˆ›å»ºé¡¹ç›®ï¼Œwebpackè¿è¡Œåœ¨æµè§ˆå™¨ç«¯,å¤§å¤§æé«˜æ‰“åŒ…é€Ÿåº¦ã€‚æ”¯æŒreact,vue,angular</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>07-ç†è§£æ–°çš„ContextAPIåŠå…¶ä½¿ç”¨åœºæ™¯</title>
    <link href="/2020/11/11/07-%E7%90%86%E8%A7%A3%E6%96%B0%E7%9A%84ContextAPI%E5%8F%8A%E5%85%B6%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/"/>
    <url>/2020/11/11/07-%E7%90%86%E8%A7%A3%E6%96%B0%E7%9A%84ContextAPI%E5%8F%8A%E5%85%B6%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/</url>
    
    <content type="html"><![CDATA[<p><strong>Contextè§£å†³çš„æ˜¯ï¼šç»„ä»¶ä¹‹é—´çš„é€šä¿¡é—®é¢˜</strong></p><p>Contextæä¾›äº†ä¸€ä¸ªæ— éœ€ä¸ºæ¯å±‚ç»„ä»¶æ‰‹åŠ¨æ·»åŠ props,å°±èƒ½åœ¨ç»„ä»¶æ ‘é—´è¿›è¡Œæ•°æ®ä¼ é€’çš„æ–¹æ³•ã€‚</p><p><img src="https://i.bmp.ovh/imgs/2020/11/c51c0b02a804b0fb.png"></p><h4 id="1-è®¾è®¡ç›®çš„"><a href="#1-è®¾è®¡ç›®çš„" class="headerlink" title="1.è®¾è®¡ç›®çš„"></a>1.è®¾è®¡ç›®çš„</h4><p>&emsp;Contextè®¾è®¡çš„ç›®çš„ï¼šä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–è€…é¦–é€‰è¯­è¨€ã€‚<br>&emsp;åœ¨ä¸€ä¸ªå…¸å‹çš„Reactåº”ç”¨ä¸­ï¼Œæ•°æ®æ˜¯é€šè¿‡propså±æ€§è‡ªä¸Šè€Œä¸‹ï¼ˆç”±çˆ¶äº²åˆ°å„¿å­ï¼‰è¿›è¡Œä¼ é€’çš„ï¼Œä½†æ˜¯è¿™ç§åšæ³•å¯¹äºæŸäº›å±æ€§æ˜¯åŠå…¶ç¹ççš„ï¼ˆæ¯”å¦‚ä¸Šæ–‡è¯´çš„UIä¸»é¢˜ï¼Œï¼‰ï¼Œè¿™äº›å±æ€§æ˜¯åº”ç”¨ç¨‹åºä¸­è®¸å¤šç»„ä»¶éƒ½éœ€è¦çš„ã€‚</p><p><strong>==&gt;</strong> æ‰€ä»¥ï¼ŒContextè¢«è®¾è®¡å‡ºæ¥ï¼Œæä¾›äº†ä¸€ç§åœ¨ç»„ä»¶é—´å…±äº«â€œå…¨å±€â€æ•°æ®çš„æ–¹å¼ï¼Œä»è€Œä¸å¿…æ˜¾ç¤ºåœ°é€šè¿‡ç»„ä»¶æ ‘é€å±‚åœ°ä¼ é€’props.</p><h4 id="2-ä½¿ç”¨Contextå‰çš„è€ƒè™‘"><a href="#2-ä½¿ç”¨Contextå‰çš„è€ƒè™‘" class="headerlink" title="2.ä½¿ç”¨Contextå‰çš„è€ƒè™‘"></a>2.ä½¿ç”¨Contextå‰çš„è€ƒè™‘</h4><p><strong>Contextä¸»è¦åº”ç”¨åœºæ™¯</strong>ï¼šå¾ˆå¤šä¸åŒå±‚çº§ä¹‹é—´çš„ç»„ä»¶éœ€è¦è®¿é—®åŒæ ·çš„ä¸€äº›æ•°æ®ã€‚(ä½†æ˜¯éœ€è¦è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºè¿™ä¼šè®©ç»„ä»¶çš„å¤ç”¨æ€§å˜å·®ã€‚)<br>å¦‚æœåªæ˜¯æƒ³é¿å…å±‚å±‚ä¼ é€’ä¸€äº›å±æ€§ï¼Œ<a href="https://zh-hans.reactjs.org/docs/composition-vs-inheritance.html">ç»„ä»¶ç»„åˆï¼ˆcomponent compositionï¼‰</a>æœ‰æ—¶æ˜¯ä¸€ä¸ªæ¯”Contextæ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p><h4 id="3-ç›¸å…³çš„API"><a href="#3-ç›¸å…³çš„API" class="headerlink" title="3.ç›¸å…³çš„API"></a>3.ç›¸å…³çš„API</h4><p> <strong><em>(1) React.createContext</em></strong><br>  <pre><code class="hljs js"><span class="hljs-keyword">const</span> MyContext = React.createContext(defaultValue);</code></pre></p><ul><li>createContextå‡½æ•°åˆ›å»ºä¸€ä¸ªContextå¯¹è±¡ï¼Œå½“Reactæ¸²æŸ“ä¸€ä¸ªè®¢é˜…äº†è¿™ä¸ªContextå¯¹è±¡çš„ç»„ä»¶æ—¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šä»ç»„ä»¶æ ‘ä¸­ç¦»è‡ªèº«æœ€è¿‘çš„åŒ¹é…åˆ°çš„Providerä¸­è¯»å–å½“å‰çš„contextå€¼ã€‚<br>â€¦</li><li><em>defaultValue</em>: åªæœ‰å½“ç»„ä»¶æ‰€å¤„çš„ç»„ä»¶æ ‘ä¸­æ²¡æœ‰åŒ¹é…åˆ°Provideræ—¶ï¼Œå…¶defaultValueå‚æ•°æ‰èµ·ä½œç”¨ã€‚å³ä½¿Providerä¸­çš„valueå€¼æ˜¯â€undefinedâ€ï¼Œæ¶ˆè´¹ç»„ä»¶çš„defaultValueä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚<br>ï¼ˆdefaultValueæœ‰åŠ©äºåœ¨ä¸ä½¿ç”¨ProvideråŒ…è£…ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œå¯¹ç»„ä»¶è¿›è¡Œæµ‹è¯•ï¼‰</li></ul><p><strong><em>(2)Context.Provider</em></strong></p><pre><code class="hljs js">&lt;MyContext.Provider value=&#123;<span class="hljs-comment">/*æŸä¸ªå€¼*/</span>&#125;&gt;</code></pre><ul><li><p>æ¯ä¸ªContextå¯¹è±¡éƒ½ä¼šè¿”å›ä¸€ä¸ªProvider Reactç»„ä»¶ï¼Œå®ƒå…è®¸æ¶ˆè´¹ç»„ä»¶è®¢é˜…contextçš„å˜åŒ–ã€‚</p></li><li><p>ä¸€ä¸ªProviderå¯ä»¥å’Œå¤šä¸ªæ¶ˆè´¹ç»„ä»¶æœ‰å¯¹åº”å…³ç³»ã€‚å¤šä¸ªProviderä¹Ÿå¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œé‡Œé¢çš„ä¼šè¦†ç›–å¤–å±‚çš„æ•°æ®ã€‚</p></li><li><p>Provideræœ‰ä¸€ä¸ªvalueå±æ€§ï¼Œä¼ é€’ç»™æ¶ˆè´¹ç»„ä»¶ã€‚å½“valueå€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒProviderå†…éƒ¨çš„æ‰€æœ‰æ¶ˆè´¹ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚<br>ï¼ˆProvideråŠå…¶å†…éƒ¨çš„æ¶ˆè´¹ç»„ä»¶éƒ½ä¸å—åˆ¶äºshouldComponentUpdateå‡½æ•°ï¼Œæ‰€ä»¥å½“æ¶ˆè´¹ç»„ä»¶åœ¨å…¶ç¥–å…ˆç»„ä»¶æ¨å‡ºæ›´æ–°çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ›´æ–°ï¼‰</p></li><li><p>é€šè¿‡æ–°æ—§å€¼æ£€æµ‹ç¡®å®šå˜åŒ–ï¼Œä½¿ç”¨äº†å’Œ Object.isç›¸åŒçš„ç®—æ³•ã€‚</p></li></ul><p><strong><em>(3) Class.contextType</em></strong></p><pre><code class="hljs js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;  <span class="hljs-function"><span class="hljs-title">componentDidMount</span>(<span class="hljs-params"></span>)</span> &#123;    <span class="hljs-keyword">let</span> value = <span class="hljs-built_in">this</span>.context;    <span class="hljs-comment">/* åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåï¼Œä½¿ç”¨ MyContext ç»„ä»¶çš„å€¼æ¥æ‰§è¡Œä¸€äº›æœ‰å‰¯ä½œç”¨çš„æ“ä½œ */</span>  &#125;  <span class="hljs-function"><span class="hljs-title">componentDidUpdate</span>(<span class="hljs-params"></span>)</span> &#123;    <span class="hljs-keyword">let</span> value = <span class="hljs-built_in">this</span>.context;    <span class="hljs-comment">/* ... */</span>  &#125;  <span class="hljs-function"><span class="hljs-title">componentWillUnmount</span>(<span class="hljs-params"></span>)</span> &#123;    <span class="hljs-keyword">let</span> value = <span class="hljs-built_in">this</span>.context;    <span class="hljs-comment">/* ... */</span>  &#125;  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;    <span class="hljs-keyword">let</span> value = <span class="hljs-built_in">this</span>.context;    <span class="hljs-comment">/* åŸºäº MyContext ç»„ä»¶çš„å€¼è¿›è¡Œæ¸²æŸ“ */</span>  &#125;&#125;MyClass.contextType = MyContext;</code></pre><ul><li>æŒ‚è½½åœ¨classä¸Šçš„contextTypeå±æ€§ä¼šè¢«é‡æ–°èµ‹å€¼ä¸ºä¸€ä¸ªç”±React.createContext()åˆ›å»ºçš„Contextå¯¹è±¡ã€‚æ‰€ä»¥ä½¿ç”¨this.contextå¯ä»¥æ¶ˆè´¹æœ€è¿‘Contextä¸Šçš„é‚£ä¸ªå€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä»»ä½•ç”Ÿå‘½å‘¨æœŸè®¿é—®åˆ°this.contextï¼ŒåŒ…æ‹¬renderå‡½æ•°ã€‚</li><li>é€šè¿‡class.contextTypeåªèƒ½è®¢é˜…ä¸€ä¸ªcontext</li></ul><p><strong><em>(4) Context.Consumer</em></strong></p><pre><code class="hljs js">&lt;MyContext.Consumer&gt;    &#123;<span class="hljs-function"><span class="hljs-params">value</span>=&gt;</span><span class="hljs-comment">/*åŸºäºcontextå€¼è¿›è¡Œæ¸²æŸ“*/</span>&#125;&lt;/MyContext.Consumer&gt;</code></pre><ul><li><p>è¿™æ˜¯ä¸€ä¸ªå¯ä»¥è®¢é˜…contextçš„å˜æ›´çš„Reactç»„ä»¶ï¼Œå®ƒåœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å¯ä»¥è®¢é˜…ä¸€ä¸ªcontextã€‚</p></li><li><p>è¿™ç§æ–¹æ³•éœ€è¦ä¸€ä¸ª<a href="https://zh-hans.reactjs.org/docs/render-props.html#using-props-other-than-render">å‡½æ•°ä½œä¸ºå­å…ƒç´ ï¼ˆfunction as a child)</a>,è¿™ä¸ªå‡½æ•°æ¥æ”¶å½“å‰çš„contextå€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªReactèŠ‚ç‚¹ã€‚</p></li><li><p> ä¼ é€’ç»™Consumerçš„valueå€¼ä¹Ÿå°±æ˜¯ç»„ä»¶æ ‘ä¸Šæ–¹ç¦»contextæœ€è¿‘çš„Provideræä¾›çš„valueå€¼ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„Provider,å°±ç”¨createContext()ä¸­çš„defaultValue.</p></li></ul><p><strong><em>(5) Context.displayName</em></strong></p><p>ç¤ºä¾‹ï¼Œä¸‹è¿°ç»„ä»¶åœ¨DevToolsä¸­å°†æ˜¯æ˜¾ç¤ºMyDisplayName:</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> MyContext = React.createContext(<span class="hljs-comment">/*some value*/</span>);MyContext.displayName = <span class="hljs-string">&#x27;MyDisplayName&#x27;</span>;&lt;MyContext.Provider&gt; <span class="hljs-comment">// &quot;MyDisplayName.Provider&quot; åœ¨ DevTools ä¸­</span>&lt;MyContext.Consumer&gt; <span class="hljs-comment">// &quot;MyDisplayName.Consumer&quot; åœ¨ DevTools ä¸­</span></code></pre><ul><li>contextå¯¹è±¡æ¥å—ä¸€ä¸ªåä¸ºdisplayNameçš„å±æ€§ï¼Œç±»å‹ä¸ºå­—ç¬¦ä¸²ã€‚React DevToolsä½¿ç”¨è¯¥å­—ç¬¦ä¸²æ¥ç¡®å®šcontextè¦æ˜¾ç¤ºçš„å†…å®¹ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>06-ä¸¤ç§ç»„ä»¶è®¾è®¡æ¨¡å¼</title>
    <link href="/2020/11/11/06-%E4%B8%A4%E7%A7%8D%E7%BB%84%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <url>/2020/11/11/06-%E4%B8%A4%E7%A7%8D%E7%BB%84%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h4 id="ç»„ä»¶å¤ç”¨çš„å¦å¤–ä¸¤ç§å½¢å¼ï¼š"><a href="#ç»„ä»¶å¤ç”¨çš„å¦å¤–ä¸¤ç§å½¢å¼ï¼š" class="headerlink" title="ç»„ä»¶å¤ç”¨çš„å¦å¤–ä¸¤ç§å½¢å¼ï¼š"></a>ç»„ä»¶å¤ç”¨çš„å¦å¤–ä¸¤ç§å½¢å¼ï¼š</h4><p>ï¼ˆé™¤äº†å¸¸è§„çš„ç»„ä»¶å¤ç”¨ä¹‹å¤–ï¼‰</p><ul><li><strong>é«˜é˜¶ç»„ä»¶</strong></li><li><strong>å‡½æ•°ä½œä¸ºå­ç»„ä»¶</strong></li></ul><h4 id="ä¸€-é«˜é˜¶ç»„ä»¶"><a href="#ä¸€-é«˜é˜¶ç»„ä»¶" class="headerlink" title="ä¸€.é«˜é˜¶ç»„ä»¶"></a>ä¸€.é«˜é˜¶ç»„ä»¶</h4><p><img src="https://i.bmp.ovh/imgs/2020/11/f50691752374e779.png"></p><p><strong>é«˜é˜¶ç»„ä»¶(HOC)</strong> æ˜¯Reactä¸­å¤ç”¨ç»„ä»¶é€»è¾‘çš„ä¸€ç§é«˜çº§æŠ€å·§ï¼Œå®ƒæœ¬èº«ä¸æ˜¯React APIçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯åŸºäºReactçš„ç»„åˆç‰¹æ€§å½¢æˆçš„ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚é«˜é˜¶ç»„ä»¶ä»¥ç»„ä»¶ä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°ç»„ä»¶ã€‚</p><pre><code class="hljs js"><span class="hljs-keyword">const</span> EnhancedComponent = higherOrderComponent(WrappedComponenent)</code></pre><p>==åŒºåˆ†:== &emsp;ç»„ä»¶æ˜¯å°†propsè½¬æ¢ä¸ºUIï¼Œé«˜é˜¶ç»„ä»¶æ˜¯å°†ç»„ä»¶è½¬æ¢ä¸ºå¦ä¸€ä¸ªç»„ä»¶ã€‚</p><p>å…·ä½“å‚è§ï¼š<a href="https://zh-hans.reactjs.org/docs/higher-order-components.html">Reactå®˜æ–¹æ–‡æ¡£â€“é«˜é˜¶ç»„ä»¶</a></p><h4 id="äºŒ-å‡½æ•°ä½œä¸ºå­ç»„ä»¶"><a href="#äºŒ-å‡½æ•°ä½œä¸ºå­ç»„ä»¶" class="headerlink" title="äºŒ.å‡½æ•°ä½œä¸ºå­ç»„ä»¶"></a>äºŒ.å‡½æ•°ä½œä¸ºå­ç»„ä»¶</h4><p><img src="https://i.bmp.ovh/imgs/2020/11/17246cbcf6e05f4d.png"></p><p><strong>æ€»ç»“ï¼š</strong></p><p>1ã€é«˜é˜¶ç»„ä»¶å’Œå‡½æ•°ä½œä¸ºå­ç»„ä»¶éƒ½æ˜¯è®¾è®¡æ¨¡å¼ï¼ˆå¹¶ä¸æ˜¯æ–°çš„ç»„ä»¶ç±»å‹ï¼‰</p><p>2ã€å¯ä»¥å®ç°æ›´å¤šåœºæ™¯çš„ç»„ä»¶å¤ç”¨</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>05-ç†è§£VirtualDOMåŠkeyå±æ€§çš„ä½œç”¨</title>
    <link href="/2020/11/11/05-%E7%90%86%E8%A7%A3VirtualDOM%E5%8F%8Akey%E5%B1%9E%E6%80%A7%E7%9A%84%E4%BD%9C%E7%94%A8/"/>
    <url>/2020/11/11/05-%E7%90%86%E8%A7%A3VirtualDOM%E5%8F%8Akey%E5%B1%9E%E6%80%A7%E7%9A%84%E4%BD%9C%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>JSXçš„åŸºç¡€ï¼šè™šæ‹ŸDOM</p><p><img src="https://i.bmp.ovh/imgs/2020/11/6244a9607b4da0d0.png"></p><p><img src="https://i.bmp.ovh/imgs/2020/11/314414dd61ae46e0.png"></p><p>ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ¯”è¾ƒï¼Œé’ˆå¯¹ä¸åŒæƒ…å†µï¼Œdiffç®—æ³•æœ‰ä¸åŒçš„å¤„ç†æ–¹å¼ï¼š</p><p><strong>1. å±æ€§å˜åŒ–åŠé¡ºåºï¼š</strong><br>   <img src="https://i.bmp.ovh/imgs/2020/11/231a0e379e4ef3a4.png"></p><p>==å¤„ç†æ–¹å¼==ï¼šæ ¹æ®keyå±æ€§ï¼Œäº¤æ¢Aä¸Bçš„ä½ç½®</p><p><strong>2. èŠ‚ç‚¹ç±»å‹å‘ç”Ÿå˜åŒ–ï¼š</strong><br>   <img src="https://i.bmp.ovh/imgs/2020/11/c65c14d031817b7e.png"></p><p>==å¤„ç†æ–¹å¼==ï¼šæš´åŠ›åˆ é™¤FèŠ‚ç‚¹ï¼ˆä¸ç®¡ä»–æ˜¯å¦åœ¨å…¶ä»–åœ°æ–¹ç”¨åˆ°ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„GèŠ‚ç‚¹ï¼Œappendåˆ°AèŠ‚ç‚¹ä¸Šã€‚</p><p><strong>3. èŠ‚ç‚¹è·¨å±‚çº§ç§»åŠ¨ï¼š</strong><br>    <img src="https://i.bmp.ovh/imgs/2020/11/06f09ef16c9da001.png"></p><p>==å¤„ç†æ–¹å¼==ï¼šdiffç®—æ³•ç›´æ¥åˆ é™¤å·¦è¾¹Bä¸‹é¢çš„DèŠ‚ç‚¹ï¼ˆä»¥åŠå…¶å­æ ‘ï¼‰ï¼Œåˆ°äº†å³è¾¹ï¼ŒReactç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„DèŠ‚ç‚¹ã€‚</p><h4 id="è™šæ‹ŸDOMçš„ä¸¤ä¸ªå‡è®¾ï¼š"><a href="#è™šæ‹ŸDOMçš„ä¸¤ä¸ªå‡è®¾ï¼š" class="headerlink" title="è™šæ‹ŸDOMçš„ä¸¤ä¸ªå‡è®¾ï¼š"></a>è™šæ‹ŸDOMçš„ä¸¤ä¸ªå‡è®¾ï¼š</h4><p><strong>1ã€ç»„ä»¶çš„DOMç»“æ„æ˜¯ç›¸å¯¹ç¨³å®šçš„ï¼ˆä¸€èˆ¬å¾ˆå°‘å‡ºç°è·¨å±‚çº§ç§»åŠ¨çš„æƒ…å†µï¼‰</strong></p><p>&emsp;&emsp;è·¨å±‚çº§çš„èŠ‚ç‚¹ç§»åŠ¨ï¼Œreactçš„diffç®—æ³•æ˜¯ç›´æ¥åˆ é™¤ã€‚</p><p><strong>2ã€ç±»å‹ç›¸åŒçš„å…„å¼ŸèŠ‚ç‚¹å¯ä»¥è¢«å”¯ä¸€æ ‡è¯†ï¼ˆkeyå±æ€§ï¼‰ã€‚</strong></p><hr><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><ul><li>ç®—æ³•å¤æ‚åº¦ä¸ºO(n)</li><li>è™šæ‹ŸDOMå¦‚ä½•è®¡ç®—diff</li><li>keyå±æ€§çš„ä½œç”¨</li></ul>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>04-reactçš„ç”Ÿå‘½å‘¨æœŸ</title>
    <link href="/2020/11/10/04-react%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"/>
    <url>/2020/11/10/04-react%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/</url>
    
    <content type="html"><![CDATA[<h3 id="Reactçš„ç”Ÿå‘½å‘¨æœŸå›¾"><a href="#Reactçš„ç”Ÿå‘½å‘¨æœŸå›¾" class="headerlink" title="Reactçš„ç”Ÿå‘½å‘¨æœŸå›¾"></a>Reactçš„ç”Ÿå‘½å‘¨æœŸå›¾</h3><p><img src="https://i.bmp.ovh/imgs/2020/11/32b8163f9eadfd47.png"></p><p>ğŸ–ï¼šmountingåˆ°åº•æ„å‘³ç€ä»€ä¹ˆï¼Ÿ<br>ç­”ï¼š When we talk about mountingï¼Œ weâ€™re talking about the process of converting the virtual components into actual DOM elements that are placed in the DOM by React.ï¼ˆå…¶å®å°±æ˜¯Reactå°†è™šæ‹ŸDOMè½¬åŒ–ä¸ºçœŸå®DOMçš„è¿‡ç¨‹)</p><p><strong>1.constructor:</strong></p><ul><li>ç”¨äºåˆå§‹åŒ–å†…éƒ¨çŠ¶æ€ï¼Œå¾ˆå°‘ä½¿ç”¨</li><li>å”¯ä¸€å¯ä»¥ç›´æ¥ä¿®æ”¹stateçš„åœ°æ–¹</li></ul><p><strong>2.getDerivedStateFromProps:</strong></p><ul><li>å½“stateéœ€è¦ä»propsåˆå§‹åŒ–æ—¶ä½¿ç”¨ã€‚</li><li>å°½é‡ä¸è¦ä½¿ç”¨ï¼šç»´æŠ¤ä¸¤è€…çŠ¶æ€ä¸€è‡´æ€§ä¼šå¢åŠ å¤æ‚åº¦ã€‚</li><li>æ¯æ¬¡renderéƒ½ä¼šè°ƒç”¨ã€‚</li><li>å…¸å‹åœºæ™¯ï¼šè¡¨å•æ§ä»¶è·å–é»˜è®¤å€¼ã€‚</li></ul><p><strong>3.componentDidMount:</strong></p><ul><li>UIæ¸²æŸ“å®Œæˆåè°ƒç”¨</li><li>åªæ‰§è¡Œä¸€æ¬¡</li><li>å…¸å‹åœºæ™¯ï¼šè·å–å¤–éƒ¨èµ„æº</li></ul><p><strong>4.componeWillUnmout:</strong></p><ul><li>ç»„ä»¶ç§»é™¤æ—¶è¢«è°ƒç”¨</li><li>å…¸å‹åœºæ™¯ï¼šèµ„æºé‡Šæ”¾</li></ul><p><strong>5.getSnapshotBeforeUpdate:</strong></p><ul><li>åœ¨é¡µé¢renderä¹‹å‰è°ƒç”¨ï¼Œstateå·²ç»æ›´æ–°</li><li>å…¸å‹åœºæ™¯ï¼šè·å–renderä¹‹å‰çš„DOMçŠ¶æ€</li></ul><p><strong>6.componentDidUpdate:</strong></p><ul><li>æ¯æ¬¡UIæ›´æ–°æ—¶è¢«è°ƒç”¨</li><li>å…¸å‹åœºæ™¯ï¼šé¡µé¢éœ€è¦æ ¹æ®propså˜åŒ–é‡æ–°è·å–æ•°æ®</li></ul><p><strong>7.shouldComponentUpdate:</strong></p><ul><li>å†³å®šVitual DOMæ˜¯å¦é‡ç»˜</li><li>ä¸€èˆ¬ç”±PureComponentè‡ªåŠ¨å®ç°</li><li>å…¸å‹åœºæ™¯ï¼šæ€§èƒ½ä¼˜åŒ–</li></ul>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>03-JSXçš„æœ¬è´¨æ˜¯è¯­æ³•ç³–</title>
    <link href="/2020/11/10/03-JSX%E7%9A%84%E6%9C%AC%E8%B4%A8%E6%98%AF%E8%AF%AD%E6%B3%95%E7%B3%96/"/>
    <url>/2020/11/10/03-JSX%E7%9A%84%E6%9C%AC%E8%B4%A8%E6%98%AF%E8%AF%AD%E6%B3%95%E7%B3%96/</url>
    
    <content type="html"><![CDATA[<p>###ç†è§£JSX</p><p><em>JSXï¼šåœ¨javaScriptä»£ç ä¸­ç›´æ¥å†™HTMLæ ‡è®°ã€‚</em></p><pre><code class="hljs js"><span class="hljs-keyword">const</span> name=<span class="hljs-string">&#x27;jane&#x27;</span><span class="hljs-keyword">const</span> element=<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>hello,&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></code></pre><p><strong>1.JSXçš„æœ¬è´¨</strong><br><img src="https://i.bmp.ovh/imgs/2020/11/5e744edbbade47d2.png"></p><p><strong>2.åœ¨JSXä¸­ä½¿ç”¨è¡¨è¾¾å¼</strong><br><img src="https://i.bmp.ovh/imgs/2020/11/87d92de0fdbd6f36.png"></p><p><strong>3.JSXçš„ä¼˜ç‚¹</strong></p><ul><li>å£°æ˜åˆ›å»ºç•Œé¢çš„ç›´è§‚</li><li>ä»£ç åŠ¨æ€åˆ›å»ºç•Œé¢çš„çµæ´»</li><li>æ— éœ€å­¦ä¹ æ–°çš„æ¨¡æ¿è¯­è¨€</li></ul><p><strong>çº¦å®šï¼šè‡ªå®šä¹‰ç»„ä»¶é¦–å­—æ¯å¤§å†™</strong><br>1.reactè®¤ä¸ºå°å†™çš„tagæ˜¯åŸç”ŸDOMèŠ‚ç‚¹ï¼Œå¦‚div<br>2.å¤§å†™å­—æ¯å¼€å¤´çš„ç»„ä»¶æ˜¯è‡ªå®šä¹‰èŠ‚ç‚¹<br>3.JSXæ ‡è®°å¯ä»¥ç›´æ¥ä½¿ç”¨å±æ€§è¯­æ³•ï¼Œå¦‚&lt;menu.Item /&gt;</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>02-reactä»¥ç»„ä»¶æ–¹å¼è€ƒè™‘UIçš„æ„å»º</title>
    <link href="/2020/11/10/02-react%E4%BB%A5%E7%BB%84%E4%BB%B6%E6%96%B9%E5%BC%8F%E8%80%83%E8%99%91UI%E7%9A%84%E6%9E%84%E5%BB%BA/"/>
    <url>/2020/11/10/02-react%E4%BB%A5%E7%BB%84%E4%BB%B6%E6%96%B9%E5%BC%8F%E8%80%83%E8%99%91UI%E7%9A%84%E6%9E%84%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<p><img src="https://i.bmp.ovh/imgs/2020/11/b28d10e0a2054aec.png"></p><p><strong>ä¸€ã€æ„å»ºä¸€ä¸ªç»„ä»¶éœ€è¦è€ƒè™‘çš„ä¸‰ä»¶äº‹æƒ…ï¼š</strong></p><p>1ã€ç»„ä»¶çš„UI( ä¸€äº›å¤–åœ¨çš„è¡¨ç°å½¢å¼ )<br>2ã€ç»„ä»¶çš„çŠ¶æ€ç®¡ç†ï¼ˆæ”¾åœ¨å“ªï¼Ÿï¼‰<br>3ã€ç»„ä»¶çš„äº¤äº’</p><p><img src="https://i.bmp.ovh/imgs/2020/11/f878479d2f41ffb4.png"></p><p><strong>äºŒã€ä½•æ—¶åˆ›å»ºç»„ä»¶ï¼šå•ä¸€èŒè´£åŸåˆ™</strong></p><p>1ã€ä¸€ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½<br>2ã€å¤æ‚çš„ç»„ä»¶åº”è¯¥è¿›è¡Œæ‹†åˆ†</p><p><strong>ä¸‰ã€æ•°æ®çŠ¶æ€ç®¡ç†åŸåˆ™ï¼šDRYåŸåˆ™</strong></p><p>1.èƒ½è®¡ç®—å¾—åˆ°çš„çŠ¶æ€ä¸åº”è¯¥å•ç‹¬å­˜å‚¨<br>2.ç»„ä»¶å°½é‡æ— çŠ¶æ€ï¼Œå°½é‡é€šè¿‡propsè·å–.</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>01-Reactçš„å†å²èƒŒæ™¯åŠç‰¹ç‚¹</title>
    <link href="/2020/11/10/01-React%E7%9A%84%E5%8E%86%E5%8F%B2%E8%83%8C%E6%99%AF/"/>
    <url>/2020/11/10/01-React%E7%9A%84%E5%8E%86%E5%8F%B2%E8%83%8C%E6%99%AF/</url>
    
    <content type="html"><![CDATA[<h3 id="1-React-å‡ºç°çš„å†å²èƒŒæ™¯"><a href="#1-React-å‡ºç°çš„å†å²èƒŒæ™¯" class="headerlink" title="1. React å‡ºç°çš„å†å²èƒŒæ™¯"></a>1. React å‡ºç°çš„å†å²èƒŒæ™¯</h3><h4 id="A-UIæ–¹é¢çš„â€”â€”"><a href="#A-UIæ–¹é¢çš„â€”â€”" class="headerlink" title="A.UIæ–¹é¢çš„â€”â€”"></a>A.UIæ–¹é¢çš„â€”â€”</h4><p>ä¼ ç»ŸWebUIå­˜åœ¨çš„é—®é¢˜ï¼š</p><ul><li>ä¼ ç»ŸUIå…³æ³¨å¤ªå¤šçš„ç»†èŠ‚</li><li>åº”ç”¨ç¨‹åºçš„çŠ¶æ€åˆ†æ•£åœ¨å„å¤„ï¼Œéš¾ä»¥è¿½è¸ªå’Œç»´æŠ¤</li></ul><p><strong>=&gt;</strong> <strong>Reactçš„è§£å†³æ–¹æ¡ˆ</strong>ï¼šreact å§‹ç»ˆæ•´ä½“â€åˆ·æ–°â€é¡µé¢ï¼Œæ— éœ€å…³å¿ƒç»†èŠ‚ã€‚å®ƒåªåˆ¤æ–­å‰åä¸¤ä¸ªçŠ¶æ€æ˜¯å¦å˜åŒ–ï¼Œå¹¶ä¸å…³æ³¨èƒŒåçš„å“ªä¸ªç»†èŠ‚å‘ç”Ÿäº†å˜åŒ–ã€‚<br><img src="https://i.bmp.ovh/imgs/2020/11/981310a92f37e99e.png"></p><h4 id="B-æ•°æ®æ–¹é¢çš„â€”â€”"><a href="#B-æ•°æ®æ–¹é¢çš„â€”â€”" class="headerlink" title="B.æ•°æ®æ–¹é¢çš„â€”â€”"></a>B.æ•°æ®æ–¹é¢çš„â€”â€”</h4><p>ä¼ ç»Ÿçš„MVCéš¾ä»¥æ‰©å±•å’Œç»´æŠ¤ï¼Œå¤ªå¤šçš„modelå’Œviewï¼Œå…³ç³»é”™ç»¼å¤æ‚ä¸”åŒå‘ç»‘å®šï¼Œå½“å‡ºç°äº†é—®é¢˜ï¼Œå¾ˆéš¾è¿½è¸ªæ˜¯modelè¿˜æ˜¯viewå±‚å‡ºç°äº†é—®é¢˜ã€‚<br><img src="https://i.bmp.ovh/imgs/2020/11/0520d5fd55b9ac16.png"> </p><p><strong>=&gt;</strong> <strong>Reactçš„è§£å†³æ–¹æ¡ˆ</strong>ï¼Œæå‡ºäº†å•å‘æ•°æ®æµæ¶æ„flux.(åé¢è¡ç”Ÿå‡ºreduxå’Œmobx)<br><img src="https://i.bmp.ovh/imgs/2020/11/1d93a50d7d4e112b.png"></p><h3 id="2-React-çš„ç‰¹ç‚¹ï¼š"><a href="#2-React-çš„ç‰¹ç‚¹ï¼š" class="headerlink" title="2. React çš„ç‰¹ç‚¹ï¼š"></a>2. React çš„ç‰¹ç‚¹ï¼š</h3><p>1ä¸ªæ–°æ¦‚å¿µ<br>4ä¸ªå¿…é¡»çš„API<br>å•å‘æ•°æ®æµ<br>å®Œå–„çš„é”™è¯¯æç¤º</p>]]></content>
    
    
    <categories>
      
      <category>æå®¢æ—¶é—´Reactæ•™ç¨‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>my-first-blog</title>
    <link href="/2020/11/09/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%BA%90%E6%B1%87%E6%80%BB/"/>
    <url>/2020/11/09/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%BA%90%E6%B1%87%E6%80%BB/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰ç«¯å­¦ä¹ è·¯çº¿åŠèµ„æº"><a href="#å‰ç«¯å­¦ä¹ è·¯çº¿åŠèµ„æº" class="headerlink" title=" å‰ç«¯å­¦ä¹ è·¯çº¿åŠèµ„æº"></a><center> å‰ç«¯å­¦ä¹ è·¯çº¿åŠèµ„æº</h2><p align='right'>â€”â€”â€”â€”â€”â€”å·¦è€³å¬é£<p>&nbsp;&emsp;å¯¹äºå‰ç«¯çš„å­¦ä¹ å’Œæé«˜ï¼Œæˆ‘çš„åŸºæœ¬æ€è·¯æ˜¯è¿™æ ·çš„ã€‚é¦–å…ˆï¼Œå‰ç«¯çš„ä¸‰ä¸ªæœ€åŸºæœ¬çš„ä¸œè¥¿ HTML 5ã€CSS 3 å’Œ JavaScriptï¼ˆES6ï¼‰æ˜¯å¿…é¡»è¦å­¦å¥½çš„ã€‚è¿™å…¶ä¸­æœ‰å¾ˆå¤šå¾ˆå¤šçš„æŠ€æœ¯ï¼Œæ¯”å¦‚ï¼ŒCSS 3 å¼•ç”³å‡ºæ¥çš„ Canvasï¼ˆä½å›¾ï¼‰ã€SVGï¼ˆçŸ¢é‡å›¾ï¼‰ å’Œ WebGLï¼ˆ3D å›¾ï¼‰ï¼Œä»¥åŠ CSS çš„å„ç§å›¾å½¢å˜æ¢å¯ä»¥è®©ä½ åšå‡ºéå¸¸ä¸°å¯Œçš„æ¸²æŸ“æ•ˆæœå’ŒåŠ¨ç”»æ•ˆæœã€‚<br>&nbsp;&emsp; ES6 ç®€ç›´å°±æ˜¯æŠŠ JavaScript å¸¦åˆ°äº†ä¸€ä¸ªæ–°çš„å°é˜¶ï¼ŒJavaScript è¯­è¨€çš„å¼ºå¤§ï¼Œå¤§å¤§é‡Šæ”¾äº†å‰ç«¯å¼€å‘äººå‘˜çš„ç”Ÿäº§åŠ›ï¼Œè®©å‰ç«¯å¾—ä»¥å¼€å‘æ›´ä¸ºå¤æ‚çš„ä»£ç å’Œç¨‹åºï¼Œäºæ˜¯åƒ React å’Œ Vue è¿™æ ·çš„æ¡†æ¶å¼€å§‹æˆä¸ºå‰ç«¯ç¼–ç¨‹çš„ä¸äºŒä¹‹é€‰ã€‚<br>&nbsp;&nbsp; æˆ‘ä¸€ç›´è®¤ä¸ºå­¦ä¹ ä»»ä½•çŸ¥è¯†éƒ½è¦ä»åŸºç¡€å‡ºå‘ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« æˆ‘ä¼šç€é‡ä»‹ç»åŸºç¡€çŸ¥è¯†å’ŒåŸºæœ¬åŸç†ï¼Œå°¤å…¶æ˜¯å¦‚ä¸‹çš„è¿™äº›çŸ¥è¯†ï¼Œéƒ½æ˜¯å‰ç«¯ç¨‹åºå‘˜éœ€è¦èŠ±åŠ›æ°”å•ƒä¸‹æ¥çš„ç¡¬éª¨å¤´ã€‚JavaScript çš„æ ¸å¿ƒåŸç†ã€‚è¿™é‡Œæˆ‘ä¼šç»™å‡ºå¥½äº›ç½‘ä¸Šå¾ˆä¸é”™çš„è®² JavaScript </p><ul><li><p><strong>JavaScript çš„æ ¸å¿ƒåŸç†</strong>ã€‚è¿™é‡Œæˆ‘ä¼šç»™å‡ºå¥½äº›ç½‘ä¸Šå¾ˆä¸é”™çš„è®² JavaScript çš„åŸç†çš„æ–‡ç« æˆ–å›¾ä¹¦ï¼Œä½ ä¸€å®šè¦å­¦å¥½è¯­è¨€çš„ç‰¹æ€§ï¼Œå¹¶ä¸”è¯¦ç»†äº†è§£å…¶ä¸­çš„å„ç§å‘ã€‚</p></li><li><p><strong>æµè§ˆå™¨çš„å·¥ä½œåŸç†</strong>ã€‚è¿™ä¹Ÿæ˜¯ä¸€å—ç¡¬éª¨å¤´ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯å‰ç«¯ç¨‹åºå‘˜éœ€è¦äº†è§£å’Œæ˜ç™½çš„å…³é”®çŸ¥è¯†ç‚¹ï¼Œä¸ç„¶ï¼Œä½ å°†æ— æ³•æ·±å…¥ä¸‹å»ã€‚</p></li><li><p><strong>ç½‘ç»œåè®® HTTP</strong>ã€‚ä¹Ÿæ˜¯è¦ç€é‡äº†è§£çš„ï¼Œå°¤å…¶æ˜¯ HTTP/2ï¼Œè¿˜æœ‰ HTTP çš„å‡ ç§è¯·æ±‚æ–¹å¼ï¼šçŸ­è¿æ¥ã€é•¿è¿æ¥ã€Stream è¿æ¥ã€WebSocket è¿æ¥ã€‚</p></li><li><p><strong>å‰ç«¯æ€§èƒ½è°ƒä¼˜</strong>ã€‚æœ‰äº†ä»¥ä¸Šçš„è¿™äº›åŸºç¡€åï¼Œä½ å°±å¯ä»¥è¿›å…¥å‰ç«¯æ€§èƒ½è°ƒä¼˜çš„ä¸»é¢˜äº†ï¼Œæˆ‘ç›¸ä¿¡ä½ å¯ä»¥å¾ˆå®¹æ˜“ä¸Šæ‰‹å„ç§æ€§èƒ½è°ƒä¼˜æŠ€æœ¯çš„ã€‚</p></li><li><p><strong>æ¡†æ¶å­¦ä¹ </strong>ã€‚æˆ‘åªç»™äº† React å’Œ Vue ä¸¤ä¸ªæ¡†æ¶ã€‚å°±è¿™ä¸¤ä¸ªæ¡†æ¶æ¥è¯´ï¼ŒVirtual DOM æŠ€æœ¯æ˜¯å…¶åº•å±‚æŠ€æœ¯ï¼Œç»„ä»¶åŒ–æ˜¯å…¶æ€æƒ³ï¼Œç®¡ç†ç»„ä»¶çš„çŠ¶æ€æ˜¯å…¶é‡ç‚¹ã€‚è€Œå¯¹äº React æ¥è¯´ï¼Œå‡½æ•°å¼ç¼–ç¨‹åˆæ˜¯å…¶ç¼–ç¨‹æ€æƒ³ï¼Œæ‰€ä»¥ï¼Œè¿™äº›åŸºç¡€æŠ€æœ¯éƒ½æ˜¯ä½ éœ€è¦å¥½å¥½ç ”ç©¶å’Œå­¦ä¹ çš„ã€‚</p></li><li><p><strong>UI è®¾è®¡</strong>ã€‚è®¾è®¡ä¹Ÿæ˜¯å‰ç«¯éœ€è¦åšçš„ä¸€ä¸ªäº‹ï¼Œæ¯”å¦‚åƒ Google çš„ Material UIï¼Œæˆ–æ˜¯æ¯”è¾ƒæµè¡Œçš„ Atomic Design ç­‰åº”è¯¥æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆéœ€è¦å­¦ä¹ çš„ã€‚</p><p>&nbsp;è€Œå¯¹äºå·¥å…·ç±»çš„ä¸œè¥¿ï¼Œè¿™é‡Œæˆ‘åŸºæœ¬æ²¡æ€ä¹ˆæ¶‰åŠï¼Œå› ä¸ºæœ¬æ–‡ä¸»è¦è¿˜æ˜¯ä»åŸç†å’ŒåŸºç¡€å…¥æ‰‹ã€‚é‚£äº›å·¥å…·æˆ‘è§‰å¾—éƒ½å¾ˆç®€å•ï¼Œå°±åƒå­¦ä¹  Java æˆ‘æ²¡æœ‰è®©ä½ å»å­¦ä¹  Maven ä¸€æ ·ï¼Œå› ä¸ºåªè¦ä½ å»åŠ¨æ‰‹äº†ï¼Œè¿™ç§çŸ¥è¯†ä½ è‡ªç„¶å°±ä¼šè·å¾—ï¼Œæˆ‘ä»¬è¿˜æ˜¯æŠŠç²¾åŠ›é‡ç‚¹æ”¾åœ¨æ›´é‡è¦çš„åœ°æ–¹ã€‚  </p><p>ä¸‹é¢æˆ‘ä»¬ä»å‰ç«¯åŸºç¡€å’Œåº•å±‚åŸç†å¼€å§‹è®²èµ·ã€‚å…ˆæ¥è®²è®² HTML5 ç›¸å…³çš„å†…å®¹ã€‚</p><h3 id="HTML-5"><a href="#HTML-5" class="headerlink" title="HTML 5"></a>HTML 5</h3><p>HTML 5 ä¸»è¦æœ‰ä»¥ä¸‹å‡ æœ¬ä¹¦æ¨èã€‚</p><ul><li><a href="https://book.douban.com/subject/25786074/">HTML 5 æƒå¨æŒ‡å—</a>ï¼Œæœ¬ä¹¦é¢å‘åˆå­¦è€…å’Œä¸­ç­‰æ°´å¹³ Web å¼€å‘äººå‘˜ï¼Œæ˜¯ç‰¢å›ºæŒæ¡ HTML 5ã€CSS 3 å’Œ JavaScript çš„å¿…è¯»ä¹‹ä½œã€‚ä¹¦çœ‹èµ·æ¥æ¯”è¾ƒåšï¼Œæ˜¯å› ä¸ºé‡Œé¢çš„ä»£ç å¾ˆå¤šã€‚</li><li><a href="https://book.douban.com/subject/24533314/">HTML 5 Canvas æ ¸å¿ƒæŠ€æœ¯ </a>ï¼Œå¦‚æœä½ è¦åš HTML 5 æ¸¸æˆçš„è¯ï¼Œè¿™æœ¬ä¹¦å¿…è¯»ã€‚</li><li>å¯¹äº SVGã€Canvas å’Œ WebGL è¿™ä¸‰ä¸ªå¯¹åº”äºçŸ¢é‡å›¾ã€ä½å›¾å’Œ 3D å›¾çš„æ¸²æŸ“æ¥è¯´ï¼Œç»™å‰ç«¯å¼€å‘å¸¦æ¥äº†é‡æ­¦å™¨ï¼Œå¾ˆå¤š HTML5 å°æ¸¸æˆä¹Ÿå› æ­¤è“¬å‹ƒå‘å±•ã€‚æ‰€ä»¥ï¼Œä½ å¯ä»¥å­¦ä¹ ä¸€ä¸‹ã€‚å­¦ä¹ è¿™ä¸‰ä¸ªæŠ€æœ¯ï¼Œæˆ‘ä¸ªäººè§‰å¾—æœ€å¥½çš„åœ°æ–¹æ˜¯ MDNã€‚</li><li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG">SVG: Scalable Vector Graphics</a></li><li><a href="https://developer.mozilla.org/kab/docs/Web/API/Canvas_API">Canvas API</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API">The WebGL API: 2D and 3D graphics for the web</a></li></ul></li></ul><p>  æœ€åæ˜¯å‡ ä¸ªèµ„æºåˆ—è¡¨ã€‚</p><ul><li><a href="https://github.com/diegocard/awesome-html5">Awesome HTML5</a> ã€‚GitHub ä¸Šçš„ Awesome HTML5ï¼Œå…¶ä¸­æœ‰å¤§é‡çš„èµ„æºå’ŒæŠ€æœ¯æ–‡ç« ã€‚</li><li><a href="https://github.com/willianjusten/awesome-svg">Awesome SVG</a></li><li><a href="https://github.com/raphamorim/awesome-canvas">Awesome Canvas</a></li><li><a href="https://github.com/sjfricke/awesome-webgl">Awesome WebGL</a></li></ul><h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><p>åœ¨ã€Šç¨‹åºå‘˜ç»ƒçº§æ”»ç•¥ã€‹ç³»åˆ—æ–‡ç« æœ€å¼€å§‹ï¼Œæˆ‘ä»¬å°±æ¨èè¿‡ CSS çš„åœ¨çº¿å­¦ä¹ æ–‡æ¡£ï¼Œè¿™é‡Œå†æ¨èä¸€ä¸‹ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS">MDN Web Doc - CSS </a>ã€‚æˆ‘ä¸ªäººè§‰å¾—åªè¦ä½ ä»”ç»†è¯»ä¸€ä¸‹æ–‡æ¡£ï¼ŒCSS å¹¶ä¸éš¾å­¦ã€‚ç»å¤§å¤šæ•°è§‰å¾—éš¾çš„ï¼Œä¸€æ–¹é¢æ˜¯æ–‡æ¡£æ²¡è¯»é€ï¼Œå¦ä¸€æ–¹é¢æ˜¯æµè§ˆå™¨æ”¯æŒçš„æ ‡å‡†ä¸ä¸€è‡´ã€‚æ‰€ä»¥ï¼Œå­¦å¥½ CSS æœ€å…³é”®çš„è¿˜æ˜¯è¦ä»”ç»†åœ°è¯»æ–‡æ¡£ã€‚ä¹‹åï¼Œåœ¨å†™ CSS çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°ï¼Œä½ çš„ CSS ä¸­æœ‰å¾ˆå¤šçœ‹èµ·æ¥ç›¸ä¼¼çš„ä¸œè¥¿ã€‚ä½ çš„ DRY - Donâ€™t Repeat Yourself æ´ç™–å‘Šè¯‰ä½ ï¼Œè¿™æ˜¯ä¸å¯¹çš„ã€‚æ‰€ä»¥ï¼Œä½ éœ€è¦å­¦ä¼šä½¿ç”¨ <a href="http://lesscss.org/">LESS</a> å’Œ <a href="http://sass-lang.com/">SaSS</a> è¿™ä¸¤ä¸ª CSS é¢„å¤„ç†å·¥å…·ï¼Œå…¶å¯ä»¥å¸®ä½ æé«˜å¾ˆå¤šæ•ˆç‡ã€‚ç„¶åï¼Œä½ éœ€è¦å­¦ä¹ ä¸€ä¸‹ CSS çš„ä¹¦å†™è§„èŒƒï¼Œå‰é¢çš„ã€Šç¨‹åºå‘˜ä¿®å…»ã€‹ä¸€æ–‡ä¸­æåˆ°è¿‡ä¸€äº›ï¼Œè¿™é‡Œå†è¡¥å……å‡ ä¸ª:</p><ul><li><p><a href="https://github.com/necolas/idiomatic-css">Principles of writing consistent, idiomatic CSS</a></p></li><li><p><a href="https://github.com/grvcoelho/css-styleguide">Opinionated CSS styleguide for scalable applications</a></p></li><li><p><a href="https://google.github.io/styleguide/htmlcssguide.html">Google HTML/CSS Style Guide</a></p><p>&emsp;å¦‚æœä½ éœ€è¦æ›´æœ‰æ•ˆç‡ï¼Œé‚£ä¹ˆä½ è¿˜éœ€è¦ä½¿ç”¨ä¸€äº› CSS Frameworkï¼Œå…¶ä¸­æœ€è‘—åçš„å°±æ˜¯ Twitter å…¬å¸çš„ Bootstrapï¼Œå…¶æœ‰å¾ˆå¤šä¸é”™çš„ UI ç»„ä»¶ï¼Œé¡µé¢å¸ƒå±€æ–¹æ¡ˆï¼Œå¯ä»¥è®©ä½ éå¸¸æ–¹ä¾¿ä¹Ÿéå¸¸å¿«é€Ÿåœ°å¼€å‘é¡µé¢ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ï¼Œä¸»æ‰“æ¸…æ–° UI çš„ Semantic UI ã€ä¸»æ‰“å“åº”å¼ç•Œé¢çš„ Foundation å’ŒåŸºäº Flexbox çš„ Bulmaã€‚<br>&emsp;å½“ç„¶ï¼Œåœ¨ä½¿ç”¨ CSS ä¹‹å‰ï¼Œä½ éœ€è¦æŠŠä½ æµè§ˆå™¨ä¸­çš„ä¸€äº› HTML æ ‡ç­¾ç»™æ ‡å‡†åŒ–æ‰ã€‚æ‰€ä»¥ï¼Œæ¨èå‡ ä¸ª Reset æˆ–æ ‡å‡†åŒ–çš„ CSS åº“ï¼šNormalizeã€MiniRest.cssã€sanitize.css å’Œ unstyle.cssã€‚å…³äºæ›´å¤šçš„ CSS æ¡†æ¶ï¼Œä½ å¯ä»¥å‚çœ‹<a href="https://github.com/troxler/awesome-css-frameworks">Awesome CSS Frameworks</a> ä¸Šçš„åˆ—è¡¨ã€‚æ¥ä¸‹æ¥ï¼Œæ˜¯å‡ ä¸ªå…¬å¸çš„ CSS ç›¸å…³å®è·µï¼Œä¾›ä½ å‚è€ƒ:</p></li><li><p><a href="https://codepen.io/chriscoyier/post/codepens-css"> CodePenâ€™s CSS</a></p></li><li><p><a href="https://markdotto.com/2014/07/23/githubs-css/">Github çš„ CSS</a></p></li><li><p>Mediumâ€™s CSS is actually pretty f***ing good()</p></li><li><p>CSS at BBC Sport</p></li><li><p><a href="https://blog.trello.com/refining-the-way-we-structure-our-css-at-trello">Refining The Way We Structure Our CSS At Trello</a></p><p>&emsp; æœ€åæ˜¯ä¸€ä¸ªå¯ä»¥å†™å‡ºå¯æ‰©å±•çš„ CSS çš„é˜…è¯»åˆ—è¡¨ <a href="https://github.com/davidtheclark/scalable-css-readin">A Scalable CSS Reading List</a> ã€‚</p><h3 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h3><p>ä¸‹é¢æ˜¯å­¦ä¹  JavaScript çš„ä¸€äº›å›¾ä¹¦å’Œæ–‡ç« ã€‚</p></li><li><p><a href="">JavaScript: The Good Parts</a> ï¼Œä¸­æ–‡ç¿»è¯‘ç‰ˆä¸ºã€ŠJavaScript è¯­è¨€ç²¾ç²¹ã€‹ã€‚è¿™æ˜¯ä¸€æœ¬ä»‹ç» JavaScript è¯­è¨€æœ¬è´¨çš„æƒå¨å›¾ä¹¦ï¼Œå€¼å¾—ä»»ä½•æ­£åœ¨æˆ–å‡†å¤‡ä»äº‹ JavaScript å¼€å‘çš„äººé˜…è¯»ï¼Œå¹¶ä¸”éœ€è¦åå¤é˜…è¯»ã€‚å­¦ä¹ ã€ç†è§£ã€å®è·µå¤§å¸ˆçš„æ€æƒ³ï¼Œæˆ‘ä»¬æ‰å¯èƒ½ç«™åœ¨å·¨äººçš„è‚©ä¸Šï¼Œæ‰æœ‰æœºä¼šè¶…è¶Šå¤§å¸ˆï¼Œè¿™æœ¬ä¹¦å°±æ˜¯å¼€å§‹ã€‚</p></li><li><p><a href="">Secrets of the JavaScript Ninja</a> ï¼Œä¸­æ–‡ç¿»è¯‘ç‰ˆä¸ºã€ŠJavaScript å¿è€…ç§˜ç±ã€‹ï¼Œæœ¬ä¹¦æ˜¯ jQuery åº“åˆ›å§‹äººç¼–å†™çš„ä¸€æœ¬æ·±å…¥å‰–æ JavaScript è¯­è¨€çš„ä¹¦ã€‚é€‚åˆå…·å¤‡ä¸€å®š JavaScript åŸºç¡€çŸ¥è¯†çš„è¯»è€…é˜…è¯»ï¼Œ</p></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
