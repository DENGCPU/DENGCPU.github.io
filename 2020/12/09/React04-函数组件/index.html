

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.ico">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#265734">
  <meta name="description" content="å‰ç«¯å°ç™½ï¼Œå‡çº§æ‰“æ€ª">
  <meta name="author" content="dorothy">
  <meta name="keywords" content="å‰ç«¯ï¼Œjs,h5,css,react">
  <title>React04-å‡½æ•°ç»„ä»¶ - Dorothyçš„åšå®¢</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.1.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.5","typing":{"enable":true,"typeSpeed":60,"cursorChar":"_","loop":false},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"copy_btn":true,"image_zoom":{"enable":true},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>DorothyJay</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/cup.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="React04-å‡½æ•°ç»„ä»¶">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2020-12-09 10:03" pubdate>
        2020å¹´12æœˆ9æ—¥ ä¸Šåˆ
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.3k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      61
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">React04-å‡½æ•°ç»„ä»¶</h1>
            
            <div class="markdown-body">
              <h3 id="React-Function-Components"><a href="#React-Function-Components" class="headerlink" title="React Function Components"></a>React Function Components</h3><p>&emsp; Reactå‡½æ•°ç»„ä»¶æ˜¯ç¼–å†™ç°ä»£Reactåº”ç”¨ç¨‹åºçš„å¸¸ç”¨æ–¹å¼ï¼Œè‡ªä»React Hookè¢«å¼•å…¥ä¹‹åï¼Œä½¿å¾—å®Œå…¨ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶æ¥ç¼–å†™ä¸€ä¸ªReactåº”ç”¨ç¨‹åºæˆä¸ºå¯èƒ½ã€‚å‡½æ•°å¼ç»„ä»¶çš„æ ¸å¿ƒï¼šå°±æ˜¯ä¸€ä¸ªè¿”å›JSXçš„JavaScriptå‡½æ•°ã€‚</p>
<h4 id="ä¸€ã€ä¸€ä¸ªç®€å•çš„å‡½æ•°ç»„ä»¶çš„ä¾‹å­"><a href="#ä¸€ã€ä¸€ä¸ªç®€å•çš„å‡½æ•°ç»„ä»¶çš„ä¾‹å­" class="headerlink" title="ä¸€ã€ä¸€ä¸ªç®€å•çš„å‡½æ•°ç»„ä»¶çš„ä¾‹å­"></a>ä¸€ã€ä¸€ä¸ªç®€å•çš„å‡½æ•°ç»„ä»¶çš„ä¾‹å­</h4><p>å‡½æ•°å¼ç»„ä»¶çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>)</span>&#123;
    <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;hello function component!&#x27;</span>;

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;greeting&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>
<p>ä»ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°å‡½æ•°å¼ç»„ä»¶ä¸­å¹¶æ²¡æœ‰ç±»classç»„ä»¶é‡Œæœ‰çš„render()å‡½æ•°ã€‚å®é™…ä¸Šï¼Œå‡½æ•°ä¸»ä½“é‡Œé¢å®šä¹‰çš„å†…å®¹éƒ½æ˜¯renderå‡½æ•°ï¼Œè¯¥å‡½æ•°æœ€åè¿”JSXã€‚</p>
<p>å¦‚æœæƒ³åœ¨Reactå‡½æ•°ç»„ä»¶é‡Œé¢ï¼Œå†æ¸²æŸ“ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>)</span>&#123;
    <span class="hljs-comment">//å°†Headlineç»„ä»¶ä½œä¸ºHTMLå…ƒç´ ï¼Œä»¥JSXçš„æ–¹å¼æ¸²æŸ“å‡ºæ¥</span>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headine</span> /&gt;</span></span>
&#125;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Headeline</span>(<span class="hljs-params"></span>)</span>&#123;
    <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;hello function component!&#x27;</span>;

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;greeting&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<h4 id="äºŒã€å‡½æ•°ç»„ä»¶çš„å‚æ•°Props"><a href="#äºŒã€å‡½æ•°ç»„ä»¶çš„å‚æ•°Props" class="headerlink" title="äºŒã€å‡½æ•°ç»„ä»¶çš„å‚æ•°Props"></a>äºŒã€å‡½æ•°ç»„ä»¶çš„å‚æ•°Props</h4><p>&emsp;åœ¨Reactä¸­ï¼Œpropsè¢«ç”¨äºç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´ä¼ é€’ä¿¡æ¯ï¼ˆçˆ¶ç»„ä»¶é€šè¿‡propsä¼ é€’ä¿¡æ¯ç»™å­ç»„ä»¶ï¼‰ã€‚Essentially props in React are always passed down the component tree;</p>
<p>ä¸€ä¸ªä½¿ç”¨propsçš„ä¾‹å­ï¼š</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>)</span>&#123;
    <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;hello function component&#x27;</span>;

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> <span class="hljs-attr">value</span> = <span class="hljs-string">&#123;greeting&#125;</span> /&gt;</span></span>;
&#125;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Headline</span>(<span class="hljs-params">props</span>)</span>&#123;
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;props.value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<p>ç”±äºpropsé€šå¸¸éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨JS å¯¹è±¡è§£æ„çš„æ–¹å¼ä»propsä¸­æŠ½å–æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ã€‚æ¯”å¦‚ä¸Šé¢çš„Headlineç»„ä»¶ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼ï¼š</p>
<pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Headline</span>(<span class="hljs-params">&#123;value&#125;</span>)</span>&#123;
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
&#125;
<span class="hljs-comment">//éœ€è¦è§£æ„å¤šä¸ªä¿¡æ¯å‡ºæ¥æ—¶ï¼š</span>
<span class="hljs-comment">//function Headline(&#123;value1,value2&#125;)&#123;...&#125;</span></code></pre>

<p>å…³äºpropsçš„æ›´å¤šä½¿ç”¨ï¼šå¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://www.robinwieruch.de/react-pass-props-to-component">How to pass props to components in React</a></p>
<h4 id="ä¸‰ã€React-ç®­å¤´å‡½æ•°ç»„ä»¶"><a href="#ä¸‰ã€React-ç®­å¤´å‡½æ•°ç»„ä»¶" class="headerlink" title="ä¸‰ã€React ç®­å¤´å‡½æ•°ç»„ä»¶"></a>ä¸‰ã€React ç®­å¤´å‡½æ•°ç»„ä»¶</h4><p>&emsp;ç®­å¤´å‡½æ•°ç»„ä»¶ Arrow Funciton Components(or Lambda Function Component)ï¼Œæ˜¯éšç€ES6ç®­å¤´å‡½æ•°çš„å‡ºç°ï¼Œå¼•å…¥åˆ°Reactä¸­çš„ã€‚</p>
<p>ç”¨ç®­å¤´å‡½æ•°é‡æ„ä¸Šé¢çš„å‡½æ•°ç»„ä»¶ä¾‹å­ï¼š</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App=<span class="hljs-function">()=&gt;</span>&#123;
    <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;hello function components!&#x27;</span>;

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;greeting&#125;</span> /&gt;</span></span>
&#125;;

<span class="hljs-keyword">const</span> Headline=<span class="hljs-function">(<span class="hljs-params">&#123;value&#125;</span>)=&gt;</span>&#123;
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
&#125;;

<span class="hljs-comment">//æ ¹æ®ç®­å¤´å‡½æ•°çš„ç®€å†™è§„åˆ™ï¼Œä¸Šé¢çš„Headlineå¯ä»¥ç®€å†™ä¸ºï¼š</span>
<span class="hljs-keyword">const</span> Headline = <span class="hljs-function">(<span class="hljs-params">&#123;value&#125;</span>) =&gt;</span>
     &lt;h1&gt;&#123;value&#125;&lt;/h1&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<h4 id="å››ã€Stateless-Function-Component"><a href="#å››ã€Stateless-Function-Component" class="headerlink" title="å››ã€Stateless Function Component"></a>å››ã€Stateless Function Component</h4><p>&emsp;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å†™çš„ä¾‹å­é‡Œéƒ½æ˜¯æ— çŠ¶æ€çš„å‡½æ•°ç»„ä»¶ã€‚å®ƒä»¬ä»…ä»…æ¥æ”¶ä¸€ä¸ªprops,ç„¶åè¿”å›ä¸€ä¸ªè¾“å‡ºã€ä»¥JSXï¼šï¼ˆprops)=&gt;JSXã€‘ã€‚ è¿™ç§ç±»å‹çš„ç»„ä»¶ä¸éœ€è¦ç®¡ç†stateï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ï¼ˆä¾‹å¦‚ï¼Œæ¥å—æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°ä¸ºâ€œStateless Function Componentâ€ï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ— çŠ¶æ€çš„ä¸”ä»¥ä¸€ä¸ªå‡½æ•°çš„å½¢å¼è¡¨è¾¾å‡ºæ¥ã€‚ç„¶è€Œï¼ŒReact Hooksä½¿å¾—å‡½æ•°å¼ç»„ä»¶æœ‰stateæˆä¸ºå¯èƒ½ã€‚</p>
<h4 id="äº”ã€æœ‰stateçš„å‡½æ•°ç»„ä»¶"><a href="#äº”ã€æœ‰stateçš„å‡½æ•°ç»„ä»¶" class="headerlink" title="äº”ã€æœ‰stateçš„å‡½æ•°ç»„ä»¶"></a>äº”ã€æœ‰stateçš„å‡½æ•°ç»„ä»¶</h4><p>&emsp;ç°åœ¨æˆ‘ä»¬å…ˆç§»é™¤ä¸Šé¢ä¾‹å­ä¸­å‡½æ•°ç»„ä»¶é‡Œçš„æ‰€æœ‰props:</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
 
<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> &#123;
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> /&gt;</span></span>;
&#125;;
 
<span class="hljs-keyword">const</span> Headline = <span class="hljs-function">() =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">&#x27;Hello Function Component!&#x27;</span>;
 
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;greeting&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;
&#125;;
 
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>
<p>è¿™æ ·ï¼Œä½¿ç”¨è¿™ä¸ªapplicationçš„ç”¨æˆ·å°±æ²¡æ³•å’Œå®ƒè¿›è¡Œä»»ä½•äº¤äº’ï¼Œä¹Ÿæ— æ³•æ”¹å˜greetingå˜é‡ã€‚The application is static and not interactive at allã€‚  Stateå°±æ˜¯è®©Reactç»„ä»¶å˜å¾—å¯äº¤äº’ï¼ŒReact Hooks å¸®åŠ©æˆ‘ä»¬å®ç°å‡½æ•°å¼ç»„ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨stateã€‚</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App=<span class="hljs-function">()=&gt;</span>&#123;
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> /&gt;</span></span>;
&#125;

<span class="hljs-keyword">const</span> Headline=<span class="hljs-function">()=&gt;</span>&#123;
    <span class="hljs-keyword">const</span> [greeting , setGreeting] = useState(
        <span class="hljs-string">&#x27;hello function component!&#x27;</span>
    );

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;greeting&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
&#125;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<p>useState hookå‡½æ•°å°†åˆå§‹çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ˆå½“å‰çš„stateæ˜¯è¿™ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç”¨äºæ”¹å˜stateçš„å‡½æ•°æ—¶è¿™ä¸ªæ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼‰ã€‚æˆ‘ä»¬ä½¿ç”¨äº†æ•°ç»„è§£æ„çš„æ–¹å¼æ¥è·å–è¿™ä¸ªæ•°ç»„çš„å…ƒç´ ã€‚è€Œä¸”æ•°ç»„è§£æ„å…è®¸æˆ‘ä»¬è‡ªå·±ä¸ºå˜é‡å‘½åã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªinput field æ¥æ”¹å˜stateï¼ˆä½¿ç”¨setGreeting):</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App=<span class="hljs-function">()=&gt;</span>&#123;
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> /&gt;</span></span>;
&#125;

<span class="hljs-keyword">const</span> Headline=<span class="hljs-function">()=&gt;</span>&#123;
    <span class="hljs-keyword">const</span> [greeting , setGreeting] = useState(
        <span class="hljs-string">&#x27;hello function component!&#x27;</span>
    );

    <span class="hljs-keyword">return</span> (
        &lt;div&gt;
            &lt;h1&gt;&#123;greeting&#125;&lt;h1&gt;
            
            &lt;input
                type=<span class="hljs-string">&#x27;text&#x27;</span>
                value=&#123;greeting&#125;
                onChange=&#123;<span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setGreeting(event.target.value)&#125;
            /&gt;
        &lt;/div&gt;
    )
&#125;;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨inputä¸­æ·»åŠ ä¸€ä¸ªevent handlerï¼Œè¿™æ ·å½“inputä¸­çš„å€¼å˜åŒ–æ—¶æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨å›è°ƒå‡½æ•°åšä¸€äº›äº‹æƒ…ã€‚å›è°ƒå‡½æ•°çš„å‚æ•°eventæ˜¯ä¸€ä¸ªæ‹¥æœ‰å½“å‰inputåŸŸä¸­valueå€¼çš„<a target="_blank" rel="noopener" href="https://reactjs.org/docs/events.html">synthetic React event</a>ï¼Œäº¦å³event.target.valueï¼Œè¢«ç”¨æ¥æ›´æ–°å‡½æ•°ç»„ä»¶çš„stateã€‚åç»­ï¼Œæˆ‘ä»¬ä¼šå°†è¿™ä¸ªonChangeäº‹ä»¶æå–å‡ºæ¥ã€‚</p>
<p>ğŸ–ï¼šè¿™ä¸ªinput field å¯ä»¥æ¥å—è¿™ä¸ªç»„ä»¶çš„stateå€¼ã€‚å½“æˆ‘ä»¬æƒ³æ§åˆ¶inputçš„valueï¼ˆstateï¼‰è€Œä¸æƒ³è®©åŸç”Ÿçš„HTMLå…ƒç´ çš„å†…éƒ¨çŠ¶æ€æ¥ç®¡inputä¸­çš„å€¼æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»„ä»¶çš„stateå€¼ã€‚è¿™æ—¶ï¼Œè¿™ä¸ªinputå°±æˆä¸ºäº†â€å—æ§ç»„ä»¶â€<a target="_blank" rel="noopener" href="https://www.robinwieruch.de/react-controlled-components">controlled component</a>ã€‚</p>
<h4 id="å…­ã€å‡½æ•°ç»„ä»¶ï¼ševent-handler"><a href="#å…­ã€å‡½æ•°ç»„ä»¶ï¼ševent-handler" class="headerlink" title="å…­ã€å‡½æ•°ç»„ä»¶ï¼ševent handler"></a>å…­ã€å‡½æ•°ç»„ä»¶ï¼ševent handler</h4><p>åœ¨ç¬¬äº”èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç»™inputå…ƒç´ æ·»åŠ äº†ä¸€ä¸ªonChangeäº‹ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬éšæ—¶å¯ä»¥è§‚å¯Ÿåˆ°inputå†…å®¹çš„å˜åŒ–ã€‚ä½†æ˜¯ä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å†…è”çš„ç®­å¤´å‡½æ•°ç»™onChangeäº‹ä»¶èµ‹å€¼ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæŠ½å–å‡ºæ¥ä½œä¸ºä¸€ä¸ªå‘½åå‡½æ•°:</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Headline</span> /&gt;</span></span>;
&#125;

<span class="hljs-keyword">const</span> Headline = <span class="hljs-function">() =&gt;</span>&#123;
    <span class="hljs-keyword">const</span> [greeting, setGreeting] = useState(<span class="hljs-string">&#x27;hello function component&#x27;</span>)
&#125;
<span class="hljs-comment">//è¿™é‡Œå°±æ˜¯æå–å‡ºæ¥çš„å‘½åå‡½æ•°</span>
<span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span>setGreeting(event.target.value);

<span class="hljs-keyword">return</span>(
    &lt;div&gt;
        &lt;h1&gt;&#123;greeting&#125;&lt;/h1&gt;

        &lt;input type=<span class="hljs-string">&#x27;text&#x27;</span> value=&#123;greeting&#125; onChange = &#123;handleChange&#125; /&gt;
    &lt;/div&gt;
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<h4 id="ä¸ƒã€çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼-åŒ…æ‹¬callback-function"><a href="#ä¸ƒã€çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼-åŒ…æ‹¬callback-function" class="headerlink" title="ä¸ƒã€çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼(åŒ…æ‹¬callback function)"></a>ä¸ƒã€çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼(åŒ…æ‹¬callback function)</h4><p>åœ¨ç¬¬å…­èŠ‚ä¸­çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰çš„é€»è¾‘ï¼ˆåŒ…æ‹¬å˜é‡å’Œå‡½æ•°ï¼‰éƒ½æ”¾åœ¨äº†å­ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯Headlineä¸­ã€‚çˆ¶ç»„ä»¶æ²¡æœ‰å‘å­ç»„ä»¶ä¼ é€’props,ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†æŠŠgreetingå’ŒonChangeäº‹ä»¶çš„å¤„ç†é€»è¾‘éƒ½æ”¾åœ¨çˆ¶ç»„ä»¶Appä¸­ï¼Œå†é€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶Headlineã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React,&#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;
    <span class="hljs-keyword">const</span> [greeting, setGreeting] = useState(<span class="hljs-string">&#x27;hello function component&#x27;</span>);

    <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setGreeting(event.target.value);

    <span class="hljs-keyword">return</span> (
        &lt;Headline headline = &#123;greeting&#125; onChangeHeadline = &#123;handleChange&#125; /&gt;
    )
&#125;

<span class="hljs-keyword">const</span> Headline = <span class="hljs-function">(<span class="hljs-params">&#123;headline,onChangeHeadline&#125;</span>) =&gt;</span> (
    &lt;div&gt;
        &lt;h1&gt;&#123;headline&#125;&lt;/h1&gt;

        &lt;input type=<span class="hljs-string">&#x27;text&#x27;</span> value=&#123;headline&#125; onChange=&#123;onChangeHeadline&#125;/&gt;
    &lt;/div&gt;
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<p>è¿›ä¸€æ­¥åœ°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠinputæŠ½å–å‡ºæ¥ï¼Œä½¿å…¶åˆ°å•ç‹¬æˆä¸ºä¸€ä¸ªç»„ä»¶ã€‚ä»è€Œï¼Œæˆ‘ä»¬æœ‰ä¸ªä¸€ä¸ªçˆ¶ç»„ä»¶Appï¼Œä¸¤ä¸ªå­ç»„ä»¶Headlineå’ŒInputã€‚çˆ¶ç»„ä»¶å‘ä¸¤ä¸ªå­ç»„ä»¶ä¼ é€’props:</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React,&#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;
    <span class="hljs-keyword">const</span> [greeting, setGreeting] = useState(<span class="hljs-string">&#x27;hello function component&#x27;</span>);

    <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span>setGreeting(event.target.value);

    <span class="hljs-keyword">return</span> (
        &lt;div&gt;
            &lt;Headline headline=&#123;greeting&#125; /&gt;

            &lt;Input value=&#123;greeting&#125; onChangeInput=&#123;handleChange&#125;&gt;<span class="hljs-built_in">Set</span> Greeting: &lt;/Input&gt;
        &lt;/div&gt;
    )
&#125;;

<span class="hljs-keyword">const</span> Headline = <span class="hljs-function">(<span class="hljs-params">&#123;headline&#125;</span>) =&gt;</span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;headline&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>

<span class="hljs-keyword">const</span> Input = <span class="hljs-function">(<span class="hljs-params">&#123;value,onChangeInput, children&#125;</span>) =&gt;</span>(
    &lt;label&gt;
    &#123;children&#125;
    &lt;input type=<span class="hljs-string">&#x27;text&#x27;</span> value=&#123;value&#125; onChange = &#123;onChangeInput&#125; /&gt;
    &lt;/label&gt;
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<h4 id="å…«ã€è®¾ç½®propsçš„é»˜è®¤å€¼"><a href="#å…«ã€è®¾ç½®propsçš„é»˜è®¤å€¼" class="headerlink" title="å…«ã€è®¾ç½®propsçš„é»˜è®¤å€¼"></a>å…«ã€è®¾ç½®propsçš„é»˜è®¤å€¼</h4><p>å½“çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’propsçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­ç»„ä»¶ä¸­ä¸ºè¿™äº›propsè®¾ç½®é»˜è®¤å€¼ï¼ˆdefault valueï¼‰å»overrideä¼ é€’çš„å€¼ã€‚äº¦å³ï¼Œå½“çˆ¶ç»„ä»¶ä¼ é€’çš„propsä¸ä¸ºç©ºæ—¶ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨ä¼ é€’è¿‡æ¥çš„ï¼Œå¦åˆ™æˆ‘ä»¬å°±ä½¿ç”¨å­ç»„ä»¶çš„é»˜è®¤å€¼ã€‚</p>
<p>ç»™å­ç»„ä»¶çš„propsè®¾ç½®é»˜è®¤å€¼,æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š</p>
<pre><code class="hljs js"><span class="hljs-comment">//ç¬¬ä¸€ç§ï¼š</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;
    <span class="hljs-keyword">const</span> sayHello = <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;hello&#x27;</span>);

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">handleClick</span>=<span class="hljs-string">&#123;sayHello&#125;</span> /&gt;</span></span>
&#125;;

<span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">&#123;handleClick&#125;</span>) =&gt;</span>&#123;
    <span class="hljs-keyword">const</span> sayDefault = <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;default&#x27;</span>);

    <span class="hljs-keyword">const</span> onClick = handleClick || sayDefault;

    <span class="hljs-keyword">return</span> (
        &lt;button type=<span class="hljs-string">&#x27;button&#x27;</span> onClick=&#123;onClick&#125;&gt;
            Button
        &lt;/button&gt;
    )
&#125;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å­ç»„ä»¶çš„å‡½æ•°ç­¾åï¼ˆå°æ‹¬å·å†…ï¼‰ä¸ºpropsè®¾ç½®é»˜è®¤å€¼ï¼š</p>
<pre><code class="hljs js"><span class="hljs-comment">//ç¬¬äºŒç§ï¼š</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> &#123;
    <span class="hljs-keyword">const</span> sayHello = <span class="hljs-function">() =&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Hello&#x27;</span>);

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">handleClick</span> = <span class="hljs-string">&#123;sayHello&#125;</span> /&gt;</span></span>
&#125;;

<span class="hljs-keyword">const</span> Button = (&#123;handleClick = <span class="hljs-function">()=&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;default&#x27;</span>)&#125;) =&gt; (
    &lt;button onClick=&#123;handleClick&#125;&gt;
        Button
    &lt;/button&gt;
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<p>æœ€åä¸€ç§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¸ºå‡½æ•°ç»„ä»¶å¢åŠ defaultPropså±æ€§çš„æ–¹å¼æ¥è®¾ç½®é»˜è®¤å€¼ï¼š</p>
<pre><code class="hljs js"><span class="hljs-comment">//ç¬¬ä¸‰ç§ï¼š</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> sayHello = <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Hello&#x27;</span>);
 
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">handleClick</span>=<span class="hljs-string">&#123;sayHello&#125;</span> /&gt;</span></span>;
&#125;;
 
<span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">&#123;handleClick&#125;</span>) =&gt;</span>(
    &lt;button onClick=&#123;handleClick&#125;&gt;
        Button
    &lt;/button&gt;
);

Button.defaultProps = &#123;
    handleClick: <span class="hljs-function">()=&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;default&#x27;</span>);
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<h4 id="ä¹ã€Reactç»„ä»¶ä¸­çš„å¼‚æ­¥å‡½æ•°"><a href="#ä¹ã€Reactç»„ä»¶ä¸­çš„å¼‚æ­¥å‡½æ•°" class="headerlink" title="ä¹ã€Reactç»„ä»¶ä¸­çš„å¼‚æ­¥å‡½æ•°"></a>ä¹ã€Reactç»„ä»¶ä¸­çš„å¼‚æ­¥å‡½æ•°</h4><p>è®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªå¼‚æ­¥å‡½æ•°çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;
    <span class="hljs-comment">//é€šè¿‡setTimeoutå®ç°ä¸€ä¸ªå¼‚æ­¥å»¶è¿Ÿæ‰§è¡Œ</span>
    <span class="hljs-keyword">const</span> sayHello = <span class="hljs-function">() =&gt;</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;hello&#x27;</span>),<span class="hljs-number">1000</span>);

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">handleClick</span> = <span class="hljs-string">&#123;sayHello&#125;</span> /&gt;</span></span>
&#125;;

<span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">&#123;handleClick&#125;</span>) =&gt;</span>(
    &lt;button onClick=&#123;handleClick&#125;&gt;
        Button
    &lt;/button&gt;
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
<span class="hljs-string">``</span><span class="hljs-string">` </span>
<span class="hljs-string"></span>
<span class="hljs-string">ä¸‹é¢å†çœ‹ä¸€ä¸ªä¾‹å­ï¼Œé€šè¿‡ä½¿ç”¨setTimeouté€ æˆå»¶è¿Ÿæ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•æ›´æ–°stateã€‚</span>
<span class="hljs-string"></span>
<span class="hljs-string">`</span><span class="hljs-string">``</span>js
<span class="hljs-keyword">import</span> React, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> &#123;
    <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">() =&gt;</span>
            <span class="hljs-built_in">setTimeout</span>(
                <span class="hljs-comment">//è¿™é‡Œå¾ˆå®¹æ˜“å†™æˆsetCount(count+1),é”™ï¼</span>
                ()=&gt;setCount(<span class="hljs-function"><span class="hljs-params">count</span>=&gt;</span>count+<span class="hljs-number">1</span>),
                <span class="hljs-number">1000</span>
            );
    
    <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">() =&gt;</span>
            <span class="hljs-built_in">setTimeout</span>(
                <span class="hljs-comment">//è¿™é‡Œå¾ˆå®¹æ˜“å†™æˆsetCount(count-1),é”™ï¼</span>
                ()=&gt;setCount(<span class="hljs-function"><span class="hljs-params">count</span>=&gt;</span>count-<span class="hljs-number">1</span>),
                <span class="hljs-number">1000</span>
            );

    <span class="hljs-keyword">return</span> (
        &lt;div&gt;
            &lt;h1&gt;&#123;count&#125;&lt;/h1&gt;
            &lt;Button handleClick=&#123;handleIncrement&#125;&gt;å¢åŠ <span class="hljs-number">1</span>&lt;/Button&gt;
            &lt;Button handleClick=&#123;handleDecrement&#125;&gt;å‡å°‘<span class="hljs-number">1</span>&lt;/Button&gt;
        &lt;/div&gt;
    );

    <span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">&#123;handleClick,children&#125;</span>) =&gt;</span>(
        &lt;button onClick=&#123;handleClick&#125;&gt;&#123;children&#125;&lt;/button&gt;
    );

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>
<p>æ³¨æ„è§‚å¯Ÿä¸Šè¿°ä»£ç æ˜¯å¦‚ä½•æ›´æ–°å½“å‰çš„countå€¼çš„ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨setCount çŠ¶æ€å‡½æ•°æ¥æ›´æ–°stateã€‚ç”±äºæ¥æºäºuseStateçš„setter function æœ¬è´¨ä¸Šæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå› æ­¤å¿…é¡»ç¡®ä¿æ˜¯å¯¹å½“å‰çŠ¶æ€è€Œä¸æ˜¯ä»»ä½•è¿‡æ—¶çŠ¶æ€æ‰§è¡Œæ›´æ–°ã€‚</p>
<p>äº†è§£æ›´å¤šï¼Œå¯å‚è€ƒ<a target="_blank" rel="noopener" href="https://www.robinwieruch.de/react-hooks-fetch-data"> how to fetch data with Function Components with React Hooks.</a></p>
<h4 id="åã€å‡½æ•°ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå®ç°â€”â€”LifeCyrcle"><a href="#åã€å‡½æ•°ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå®ç°â€”â€”LifeCyrcle" class="headerlink" title="åã€å‡½æ•°ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå®ç°â€”â€”LifeCyrcle"></a>åã€å‡½æ•°ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå®ç°â€”â€”LifeCyrcle</h4><p>å¦‚æœä½ ä¹‹å‰ä½¿ç”¨è¿‡ç±»ç»„ä»¶ï¼Œä¸€å®šç”¨è¿‡componentDidMoutã€componentWillUnmountã€shouldComponentUpdateç­‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚ä½†æ˜¯åœ¨å‡½æ•°ç»„ä»¶ä¸­æ²¡æœ‰è¿™äº›æ–¹æ³•ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å®ç°å®ƒä»¬ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨å‡½æ•°ç»„ä»¶ä¸­æ²¡æœ‰constructorã€‚åœ¨ç±»ç»„ä»¶ä¸­ï¼Œconstructoré€šå¸¸è¢«ç”¨æ¥è®¾ç½®initial stateã€‚ä½†æ˜¯åœ¨å‡½æ•°ç»„ä»¶ä¸­æˆ‘ä»¬ä½¿ç”¨useState hookå°±å¯ä»¥è®¾ç½®initial stateï¼Œå¹¶ä¸”å¯ä»¥åŒæ—¶å¾—åˆ°ä¸€ä¸ªsetter function ç”¨äºä¹‹åçš„ä¸šåŠ¡é€»è¾‘ã€‚<br><img src="https://pic.downk.cc/item/5fd185883ffa7d37b3e1c35a.jpg" srcset="/img/loading.gif"></p>
<p><strong>1.Funcitonal Component:  Mount</strong></p>
<p>reactç»„ä»¶åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€ä¸ªmountingçš„é˜¶æ®µã€‚å¦‚æœä½ æƒ³åœ¨å‡½æ•°å¼ç»„ä»¶é‡Œï¼Œå½“ç»„ä»¶<strong>did mount</strong>çš„æ—¶å€™æ‰§è¡Œä¸€äº›é€»è¾‘ï¼Œå¯ä»¥ä½¿ç”¨<strong>useEffect</strong> hook:</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React ,&#123; useState, useEffect&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;
    <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">() =&gt;</span>
        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currntCount+<span class="hljs-number">1</span>);
    
    <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">() =&gt;</span>
        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currntCount-<span class="hljs-number">1</span>);

    useEffect(<span class="hljs-function">()=&gt;</span>setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount + <span class="hljs-number">1</span>),[]);

    <span class="hljs-keyword">return</span> (
        &lt;div&gt;
            &lt;h1&gt;&#123;count&#125;&lt;/h1&gt;

            &lt;button onClick=&#123;handleIncrement&#125;&gt;Increment&lt;/button&gt;

            &lt;button onClick=&#123;handleDecrement&#125;&gt;Decrement&lt;/button&gt;
        &lt;/div&gt;
    )
&#125;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>
<p>å½“æˆ‘ä»¬è¿è¡Œè¿™æ®µä»£ç çš„æ—¶å€™ï¼Œè¿™ä¸ªç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ä¼šæ˜¾ç¤ºcountçš„åˆå§‹çŠ¶æ€å€¼0ï¼Œç„¶åå½“component did mountåï¼ŒEffect hook ä¼šå°†countè®¾ç½®ä¸º1ã€‚</p>
<p>ğŸ–ï¼šEffect hookä¸­çš„ç¬¬äºŒä¸ªå‚æ•°ï¼ˆ1ä¸ªç©ºæ•°ç»„ï¼‰æ˜¯éå¸¸é‡è¦çš„ï¼Œå®ƒç¡®ä¿äº†åªæœ‰åœ¨è¿™ä¸ªç»„ä»¶åŠ è½½ï¼ˆmount)æˆ–è€…ç»„ä»¶å¸è½½ï¼ˆunmount)æ—¶æ‰è§¦å‘äº‹ä»¶ã€‚å¦‚æœä¸å°å¿ƒæ¼æ‰äº†è¿™ä¸ªç©ºæ•°ç»„ï¼Œæˆ‘ä»¬ä¼šé™·å…¥countä¸æ–­åŠ 1çš„æ­»å¾ªç¯ï¼Œå› ä¸ºå½“stateæ›´æ–°äº†Effect hookæ€»æ˜¯ä¼šæ‰§è¡Œã€‚ç„¶åEffectæ‰§è¡Œåˆä¼šè§¦å‘stateæ›´æ–°ï¼Œè¿™æ ·å°±ä¼šä¸åœåœ°å¯¹count+1<br><font color=green>todo: è¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨ç©ºæ•°ç»„è€Œä¸æ˜¯åˆ«çš„å‘¢ï¼Ÿï¼Ÿ</font></p>
<p><strong>2.Funcitonal Component:  Update</strong></p>
<p>æ¯æ¬¡å½“å…¥å‚propsæˆ–è€…æ˜¯ç»„ä»¶æœ¬èº«çš„stateå˜åŒ–æ—¶ï¼Œreactç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“ä»¥å±•ç¤ºæœ€æ–°çš„status(from props and state)ã€‚åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œä¸€æ¬¡renderä¼šæ‰§è¡Œå‡½æ•°ä½“çš„æ‰€æœ‰å†…å®¹ã€‚</p>
<p>å¦‚æœå‡½æ•°ç»„ä»¶æ²¡æœ‰æ­£ç¡®åœ°æŒ‰ç…§é¢„æœŸæ›´æ–°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨console.logæ§åˆ¶å°è¾“å‡ºstateå’Œpropsçš„å€¼æ¥debugã€‚å¦‚æœè¿™ä¸¤è€…çš„å€¼éƒ½æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¸ä¼šæœ‰æ–°çš„renderæ‰§è¡Œã€‚<br><img src="https://pic.downk.cc/item/5fd1ca843ffa7d37b32b3cee.jpg" srcset="/img/loading.gif"></p>
<p>å¦‚æœæˆ‘ä»¬æƒ³å¯¹ç»„ä»¶é‡æ–°æ¸²æŸ“è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å†ä¸€æ¬¡ä½¿ç”¨ Effect Hook (åœ¨ç»„ä»¶did updateä¹‹å)ï¼š</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123;useEffect, useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span>&#123;
    <span class="hljs-comment">//countçš„åˆå§‹å€¼æ¥æºäºæœ¬åœ°å­˜å‚¨ä¸­çš„å€¼æˆ–0</span>
    <span class="hljs-keyword">const</span> initialCount = +<span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&#x27;storageCount&#x27;</span>)||<span class="hljs-number">0</span>;
    <span class="hljs-keyword">const</span> [count,setCount]=useState(initialCount);

    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">() =&gt;</span>
        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount + <span class="hljs-number">1</span>);
 
    <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">() =&gt;</span>
        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount - <span class="hljs-number">1</span>);
    <span class="hljs-comment">//æ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œcountéƒ½ä¼šè¢«å­˜å…¥æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨</span>
    useEffect(<span class="hljs-function">()=&gt;</span><span class="hljs-built_in">localStorage</span>.setItem(<span class="hljs-string">&#x27;storageCount&#x27;</span>,count));

    <span class="hljs-keyword">return</span> (
        &lt;div&gt;
            &lt;h1&gt;&#123;count&#125;&lt;/h1&gt;

            &lt;button onClick=&#123;handleIncrement&#125;&gt;+<span class="hljs-number">1</span>&lt;/button&gt;

            &lt;button onClick=&#123;handleDecrement&#125;&gt;-<span class="hljs-number">1</span>&lt;/button&gt;
        &lt;/div&gt;
    )
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<p>ä½ è¿˜å¯ä»¥é€šè¿‡ç»™Effect Hook ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°ï¼ˆæ˜¯ä¸ªæ•°ç»„ï¼‰çš„æ–¹å¼ï¼Œæ¥æ§åˆ¶å®ƒä»€ä¹ˆæ—¶å€™è¿è¡Œã€‚æ¯å½“ç¬¬äºŒä¸ªå‚æ•°ä¸­çš„å˜é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒEffect Hookå°±ä¼šrunã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œåªæœ‰å½“countå‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰å°†å…¶å­˜å…¥localStorage:<br><img src="https://pic.downk.cc/item/5fd1cdb33ffa7d37b32ef914.jpg" srcset="/img/loading.gif"></p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æ€»ç»“ï¼ŒEffect Hookå‡½æ•°ä¸­ç¬¬äºŒä¸ªå‚æ•°å€¼çš„ç”¨æ³•ï¼šï¼ˆé€šè¿‡ç¬¬äºŒä¸ªå‚æ•°å€¼æ¥æ§åˆ¶å®ƒä½•æ—¶run)</p>
<ul>
<li>every time(no argumentï¼Œä¸ä¼ ç¬¬äºŒä¸ªå‚æ•°)</li>
<li>only on mount or unmount ([]argument, ç©ºæ•°ç»„)</li>
<li>only when a certain variable changes(ä¾‹å¦‚[count]ï¼Œæ•°ç»„ä¸­æ”¾å…¥æŒ‡å®šå˜é‡)</li>
</ul>
<p>ğŸ–ï¼šforceUpdate APIå¯ä»¥å¼ºåˆ¶è®©ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯æˆ‘ä»¬åº”è¯¥è°¨æ…ä½¿ç”¨ ï¼Œå‚è€ƒ<a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#forceupdate">forceUpdate</a>ä»¥åŠ <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-faq.html#is-there-something-like-forceupdate">Is there something like forceUpdate</a></p>
<h4 id="åä¸€ã€çº¯å‡½æ•°ç»„ä»¶â€”â€”Pure-React-Funtion-Component"><a href="#åä¸€ã€çº¯å‡½æ•°ç»„ä»¶â€”â€”Pure-React-Funtion-Component" class="headerlink" title="åä¸€ã€çº¯å‡½æ•°ç»„ä»¶â€”â€”Pure React Funtion Component"></a>åä¸€ã€çº¯å‡½æ•°ç»„ä»¶â€”â€”Pure React Funtion Component</h4><p>ç±»ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨PureComponent æˆ–è€… shouldComponentUpdate æ¥é¿å…é‡æ–°æ¸²æŸ“å¯¼è‡´çš„æ€§èƒ½ç“¶é¢ˆã€<a target="_blank" rel="noopener" href="https://www.robinwieruch.de/react-prevent-rerender-component">avoid performance bottlenecks in React by preventing rereders</a>ã€‘ã€‚è®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App =<span class="hljs-function">()=&gt;</span>&#123;
    <span class="hljs-keyword">const</span> [greeting,setGreeting]=useState(<span class="hljs-string">&#x27;hello react&#x27;</span>);
    <span class="hljs-keyword">const</span>[count,setCount]=useState(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">()=&gt;</span>
        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span>=&gt;</span>currentCount+<span class="hljs-number">1</span>);

    <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">()=&gt;</span>
        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span>=&gt;</span>currentCount-<span class="hljs-number">1</span>);
    
    <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setGreeting(event.target.value);

    <span class="hljs-keyword">return</span> (
        &lt;div&gt;
            &lt;input onChange=&#123;handleChange&#125; /&gt;

            &lt;Count count=&#123;count&#125; /&gt;
            &lt;button onClick=&#123;handleIncrement&#125;&gt;Increment&lt;/button&gt;
            &lt;button onClick=&#123;handleDecrement&#125;&gt;Decrement&lt;/button&gt;
        &lt;/div&gt;
    )
&#125;;

<span class="hljs-keyword">const</span> Count=<span class="hljs-function">(<span class="hljs-params">&#123;count&#125;</span>)=&gt;</span>&#123;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;Does it (re)render?&#x27;</span>);

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯å½“æˆ‘ä»¬å‘inputè¾“å…¥æ¡†è¾“å…¥å†…å®¹æ—¶ï¼Œè¿™ä¸ªAppç»„ä»¶å°±ä¼šæ›´æ–°å®ƒçš„staterç„¶åé‡æ–°æ¸²æŸ“ã€‚ä¸æ­¤åŒæ—¶ï¼ŒCountç»„ä»¶ä¹Ÿä¼šé‡æ–°æ¸²æŸ“ï¼ˆåœ¨æ§åˆ¶å°ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ¯æ¬¡æˆ‘ä»¬åœ¨è¾“å…¥æ¡†é‡Œæ“ä½œï¼Œå°±ä¼šæ‰“å°â€œDoes it (re)render?â€è¿™å¥ï¼‰ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œreactå‡½æ•°ç»„ä»¶ä½¿ç”¨React Memoã€<a target="_blank" rel="noopener" href="https://reactjs.org/docs/react-api.html">Reactâ€™s top level APIs</a>ã€‘æ¥é˜»æ­¢å½“propsæ²¡æœ‰å˜åŒ–æ—¶çš„é‡æ–°æ¸²æŸ“ã€‚</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React,&#123;useState, memo&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> APP=<span class="hljs-function">()=&gt;</span>&#123;
    <span class="hljs-keyword">const</span> [greeting,setGreeting] = useState(<span class="hljs-string">&#x27;hello react&#x27;</span>);
    <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">const</span> handleIncrement = <span class="hljs-function">() =&gt;</span>
        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount + <span class="hljs-number">1</span>);
 
    <span class="hljs-keyword">const</span> handleDecrement = <span class="hljs-function">() =&gt;</span>
        setCount(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> currentCount - <span class="hljs-number">1</span>);
 
  <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> setGreeting(event.target.value);
 
  <span class="hljs-keyword">return</span> (
    &lt;div&gt;
      &lt;input type=<span class="hljs-string">&quot;text&quot;</span> onChange=&#123;handleChange&#125; /&gt;
 
      &lt;Count count=&#123;count&#125; /&gt;
 
      &lt;button type=<span class="hljs-string">&quot;button&quot;</span> onClick=&#123;handleIncrement&#125;&gt;
        Increment
      &lt;/button&gt;
      &lt;button type=<span class="hljs-string">&quot;button&quot;</span> onClick=&#123;handleDecrement&#125;&gt;
        Decrement
      &lt;/button&gt;
    &lt;/div&gt;
  );
&#125;

<span class="hljs-comment">//memoæ—¶æŠŠæ•´ä¸ªç®­å¤´å‡½æ•°çš„å†…å®¹åŒ…è£¹èµ·æ¥</span>
<span class="hljs-keyword">const</span> Count = memo(<span class="hljs-function">(<span class="hljs-params">&#123;count&#125;</span>) =&gt;</span> &#123;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;does it (re)render?&#x27;</span>);

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
&#125;);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre>

<p>ç°åœ¨æˆ‘ä»¬å†æ¥è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œå½“æˆ‘ä»¬å‘inputè¾“å…¥æ¡†è¾“å…¥å†…å®¹æ—¶ï¼Œåªæœ‰Appç»„ä»¶ä¼šrerender, Countç»„ä»¶ä¸å†rerenderäº†ï¼å½“ç„¶ï¼Œè¿™ç§æ€§èƒ½ä¼˜åŒ–ä¸åº”è¯¥ä½œä¸ºé»˜è®¤è®¾ç½®ã€‚å½“é‡æ–°æ¸²æŸ“ç»„ä»¶æ—¶é—´è¿‡é•¿é‡åˆ°é—®é¢˜æ—¶å¯ä»¥è¿›è¡Œç±»ä¼¼çš„æ£€æŸ¥ã€‚ï¼ˆæ¯”å¦‚ï¼Œrenderingå’Œupdating Tableç»„ä»¶ä¸­çš„å¤§é‡å†…å®¹ï¼‰</p>
<h4 id="åäºŒã€React-Function-Component-Ref"><a href="#åäºŒã€React-Function-Component-Ref" class="headerlink" title="åäºŒã€React Function Component: Ref"></a>åäºŒã€React Function Component: Ref</h4><p>refsä¸€èˆ¬åªåœ¨å°‘æ•°åœºæ™¯ä¸‹ä½¿ç”¨ï¼š</p>
<ul>
<li>ç®¡ç†ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©æˆ–è€…æ—¶åª’ä½“æ’­æ”¾</li>
<li>è§¦å‘å¼ºåˆ¶åŠ¨ç”»</li>
<li>é›†æˆç¬¬ä¸‰æ–¹DOMåº“</li>
</ul>
<p>åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ä½¿ç”¨refsï¼Œè¦å¼•å…¥useRefã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œinputè¾“å…¥æ¡†å°†è·å¾—ç„¦ç‚¹ï¼ˆafter component did mount)</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> React,&#123;useState, useEffect, useRef&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;

<span class="hljs-keyword">const</span> App=<span class="hljs-function">()=&gt;</span>&#123;
    <span class="hljs-keyword">const</span> [greeting, setGreeting] = useState(<span class="hljs-string">&#x27;hello Reactï¼&#x27;</span>);

    <span class="hljs-keyword">const</span> handleChange = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span>setGreeting(event.target.value);

    <span class="hljs-keyword">return</span>(
        &lt;div&gt;
            &lt;h1&gt;&#123;greeting&#125;&lt;/h1&gt;
            &lt;Input value=&#123;greeting&#125; handleChange=&#123;handleChange&#125; /&gt;
        &lt;/div&gt;
    )
&#125;;

<span class="hljs-keyword">const</span> Input=<span class="hljs-function">(<span class="hljs-params">&#123;value,handleChange&#125;</span>)=&gt;</span>&#123;
    <span class="hljs-keyword">const</span> ref=useRef();

    useEffect(<span class="hljs-function">()=&gt;</span>ref.current.focus(),[]);

    <span class="hljs-keyword">return</span> (
        &lt;input 
            type=<span class="hljs-string">&#x27;text&#x27;</span> 
            value=&#123;value&#125; 
            onChange=&#123;handleChange&#125; 
            ref=&#123;ref&#125;
        /&gt;
    )
&#125;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</code></pre>
<p>ä½†æ˜¯ä¸èƒ½ç»™ä¸€ä¸ªå‡½æ•°ç»„ä»¶æä¾›ä¸€ä¸ªrefä½œä¸ºpropsçš„ä¸€éƒ¨åˆ†ï¼The ref will be assigned to the component but not to the actual DOM node!<br><img src="https://pic.downk.cc/item/5fd1e2873ffa7d37b34ab442.jpg" srcset="/img/loading.gif"></p>
<p>è¿™æ ·å†™ä¼šæŠ¥é”™ï¼å› ä¸ºrefæŒ‡ä»£çš„ä¸æ˜¯ä¸€ä¸ªçœŸå®çš„domèŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¸€ä¸ªç»„ä»¶å®ä¾‹ã€‚</p>
<p><img src="https://pic.downk.cc/item/5fd1e2e03ffa7d37b34b4e87.jpg" srcset="/img/loading.gif"></p>
<p>ä»ä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å¹¶ä¸æ¨èçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªrefï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¯´â€React function component canâ€™t have  refsâ€ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬ä¸å¾—ä¸å‘ä¸€ä¸ªå‡½æ•°ç»„ä»¶ä¼ é€’ä¸€ä¸ªref(ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³æµ‹é‡ä¸€ä¸ªå‡½æ•°ç»„ä»¶DOMèŠ‚ç‚¹çš„æ•°é‡)ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥<a target="_blank" rel="noopener" href="https://reactjs.org/docs/forwarding-refs.html">forward the ref</a></p>
<p><img src="https://pic.downk.cc/item/5fd1e4643ffa7d37b3519759.jpg" srcset="/img/loading.gif" alt="forwardRef"></p>
<p>æƒ³çŸ¥é“æ›´å¤šå…³äºrefçš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://www.robinwieruch.de/react-ref-attribute-dom-node">How to use Ref in React</a> ä»¥åŠ <a target="_blank" rel="noopener" href="https://reactjs.org/docs/refs-and-the-dom.html">React å®˜æ–¹æ–‡æ¡£â€”â€”Refs and the DOM</a></p>
<p>å…¨æ–‡å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.robinwieruch.de/react-function-component">React Function Components</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/React%E5%AD%A6%E4%B9%A0/">Reactå­¦ä¹ </a>
                    
                  </div>
                
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2020/12/09/React05-%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6%E4%B8%8E%E9%9D%9E%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">React05-å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2020/12/08/JS01-%E7%90%86%E8%A7%A3JavaScript%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%92%8Cthis/">
                        <span class="hidden-mobile">JS01-ç†è§£JavaScriptå‡½æ•°è°ƒç”¨å’Œthis</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":200})
    NProgress.start()
    document.addEventListener('DOMContentLoaded', function() {
      window.NProgress && window.NProgress.inc();
    })
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js" ></script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>





  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>















<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>



</body>
</html>
